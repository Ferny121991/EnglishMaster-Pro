function L4(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const r=Object.getOwnPropertyDescriptor(s,i);r&&Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function R2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var I2={exports:{}},nf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z4=Symbol.for("react.transitional.element"),U4=Symbol.for("react.fragment");function k2(t,e,n){var s=null;if(n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:z4,type:t,key:s,ref:e!==void 0?e:null,props:n}}nf.Fragment=U4;nf.jsx=k2;nf.jsxs=k2;I2.exports=nf;var a=I2.exports,D2={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0=Symbol.for("react.transitional.element"),B4=Symbol.for("react.portal"),F4=Symbol.for("react.fragment"),$4=Symbol.for("react.strict_mode"),H4=Symbol.for("react.profiler"),G4=Symbol.for("react.consumer"),K4=Symbol.for("react.context"),Q4=Symbol.for("react.forward_ref"),q4=Symbol.for("react.suspense"),Y4=Symbol.for("react.memo"),M2=Symbol.for("react.lazy"),X4=Symbol.for("react.activity"),Qv=Symbol.iterator;function W4(t){return t===null||typeof t!="object"?null:(t=Qv&&t[Qv]||t["@@iterator"],typeof t=="function"?t:null)}var O2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V2=Object.assign,P2={};function Wo(t,e,n){this.props=t,this.context=e,this.refs=P2,this.updater=n||O2}Wo.prototype.isReactComponent={};Wo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function L2(){}L2.prototype=Wo.prototype;function S0(t,e,n){this.props=t,this.context=e,this.refs=P2,this.updater=n||O2}var T0=S0.prototype=new L2;T0.constructor=S0;V2(T0,Wo.prototype);T0.isPureReactComponent=!0;var qv=Array.isArray;function kp(){}var st={H:null,A:null,T:null,S:null},z2=Object.prototype.hasOwnProperty;function E0(t,e,n){var s=n.ref;return{$$typeof:N0,type:t,key:e,ref:s!==void 0?s:null,props:n}}function J4(t,e){return E0(t.type,e,t.props)}function A0(t){return typeof t=="object"&&t!==null&&t.$$typeof===N0}function Z4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Yv=/\/+/g;function ym(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Z4(""+t.key):e.toString(36)}function eR(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(kp,kp):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function $a(t,e,n,s,i){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"bigint":case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case N0:case B4:o=!0;break;case M2:return o=t._init,$a(o(t._payload),e,n,s,i)}}if(o)return i=i(t),o=s===""?"."+ym(t,0):s,qv(i)?(n="",o!=null&&(n=o.replace(Yv,"$&/")+"/"),$a(i,e,n,"",function(d){return d})):i!=null&&(A0(i)&&(i=J4(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(Yv,"$&/")+"/")+o)),e.push(i)),1;o=0;var l=s===""?".":s+":";if(qv(t))for(var c=0;c<t.length;c++)s=t[c],r=l+ym(s,c),o+=$a(s,e,n,r,i);else if(c=W4(t),typeof c=="function")for(t=c.call(t),c=0;!(s=t.next()).done;)s=s.value,r=l+ym(s,c++),o+=$a(s,e,n,r,i);else if(r==="object"){if(typeof t.then=="function")return $a(eR(t),e,n,s,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return o}function Yu(t,e,n){if(t==null)return t;var s=[],i=0;return $a(t,s,"","",function(r){return e.call(n,r,i++)}),s}function tR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xv=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},nR={map:Yu,forEach:function(t,e,n){Yu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yu(t,function(){e++}),e},toArray:function(t){return Yu(t,function(e){return e})||[]},only:function(t){if(!A0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Activity=X4;Se.Children=nR;Se.Component=Wo;Se.Fragment=F4;Se.Profiler=H4;Se.PureComponent=S0;Se.StrictMode=$4;Se.Suspense=q4;Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st;Se.__COMPILER_RUNTIME={__proto__:null,c:function(t){return st.H.useMemoCache(t)}};Se.cache=function(t){return function(){return t.apply(null,arguments)}};Se.cacheSignal=function(){return null};Se.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var s=V2({},t.props),i=t.key;if(e!=null)for(r in e.key!==void 0&&(i=""+e.key),e)!z2.call(e,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&e.ref===void 0||(s[r]=e[r]);var r=arguments.length-2;if(r===1)s.children=n;else if(1<r){for(var o=Array(r),l=0;l<r;l++)o[l]=arguments[l+2];s.children=o}return E0(t.type,i,s)};Se.createContext=function(t){return t={$$typeof:K4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:G4,_context:t},t};Se.createElement=function(t,e,n){var s,i={},r=null;if(e!=null)for(s in e.key!==void 0&&(r=""+e.key),e)z2.call(e,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(i[s]=e[s]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(s in o=t.defaultProps,o)i[s]===void 0&&(i[s]=o[s]);return E0(t,r,i)};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:Q4,render:t}};Se.isValidElement=A0;Se.lazy=function(t){return{$$typeof:M2,_payload:{_status:-1,_result:t},_init:tR}};Se.memo=function(t,e){return{$$typeof:Y4,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=st.T,n={};st.T=n;try{var s=t(),i=st.S;i!==null&&i(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(kp,Xv)}catch(r){Xv(r)}finally{e!==null&&n.types!==null&&(e.types=n.types),st.T=e}};Se.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()};Se.use=function(t){return st.H.use(t)};Se.useActionState=function(t,e,n){return st.H.useActionState(t,e,n)};Se.useCallback=function(t,e){return st.H.useCallback(t,e)};Se.useContext=function(t){return st.H.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t,e){return st.H.useDeferredValue(t,e)};Se.useEffect=function(t,e){return st.H.useEffect(t,e)};Se.useEffectEvent=function(t){return st.H.useEffectEvent(t)};Se.useId=function(){return st.H.useId()};Se.useImperativeHandle=function(t,e,n){return st.H.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return st.H.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return st.H.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return st.H.useMemo(t,e)};Se.useOptimistic=function(t,e){return st.H.useOptimistic(t,e)};Se.useReducer=function(t,e,n){return st.H.useReducer(t,e,n)};Se.useRef=function(t){return st.H.useRef(t)};Se.useState=function(t){return st.H.useState(t)};Se.useSyncExternalStore=function(t,e,n){return st.H.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return st.H.useTransition()};Se.version="19.2.3";D2.exports=Se;var I=D2.exports;const U2=R2(I),sR=L4({__proto__:null,default:U2},[I]);var B2={exports:{}},sf={},F2={exports:{}},$2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,z){var U=V.length;V.push(z);e:for(;0<U;){var ee=U-1>>>1,$=V[ee];if(0<i($,z))V[ee]=z,V[U]=$,U=ee;else break e}}function n(V){return V.length===0?null:V[0]}function s(V){if(V.length===0)return null;var z=V[0],U=V.pop();if(U!==z){V[0]=U;e:for(var ee=0,$=V.length,W=$>>>1;ee<W;){var we=2*(ee+1)-1,ue=V[we],ye=we+1,J=V[ye];if(0>i(ue,U))ye<$&&0>i(J,ue)?(V[ee]=J,V[ye]=U,ee=ye):(V[ee]=ue,V[we]=U,ee=we);else if(ye<$&&0>i(J,U))V[ee]=J,V[ye]=U,ee=ye;else break e}}return z}function i(V,z){var U=V.sortIndex-z.sortIndex;return U!==0?U:V.id-z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,f=null,m=3,y=!1,S=!1,R=!1,j=!1,N=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function E(V){for(var z=n(d);z!==null;){if(z.callback===null)s(d);else if(z.startTime<=V)s(d),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(d)}}function M(V){if(R=!1,E(V),!S)if(n(c)!==null)S=!0,L||(L=!0,C());else{var z=n(d);z!==null&&P(M,z.startTime-V)}}var L=!1,T=-1,p=5,w=-1;function A(){return j?!0:!(t.unstable_now()-w<p)}function k(){if(j=!1,L){var V=t.unstable_now();w=V;var z=!0;try{e:{S=!1,R&&(R=!1,x(T),T=-1),y=!0;var U=m;try{t:{for(E(V),f=n(c);f!==null&&!(f.expirationTime>V&&A());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,m=f.priorityLevel;var $=ee(f.expirationTime<=V);if(V=t.unstable_now(),typeof $=="function"){f.callback=$,E(V),z=!0;break t}f===n(c)&&s(c),E(V)}else s(c);f=n(c)}if(f!==null)z=!0;else{var W=n(d);W!==null&&P(M,W.startTime-V),z=!1}}break e}finally{f=null,m=U,y=!1}z=void 0}}finally{z?C():L=!1}}}var C;if(typeof v=="function")C=function(){v(k)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,O=b.port2;b.port1.onmessage=k,C=function(){O.postMessage(null)}}else C=function(){N(k,0)};function P(V,z){T=N(function(){V(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):p=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(V){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var U=m;m=z;try{return V()}finally{m=U}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(V,z){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var U=m;m=V;try{return z()}finally{m=U}},t.unstable_scheduleCallback=function(V,z,U){var ee=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ee+U:ee):U=ee,V){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=U+$,V={id:h++,callback:z,priorityLevel:V,startTime:U,expirationTime:$,sortIndex:-1},U>ee?(V.sortIndex=U,e(d,V),n(c)===null&&V===n(d)&&(R?(x(T),T=-1):R=!0,P(M,U-ee))):(V.sortIndex=$,e(c,V),S||y||(S=!0,L||(L=!0,C()))),V},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(V){var z=m;return function(){var U=m;m=z;try{return V.apply(this,arguments)}finally{m=U}}}})($2);F2.exports=$2;var iR=F2.exports,H2={exports:{}},xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rR=I;function G2(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Oi(){}var gn={d:{f:Oi,r:function(){throw Error(G2(522))},D:Oi,C:Oi,L:Oi,m:Oi,X:Oi,S:Oi,M:Oi},p:0,findDOMNode:null},aR=Symbol.for("react.portal");function oR(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:aR,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}var nc=rR.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function rf(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=gn;xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(G2(299));return oR(t,e,null,n)};xn.flushSync=function(t){var e=nc.T,n=gn.p;try{if(nc.T=null,gn.p=2,t)return t()}finally{nc.T=e,gn.p=n,gn.d.f()}};xn.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,gn.d.C(t,e))};xn.prefetchDNS=function(t){typeof t=="string"&&gn.d.D(t)};xn.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,s=rf(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,r=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?gn.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:s,integrity:i,fetchPriority:r}):n==="script"&&gn.d.X(t,{crossOrigin:s,integrity:i,fetchPriority:r,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};xn.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=rf(e.as,e.crossOrigin);gn.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&gn.d.M(t)};xn.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,s=rf(n,e.crossOrigin);gn.d.L(t,n,{crossOrigin:s,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};xn.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=rf(e.as,e.crossOrigin);gn.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else gn.d.m(t)};xn.requestFormReset=function(t){gn.d.r(t)};xn.unstable_batchedUpdates=function(t,e){return t(e)};xn.useFormState=function(t,e,n){return nc.H.useFormState(t,e,n)};xn.useFormStatus=function(){return nc.H.useHostTransitionStatus()};xn.version="19.2.3";function K2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(K2)}catch(t){console.error(t)}}K2(),H2.exports=xn;var lR=H2.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vt=iR,Q2=I,cR=lR;function K(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function q2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ou(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Y2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function X2(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wv(t){if(ou(t)!==t)throw Error(K(188))}function uR(t){var e=t.alternate;if(!e){if(e=ou(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,s=e;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return Wv(i),t;if(r===s)return Wv(i),e;r=r.sibling}throw Error(K(188))}if(n.return!==s.return)n=i,s=r;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,s=r;break}if(l===s){o=!0,s=i,n=r;break}l=l.sibling}if(!o){for(l=r.child;l;){if(l===n){o=!0,n=r,s=i;break}if(l===s){o=!0,s=r,n=i;break}l=l.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==s)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function W2(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=W2(t),e!==null)return e;t=t.sibling}return null}var rt=Object.assign,dR=Symbol.for("react.element"),Xu=Symbol.for("react.transitional.element"),Bl=Symbol.for("react.portal"),Xa=Symbol.for("react.fragment"),J2=Symbol.for("react.strict_mode"),Dp=Symbol.for("react.profiler"),Z2=Symbol.for("react.consumer"),Js=Symbol.for("react.context"),j0=Symbol.for("react.forward_ref"),Mp=Symbol.for("react.suspense"),Op=Symbol.for("react.suspense_list"),C0=Symbol.for("react.memo"),zi=Symbol.for("react.lazy"),Vp=Symbol.for("react.activity"),hR=Symbol.for("react.memo_cache_sentinel"),Jv=Symbol.iterator;function Il(t){return t===null||typeof t!="object"?null:(t=Jv&&t[Jv]||t["@@iterator"],typeof t=="function"?t:null)}var fR=Symbol.for("react.client.reference");function Pp(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===fR?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xa:return"Fragment";case Dp:return"Profiler";case J2:return"StrictMode";case Mp:return"Suspense";case Op:return"SuspenseList";case Vp:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Bl:return"Portal";case Js:return t.displayName||"Context";case Z2:return(t._context.displayName||"Context")+".Consumer";case j0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C0:return e=t.displayName||null,e!==null?e:Pp(t.type)||"Memo";case zi:e=t._payload,t=t._init;try{return Pp(t(e))}catch{}}return null}var Fl=Array.isArray,be=Q2.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Be=cR.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,sa={pending:!1,data:null,method:null,action:null},Lp=[],Wa=-1;function zs(t){return{current:t}}function Ft(t){0>Wa||(t.current=Lp[Wa],Lp[Wa]=null,Wa--)}function We(t,e){Wa++,Lp[Wa]=t.current,t.current=e}var Rs=zs(null),Cc=zs(null),nr=zs(null),Xd=zs(null);function Wd(t,e){switch(We(nr,e),We(Cc,t),We(Rs,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?i1(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=i1(e),t=vT(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ft(Rs),We(Rs,t)}function Eo(){Ft(Rs),Ft(Cc),Ft(nr)}function zp(t){t.memoizedState!==null&&We(Xd,t);var e=Rs.current,n=vT(e,t.type);e!==n&&(We(Cc,t),We(Rs,n))}function Jd(t){Cc.current===t&&(Ft(Rs),Ft(Cc)),Xd.current===t&&(Ft(Xd),Uc._currentValue=sa)}var vm,Zv;function Hr(t){if(vm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);vm=e&&e[1]||"",Zv=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vm+t+Zv}var bm=!1;function wm(t,e){if(!t||bm)return"";bm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(y){var m=y}Reflect.construct(t,[],f)}else{try{f.call()}catch(y){m=y}t.call(f.prototype)}}else{try{throw Error()}catch(y){m=y}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(y){if(y&&m&&typeof y.stack=="string")return[y.stack,m.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=s.DetermineComponentFrameRoot(),o=r[0],l=r[1];if(o&&l){var c=o.split(`
`),d=l.split(`
`);for(i=s=0;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;for(;i<d.length&&!d[i].includes("DetermineComponentFrameRoot");)i++;if(s===c.length||i===d.length)for(s=c.length-1,i=d.length-1;1<=s&&0<=i&&c[s]!==d[i];)i--;for(;1<=s&&0<=i;s--,i--)if(c[s]!==d[i]){if(s!==1||i!==1)do if(s--,i--,0>i||c[s]!==d[i]){var h=`
`+c[s].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=s&&0<=i);break}}}finally{bm=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Hr(n):""}function mR(t,e){switch(t.tag){case 26:case 27:case 5:return Hr(t.type);case 16:return Hr("Lazy");case 13:return t.child!==e&&e!==null?Hr("Suspense Fallback"):Hr("Suspense");case 19:return Hr("SuspenseList");case 0:case 15:return wm(t.type,!1);case 11:return wm(t.type.render,!1);case 1:return wm(t.type,!0);case 31:return Hr("Activity");default:return""}}function eb(t){try{var e="",n=null;do e+=mR(t,n),n=t,t=t.return;while(t);return e}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Up=Object.prototype.hasOwnProperty,R0=Vt.unstable_scheduleCallback,_m=Vt.unstable_cancelCallback,pR=Vt.unstable_shouldYield,gR=Vt.unstable_requestPaint,Ln=Vt.unstable_now,xR=Vt.unstable_getCurrentPriorityLevel,eN=Vt.unstable_ImmediatePriority,tN=Vt.unstable_UserBlockingPriority,Zd=Vt.unstable_NormalPriority,yR=Vt.unstable_LowPriority,nN=Vt.unstable_IdlePriority,vR=Vt.log,bR=Vt.unstable_setDisableYieldValue,lu=null,zn=null;function Yi(t){if(typeof vR=="function"&&bR(t),zn&&typeof zn.setStrictMode=="function")try{zn.setStrictMode(lu,t)}catch{}}var Un=Math.clz32?Math.clz32:NR,wR=Math.log,_R=Math.LN2;function NR(t){return t>>>=0,t===0?32:31-(wR(t)/_R|0)|0}var Wu=256,Ju=262144,Zu=4194304;function Gr(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function af(t,e,n){var s=t.pendingLanes;if(s===0)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes;t=t.warmLanes;var l=s&134217727;return l!==0?(s=l&~r,s!==0?i=Gr(s):(o&=l,o!==0?i=Gr(o):n||(n=l&~t,n!==0&&(i=Gr(n))))):(l=s&~r,l!==0?i=Gr(l):o!==0?i=Gr(o):n||(n=s&~t,n!==0&&(i=Gr(n)))),i===0?0:e!==0&&e!==i&&!(e&r)&&(r=i&-i,n=e&-e,r>=n||r===32&&(n&4194048)!==0)?e:i}function cu(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function SR(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sN(){var t=Zu;return Zu<<=1,!(Zu&62914560)&&(Zu=4194304),t}function Nm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uu(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function TR(t,e,n,s,i,r){var o=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,c=t.expirationTimes,d=t.hiddenUpdates;for(n=o&~n;0<n;){var h=31-Un(n),f=1<<h;l[h]=0,c[h]=-1;var m=d[h];if(m!==null)for(d[h]=null,h=0;h<m.length;h++){var y=m[h];y!==null&&(y.lane&=-536870913)}n&=~f}s!==0&&iN(t,s,0),r!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=r&~(o&~e))}function iN(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-Un(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|n&261930}function rN(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Un(n),i=1<<s;i&e|t[s]&e&&(t[s]|=e),n&=~i}}function aN(t,e){var n=e&-e;return n=n&42?1:I0(n),n&(t.suspendedLanes|e)?0:n}function I0(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function k0(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function oN(){var t=Be.p;return t!==0?t:(t=window.event,t===void 0?32:RT(t.type))}function tb(t,e){var n=Be.p;try{return Be.p=t,e()}finally{Be.p=n}}var Cr=Math.random().toString(36).slice(2),Xt="__reactFiber$"+Cr,Cn="__reactProps$"+Cr,Jo="__reactContainer$"+Cr,Bp="__reactEvents$"+Cr,ER="__reactListeners$"+Cr,AR="__reactHandles$"+Cr,nb="__reactResources$"+Cr,du="__reactMarker$"+Cr;function D0(t){delete t[Xt],delete t[Cn],delete t[Bp],delete t[ER],delete t[AR]}function Ja(t){var e=t[Xt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jo]||n[Xt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=c1(t);t!==null;){if(n=t[Xt])return n;t=c1(t)}return e}t=n,n=t.parentNode}return null}function Zo(t){if(t=t[Xt]||t[Jo]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function $l(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(K(33))}function mo(t){var e=t[nb];return e||(e=t[nb]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Bt(t){t[du]=!0}var lN=new Set,cN={};function Sa(t,e){Ao(t,e),Ao(t+"Capture",e)}function Ao(t,e){for(cN[t]=e,t=0;t<e.length;t++)lN.add(e[t])}var jR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sb={},ib={};function CR(t){return Up.call(ib,t)?!0:Up.call(sb,t)?!1:jR.test(t)?ib[t]=!0:(sb[t]=!0,!1)}function wd(t,e,n){if(CR(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function ed(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function $s(t,e,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+s)}}function Wn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function RR(t,e,n){var s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,r=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fp(t){if(!t._valueTracker){var e=uN(t)?"checked":"value";t._valueTracker=RR(t,e,""+t[e])}}function dN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=uN(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function eh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var IR=/[\n"\\]/g;function es(t){return t.replace(IR,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function $p(t,e,n,s,i,r,o,l){t.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.type=o:t.removeAttribute("type"),e!=null?o==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Wn(e)):t.value!==""+Wn(e)&&(t.value=""+Wn(e)):o!=="submit"&&o!=="reset"||t.removeAttribute("value"),e!=null?Hp(t,o,Wn(e)):n!=null?Hp(t,o,Wn(n)):s!=null&&t.removeAttribute("value"),i==null&&r!=null&&(t.defaultChecked=!!r),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+Wn(l):t.removeAttribute("name")}function hN(t,e,n,s,i,r,o,l){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.type=r),e!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||e!=null)){Fp(t);return}n=n!=null?""+Wn(n):"",e=e!=null?""+Wn(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}s=s??i,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=l?t.checked:!!s,t.defaultChecked=!!s,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.name=o),Fp(t)}function Hp(t,e,n){e==="number"&&eh(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function po(t,e,n,s){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Wn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function fN(t,e,n){if(e!=null&&(e=""+Wn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Wn(n):""}function mN(t,e,n,s){if(e==null){if(s!=null){if(n!=null)throw Error(K(92));if(Fl(s)){if(1<s.length)throw Error(K(93));s=s[0]}n=s}n==null&&(n=""),e=n}n=Wn(e),t.defaultValue=n,s=t.textContent,s===n&&s!==""&&s!==null&&(t.value=s),Fp(t)}function jo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var kR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rb(t,e,n){var s=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,n):typeof n!="number"||n===0||kR.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function pN(t,e,n){if(e!=null&&typeof e!="object")throw Error(K(62));if(t=t.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var i in e)s=e[i],e.hasOwnProperty(i)&&n[i]!==s&&rb(t,i,s)}else for(var r in e)e.hasOwnProperty(r)&&rb(t,r,e[r])}function M0(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var DR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),MR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _d(t){return MR.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Zs(){}var Gp=null;function O0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Za=null,go=null;function ab(t){var e=Zo(t);if(e&&(t=e.stateNode)){var n=t[Cn]||null;e:switch(t=e.stateNode,e.type){case"input":if($p(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+es(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var i=s[Cn]||null;if(!i)throw Error(K(90));$p(s,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)s=n[e],s.form===t.form&&dN(s)}break e;case"textarea":fN(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&po(t,!!n.multiple,e,!1)}}}var Sm=!1;function gN(t,e,n){if(Sm)return t(e,n);Sm=!0;try{var s=t(e);return s}finally{if(Sm=!1,(Za!==null||go!==null)&&(yf(),Za&&(e=Za,t=go,go=Za=null,ab(e),t)))for(e=0;e<t.length;e++)ab(t[e])}}function Rc(t,e){var n=t.stateNode;if(n===null)return null;var s=n[Cn]||null;if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kp=!1;if(ui)try{var kl={};Object.defineProperty(kl,"passive",{get:function(){Kp=!0}}),window.addEventListener("test",kl,kl),window.removeEventListener("test",kl,kl)}catch{Kp=!1}var Xi=null,V0=null,Nd=null;function xN(){if(Nd)return Nd;var t,e=V0,n=e.length,s,i="value"in Xi?Xi.value:Xi.textContent,r=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===i[r-s];s++);return Nd=i.slice(t,1<s?1-s:void 0)}function Sd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function td(){return!0}function ob(){return!1}function Rn(t){function e(n,s,i,r,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?td:ob,this.isPropagationStopped=ob,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=td)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=td)},persist:function(){},isPersistent:td}),e}var Ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},of=Rn(Ta),hu=rt({},Ta,{view:0,detail:0}),OR=Rn(hu),Tm,Em,Dl,lf=rt({},hu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:P0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dl&&(Dl&&t.type==="mousemove"?(Tm=t.screenX-Dl.screenX,Em=t.screenY-Dl.screenY):Em=Tm=0,Dl=t),Tm)},movementY:function(t){return"movementY"in t?t.movementY:Em}}),lb=Rn(lf),VR=rt({},lf,{dataTransfer:0}),PR=Rn(VR),LR=rt({},hu,{relatedTarget:0}),Am=Rn(LR),zR=rt({},Ta,{animationName:0,elapsedTime:0,pseudoElement:0}),UR=Rn(zR),BR=rt({},Ta,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),FR=Rn(BR),$R=rt({},Ta,{data:0}),cb=Rn($R),HR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=KR[t])?!!e[t]:!1}function P0(){return QR}var qR=rt({},hu,{key:function(t){if(t.key){var e=HR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?GR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:P0,charCode:function(t){return t.type==="keypress"?Sd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),YR=Rn(qR),XR=rt({},lf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ub=Rn(XR),WR=rt({},hu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:P0}),JR=Rn(WR),ZR=rt({},Ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),eI=Rn(ZR),tI=rt({},lf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nI=Rn(tI),sI=rt({},Ta,{newState:0,oldState:0}),iI=Rn(sI),rI=[9,13,27,32],L0=ui&&"CompositionEvent"in window,sc=null;ui&&"documentMode"in document&&(sc=document.documentMode);var aI=ui&&"TextEvent"in window&&!sc,yN=ui&&(!L0||sc&&8<sc&&11>=sc),db=" ",hb=!1;function vN(t,e){switch(t){case"keyup":return rI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var eo=!1;function oI(t,e){switch(t){case"compositionend":return bN(e);case"keypress":return e.which!==32?null:(hb=!0,db);case"textInput":return t=e.data,t===db&&hb?null:t;default:return null}}function lI(t,e){if(eo)return t==="compositionend"||!L0&&vN(t,e)?(t=xN(),Nd=V0=Xi=null,eo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yN&&e.locale!=="ko"?null:e.data;default:return null}}var cI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cI[t.type]:e==="textarea"}function wN(t,e,n,s){Za?go?go.push(s):go=[s]:Za=s,e=yh(e,"onChange"),0<e.length&&(n=new of("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var ic=null,Ic=null;function uI(t){gT(t,0)}function cf(t){var e=$l(t);if(dN(e))return t}function mb(t,e){if(t==="change")return e}var _N=!1;if(ui){var jm;if(ui){var Cm="oninput"in document;if(!Cm){var pb=document.createElement("div");pb.setAttribute("oninput","return;"),Cm=typeof pb.oninput=="function"}jm=Cm}else jm=!1;_N=jm&&(!document.documentMode||9<document.documentMode)}function gb(){ic&&(ic.detachEvent("onpropertychange",NN),Ic=ic=null)}function NN(t){if(t.propertyName==="value"&&cf(Ic)){var e=[];wN(e,Ic,t,O0(t)),gN(uI,e)}}function dI(t,e,n){t==="focusin"?(gb(),ic=e,Ic=n,ic.attachEvent("onpropertychange",NN)):t==="focusout"&&gb()}function hI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cf(Ic)}function fI(t,e){if(t==="click")return cf(e)}function mI(t,e){if(t==="input"||t==="change")return cf(e)}function pI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $n=typeof Object.is=="function"?Object.is:pI;function kc(t,e){if($n(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!Up.call(e,i)||!$n(t[i],e[i]))return!1}return!0}function xb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yb(t,e){var n=xb(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xb(n)}}function SN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?SN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function TN(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=eh(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=eh(t.document)}return e}function z0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var gI=ui&&"documentMode"in document&&11>=document.documentMode,to=null,Qp=null,rc=null,qp=!1;function vb(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qp||to==null||to!==eh(s)||(s=to,"selectionStart"in s&&z0(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),rc&&kc(rc,s)||(rc=s,s=yh(Qp,"onSelect"),0<s.length&&(e=new of("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=to)))}function Br(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var no={animationend:Br("Animation","AnimationEnd"),animationiteration:Br("Animation","AnimationIteration"),animationstart:Br("Animation","AnimationStart"),transitionrun:Br("Transition","TransitionRun"),transitionstart:Br("Transition","TransitionStart"),transitioncancel:Br("Transition","TransitionCancel"),transitionend:Br("Transition","TransitionEnd")},Rm={},EN={};ui&&(EN=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function Ea(t){if(Rm[t])return Rm[t];if(!no[t])return t;var e=no[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in EN)return Rm[t]=e[n];return t}var AN=Ea("animationend"),jN=Ea("animationiteration"),CN=Ea("animationstart"),xI=Ea("transitionrun"),yI=Ea("transitionstart"),vI=Ea("transitioncancel"),RN=Ea("transitionend"),IN=new Map,Yp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yp.push("scrollEnd");function Ns(t,e){IN.set(t,e),Sa(e,[t])}var th=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Xn=[],so=0,U0=0;function uf(){for(var t=so,e=U0=so=0;e<t;){var n=Xn[e];Xn[e++]=null;var s=Xn[e];Xn[e++]=null;var i=Xn[e];Xn[e++]=null;var r=Xn[e];if(Xn[e++]=null,s!==null&&i!==null){var o=s.pending;o===null?i.next=i:(i.next=o.next,o.next=i),s.pending=i}r!==0&&kN(n,i,r)}}function df(t,e,n,s){Xn[so++]=t,Xn[so++]=e,Xn[so++]=n,Xn[so++]=s,U0|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function B0(t,e,n,s){return df(t,e,n,s),nh(t)}function Aa(t,e){return df(t,null,null,e),nh(t)}function kN(t,e,n){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n);for(var i=!1,r=t.return;r!==null;)r.childLanes|=n,s=r.alternate,s!==null&&(s.childLanes|=n),r.tag===22&&(t=r.stateNode,t===null||t._visibility&1||(i=!0)),t=r,r=r.return;return t.tag===3?(r=t.stateNode,i&&e!==null&&(i=31-Un(n),t=r.hiddenUpdates,s=t[i],s===null?t[i]=[e]:s.push(e),e.lane=n|536870912),r):null}function nh(t){if(50<mc)throw mc=0,gg=null,Error(K(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var io={};function bI(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,e,n,s){return new bI(t,e,n,s)}function F0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function si(t,e){var n=t.alternate;return n===null?(n=Mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function DN(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Td(t,e,n,s,i,r){var o=0;if(s=t,typeof t=="function")F0(t)&&(o=1);else if(typeof t=="string")o=T3(t,n,Rs.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Vp:return t=Mn(31,n,e,i),t.elementType=Vp,t.lanes=r,t;case Xa:return ia(n.children,i,r,e);case J2:o=8,i|=24;break;case Dp:return t=Mn(12,n,e,i|2),t.elementType=Dp,t.lanes=r,t;case Mp:return t=Mn(13,n,e,i),t.elementType=Mp,t.lanes=r,t;case Op:return t=Mn(19,n,e,i),t.elementType=Op,t.lanes=r,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Js:o=10;break e;case Z2:o=9;break e;case j0:o=11;break e;case C0:o=14;break e;case zi:o=16,s=null;break e}o=29,n=Error(K(130,t===null?"null":typeof t,"")),s=null}return e=Mn(o,n,e,i),e.elementType=t,e.type=s,e.lanes=r,e}function ia(t,e,n,s){return t=Mn(7,t,s,e),t.lanes=n,t}function Im(t,e,n){return t=Mn(6,t,null,e),t.lanes=n,t}function MN(t){var e=Mn(18,null,null,0);return e.stateNode=t,e}function km(t,e,n){return e=Mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var bb=new WeakMap;function ts(t,e){if(typeof t=="object"&&t!==null){var n=bb.get(t);return n!==void 0?n:(e={value:t,source:e,stack:eb(e)},bb.set(t,e),e)}return{value:t,source:e,stack:eb(e)}}var ro=[],ao=0,sh=null,Dc=0,Jn=[],Zn=0,xr=null,As=1,js="";function Ys(t,e){ro[ao++]=Dc,ro[ao++]=sh,sh=t,Dc=e}function ON(t,e,n){Jn[Zn++]=As,Jn[Zn++]=js,Jn[Zn++]=xr,xr=t;var s=As;t=js;var i=32-Un(s)-1;s&=~(1<<i),n+=1;var r=32-Un(e)+i;if(30<r){var o=i-i%5;r=(s&(1<<o)-1).toString(32),s>>=o,i-=o,As=1<<32-Un(e)+i|n<<i|s,js=r+t}else As=1<<r|n<<i|s,js=t}function $0(t){t.return!==null&&(Ys(t,1),ON(t,1,0))}function H0(t){for(;t===sh;)sh=ro[--ao],ro[ao]=null,Dc=ro[--ao],ro[ao]=null;for(;t===xr;)xr=Jn[--Zn],Jn[Zn]=null,js=Jn[--Zn],Jn[Zn]=null,As=Jn[--Zn],Jn[Zn]=null}function VN(t,e){Jn[Zn++]=As,Jn[Zn++]=js,Jn[Zn++]=xr,As=e.id,js=e.overflow,xr=t}var Wt=null,tt=null,Ve=!1,sr=null,ns=!1,Xp=Error(K(519));function yr(t){var e=Error(K(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mc(ts(e,t)),Xp}function wb(t){var e=t.stateNode,n=t.type,s=t.memoizedProps;switch(e[Xt]=t,e[Cn]=s,n){case"dialog":Re("cancel",e),Re("close",e);break;case"iframe":case"object":case"embed":Re("load",e);break;case"video":case"audio":for(n=0;n<Lc.length;n++)Re(Lc[n],e);break;case"source":Re("error",e);break;case"img":case"image":case"link":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"input":Re("invalid",e),hN(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Re("invalid",e);break;case"textarea":Re("invalid",e),mN(e,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||s.suppressHydrationWarning===!0||yT(e.textContent,n)?(s.popover!=null&&(Re("beforetoggle",e),Re("toggle",e)),s.onScroll!=null&&Re("scroll",e),s.onScrollEnd!=null&&Re("scrollend",e),s.onClick!=null&&(e.onclick=Zs),e=!0):e=!1,e||yr(t,!0)}function _b(t){for(Wt=t.return;Wt;)switch(Wt.tag){case 5:case 31:case 13:ns=!1;return;case 27:case 3:ns=!0;return;default:Wt=Wt.return}}function za(t){if(t!==Wt)return!1;if(!Ve)return _b(t),Ve=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||wg(t.type,t.memoizedProps)),n=!n),n&&tt&&yr(t),_b(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));tt=l1(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));tt=l1(t)}else e===27?(e=tt,Rr(t.type)?(t=Tg,Tg=null,tt=t):tt=e):tt=Wt?rs(t.stateNode.nextSibling):null;return!0}function ha(){tt=Wt=null,Ve=!1}function Dm(){var t=sr;return t!==null&&(Nn===null?Nn=t:Nn.push.apply(Nn,t),sr=null),t}function Mc(t){sr===null?sr=[t]:sr.push(t)}var Wp=zs(null),ja=null,ei=null;function Fi(t,e,n){We(Wp,e._currentValue),e._currentValue=n}function ii(t){t._currentValue=Wp.current,Ft(Wp)}function Jp(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Zp(t,e,n,s){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var r=i.dependencies;if(r!==null){var o=i.child;r=r.firstContext;e:for(;r!==null;){var l=r;r=i;for(var c=0;c<e.length;c++)if(l.context===e[c]){r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),Jp(r.return,n,t),s||(o=null);break e}r=l.next}}else if(i.tag===18){if(o=i.return,o===null)throw Error(K(341));o.lanes|=n,r=o.alternate,r!==null&&(r.lanes|=n),Jp(o,n,t),o=null}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}}function el(t,e,n,s){t=null;for(var i=e,r=!1;i!==null;){if(!r){if(i.flags&524288)r=!0;else if(i.flags&262144)break}if(i.tag===10){var o=i.alternate;if(o===null)throw Error(K(387));if(o=o.memoizedProps,o!==null){var l=i.type;$n(i.pendingProps.value,o.value)||(t!==null?t.push(l):t=[l])}}else if(i===Xd.current){if(o=i.alternate,o===null)throw Error(K(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Uc):t=[Uc])}i=i.return}t!==null&&Zp(e,t,n,s),e.flags|=262144}function ih(t){for(t=t.firstContext;t!==null;){if(!$n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function fa(t){ja=t,ei=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zt(t){return PN(ja,t)}function nd(t,e){return ja===null&&fa(t),PN(t,e)}function PN(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ei===null){if(t===null)throw Error(K(308));ei=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ei=ei.next=e;return n}var wI=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},_I=Vt.unstable_scheduleCallback,NI=Vt.unstable_NormalPriority,St={$$typeof:Js,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function G0(){return{controller:new wI,data:new Map,refCount:0}}function fu(t){t.refCount--,t.refCount===0&&_I(NI,function(){t.controller.abort()})}var ac=null,eg=0,Co=0,xo=null;function SI(t,e){if(ac===null){var n=ac=[];eg=0,Co=gx(),xo={status:"pending",value:void 0,then:function(s){n.push(s)}}}return eg++,e.then(Nb,Nb),e}function Nb(){if(--eg===0&&ac!==null){xo!==null&&(xo.status="fulfilled");var t=ac;ac=null,Co=0,xo=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function TI(t,e){var n=[],s={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(s.status="rejected",s.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),s}var Sb=be.S;be.S=function(t,e){WS=Ln(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&SI(t,e),Sb!==null&&Sb(t,e)};var ra=zs(null);function K0(){var t=ra.current;return t!==null?t:qe.pooledCache}function Ed(t,e){e===null?We(ra,ra.current):We(ra,e.pool)}function LN(){var t=K0();return t===null?null:{parent:St._currentValue,pool:t}}var tl=Error(K(460)),Q0=Error(K(474)),hf=Error(K(542)),rh={then:function(){}};function Tb(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zN(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Zs,Zs),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ab(t),t;default:if(typeof e.status=="string")e.then(Zs,Zs);else{if(t=qe,t!==null&&100<t.shellSuspendCounter)throw Error(K(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=s}},function(s){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ab(t),t}throw aa=e,tl}}function Kr(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(aa=n,tl):n}}var aa=null;function Eb(){if(aa===null)throw Error(K(459));var t=aa;return aa=null,t}function Ab(t){if(t===tl||t===hf)throw Error(K(483))}var yo=null,Oc=0;function sd(t){var e=Oc;return Oc+=1,yo===null&&(yo=[]),zN(yo,t,e)}function Ml(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function id(t,e){throw e.$$typeof===dR?Error(K(525)):(t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function UN(t){function e(N,x){if(t){var v=N.deletions;v===null?(N.deletions=[x],N.flags|=16):v.push(x)}}function n(N,x){if(!t)return null;for(;x!==null;)e(N,x),x=x.sibling;return null}function s(N){for(var x=new Map;N!==null;)N.key!==null?x.set(N.key,N):x.set(N.index,N),N=N.sibling;return x}function i(N,x){return N=si(N,x),N.index=0,N.sibling=null,N}function r(N,x,v){return N.index=v,t?(v=N.alternate,v!==null?(v=v.index,v<x?(N.flags|=67108866,x):v):(N.flags|=67108866,x)):(N.flags|=1048576,x)}function o(N){return t&&N.alternate===null&&(N.flags|=67108866),N}function l(N,x,v,E){return x===null||x.tag!==6?(x=Im(v,N.mode,E),x.return=N,x):(x=i(x,v),x.return=N,x)}function c(N,x,v,E){var M=v.type;return M===Xa?h(N,x,v.props.children,E,v.key):x!==null&&(x.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===zi&&Kr(M)===x.type)?(x=i(x,v.props),Ml(x,v),x.return=N,x):(x=Td(v.type,v.key,v.props,null,N.mode,E),Ml(x,v),x.return=N,x)}function d(N,x,v,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=km(v,N.mode,E),x.return=N,x):(x=i(x,v.children||[]),x.return=N,x)}function h(N,x,v,E,M){return x===null||x.tag!==7?(x=ia(v,N.mode,E,M),x.return=N,x):(x=i(x,v),x.return=N,x)}function f(N,x,v){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Im(""+x,N.mode,v),x.return=N,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Xu:return v=Td(x.type,x.key,x.props,null,N.mode,v),Ml(v,x),v.return=N,v;case Bl:return x=km(x,N.mode,v),x.return=N,x;case zi:return x=Kr(x),f(N,x,v)}if(Fl(x)||Il(x))return x=ia(x,N.mode,v,null),x.return=N,x;if(typeof x.then=="function")return f(N,sd(x),v);if(x.$$typeof===Js)return f(N,nd(N,x),v);id(N,x)}return null}function m(N,x,v,E){var M=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return M!==null?null:l(N,x,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Xu:return v.key===M?c(N,x,v,E):null;case Bl:return v.key===M?d(N,x,v,E):null;case zi:return v=Kr(v),m(N,x,v,E)}if(Fl(v)||Il(v))return M!==null?null:h(N,x,v,E,null);if(typeof v.then=="function")return m(N,x,sd(v),E);if(v.$$typeof===Js)return m(N,x,nd(N,v),E);id(N,v)}return null}function y(N,x,v,E,M){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return N=N.get(v)||null,l(x,N,""+E,M);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Xu:return N=N.get(E.key===null?v:E.key)||null,c(x,N,E,M);case Bl:return N=N.get(E.key===null?v:E.key)||null,d(x,N,E,M);case zi:return E=Kr(E),y(N,x,v,E,M)}if(Fl(E)||Il(E))return N=N.get(v)||null,h(x,N,E,M,null);if(typeof E.then=="function")return y(N,x,v,sd(E),M);if(E.$$typeof===Js)return y(N,x,v,nd(x,E),M);id(x,E)}return null}function S(N,x,v,E){for(var M=null,L=null,T=x,p=x=0,w=null;T!==null&&p<v.length;p++){T.index>p?(w=T,T=null):w=T.sibling;var A=m(N,T,v[p],E);if(A===null){T===null&&(T=w);break}t&&T&&A.alternate===null&&e(N,T),x=r(A,x,p),L===null?M=A:L.sibling=A,L=A,T=w}if(p===v.length)return n(N,T),Ve&&Ys(N,p),M;if(T===null){for(;p<v.length;p++)T=f(N,v[p],E),T!==null&&(x=r(T,x,p),L===null?M=T:L.sibling=T,L=T);return Ve&&Ys(N,p),M}for(T=s(T);p<v.length;p++)w=y(T,N,p,v[p],E),w!==null&&(t&&w.alternate!==null&&T.delete(w.key===null?p:w.key),x=r(w,x,p),L===null?M=w:L.sibling=w,L=w);return t&&T.forEach(function(k){return e(N,k)}),Ve&&Ys(N,p),M}function R(N,x,v,E){if(v==null)throw Error(K(151));for(var M=null,L=null,T=x,p=x=0,w=null,A=v.next();T!==null&&!A.done;p++,A=v.next()){T.index>p?(w=T,T=null):w=T.sibling;var k=m(N,T,A.value,E);if(k===null){T===null&&(T=w);break}t&&T&&k.alternate===null&&e(N,T),x=r(k,x,p),L===null?M=k:L.sibling=k,L=k,T=w}if(A.done)return n(N,T),Ve&&Ys(N,p),M;if(T===null){for(;!A.done;p++,A=v.next())A=f(N,A.value,E),A!==null&&(x=r(A,x,p),L===null?M=A:L.sibling=A,L=A);return Ve&&Ys(N,p),M}for(T=s(T);!A.done;p++,A=v.next())A=y(T,N,p,A.value,E),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?p:A.key),x=r(A,x,p),L===null?M=A:L.sibling=A,L=A);return t&&T.forEach(function(C){return e(N,C)}),Ve&&Ys(N,p),M}function j(N,x,v,E){if(typeof v=="object"&&v!==null&&v.type===Xa&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Xu:e:{for(var M=v.key;x!==null;){if(x.key===M){if(M=v.type,M===Xa){if(x.tag===7){n(N,x.sibling),E=i(x,v.props.children),E.return=N,N=E;break e}}else if(x.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===zi&&Kr(M)===x.type){n(N,x.sibling),E=i(x,v.props),Ml(E,v),E.return=N,N=E;break e}n(N,x);break}else e(N,x);x=x.sibling}v.type===Xa?(E=ia(v.props.children,N.mode,E,v.key),E.return=N,N=E):(E=Td(v.type,v.key,v.props,null,N.mode,E),Ml(E,v),E.return=N,N=E)}return o(N);case Bl:e:{for(M=v.key;x!==null;){if(x.key===M)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){n(N,x.sibling),E=i(x,v.children||[]),E.return=N,N=E;break e}else{n(N,x);break}else e(N,x);x=x.sibling}E=km(v,N.mode,E),E.return=N,N=E}return o(N);case zi:return v=Kr(v),j(N,x,v,E)}if(Fl(v))return S(N,x,v,E);if(Il(v)){if(M=Il(v),typeof M!="function")throw Error(K(150));return v=M.call(v),R(N,x,v,E)}if(typeof v.then=="function")return j(N,x,sd(v),E);if(v.$$typeof===Js)return j(N,x,nd(N,v),E);id(N,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,x!==null&&x.tag===6?(n(N,x.sibling),E=i(x,v),E.return=N,N=E):(n(N,x),E=Im(v,N.mode,E),E.return=N,N=E),o(N)):n(N,x)}return function(N,x,v,E){try{Oc=0;var M=j(N,x,v,E);return yo=null,M}catch(T){if(T===tl||T===hf)throw T;var L=Mn(29,T,null,N.mode);return L.lanes=E,L.return=N,L}finally{}}}var ma=UN(!0),BN=UN(!1),Ui=!1;function q0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ir(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function rr(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Ue&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,e=nh(t),kN(t,null,n),e}return df(t,s,e,n),nh(t)}function oc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,rN(t,n)}}function Mm(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?i=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?i=r=e:r=r.next=e}else i=r=e;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,callbacks:s.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var ng=!1;function lc(){if(ng){var t=xo;if(t!==null)throw t}}function cc(t,e,n,s){ng=!1;var i=t.updateQueue;Ui=!1;var r=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?r=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(r!==null){var f=i.baseState;o=0,h=d=c=null,l=r;do{var m=l.lane&-536870913,y=m!==l.lane;if(y?(Oe&m)===m:(s&m)===m){m!==0&&m===Co&&(ng=!0),h!==null&&(h=h.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var S=t,R=l;m=e;var j=n;switch(R.tag){case 1:if(S=R.payload,typeof S=="function"){f=S.call(j,f,m);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=R.payload,m=typeof S=="function"?S.call(j,f,m):S,m==null)break e;f=rt({},f,m);break e;case 2:Ui=!0}}m=l.callback,m!==null&&(t.flags|=64,y&&(t.flags|=8192),y=i.callbacks,y===null?i.callbacks=[m]:y.push(m))}else y={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=y,c=f):h=h.next=y,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;y=l,l=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);h===null&&(c=f),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=h,r===null&&(i.shared.lanes=0),br|=o,t.lanes=o,t.memoizedState=f}}function FN(t,e){if(typeof t!="function")throw Error(K(191,t));t.call(e)}function $N(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)FN(n[t],e)}var Ro=zs(null),ah=zs(0);function jb(t,e){t=mi,We(ah,t),We(Ro,e),mi=t|e.baseLanes}function sg(){We(ah,mi),We(Ro,Ro.current)}function Y0(){mi=ah.current,Ft(Ro),Ft(ah)}var Hn=zs(null),is=null;function $i(t){var e=t.alternate;We(yt,yt.current&1),We(Hn,t),is===null&&(e===null||Ro.current!==null||e.memoizedState!==null)&&(is=t)}function ig(t){We(yt,yt.current),We(Hn,t),is===null&&(is=t)}function HN(t){t.tag===22?(We(yt,yt.current),We(Hn,t),is===null&&(is=t)):Hi()}function Hi(){We(yt,yt.current),We(Hn,Hn.current)}function Dn(t){Ft(Hn),is===t&&(is=null),Ft(yt)}var yt=zs(0);function oh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Ng(n)||Sg(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var di=0,Ae=null,Ke=null,_t=null,lh=!1,vo=!1,pa=!1,ch=0,Vc=0,bo=null,EI=0;function ht(){throw Error(K(321))}function X0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$n(t[n],e[n]))return!1;return!0}function W0(t,e,n,s,i,r){return di=r,Ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,be.H=t===null||t.memoizedState===null?wS:lx,pa=!1,r=n(s,i),pa=!1,vo&&(r=KN(e,n,s,i)),GN(t),r}function GN(t){be.H=Pc;var e=Ke!==null&&Ke.next!==null;if(di=0,_t=Ke=Ae=null,lh=!1,Vc=0,bo=null,e)throw Error(K(300));t===null||Et||(t=t.dependencies,t!==null&&ih(t)&&(Et=!0))}function KN(t,e,n,s){Ae=t;var i=0;do{if(vo&&(bo=null),Vc=0,vo=!1,25<=i)throw Error(K(301));if(i+=1,_t=Ke=null,t.updateQueue!=null){var r=t.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}be.H=_S,r=e(n,s)}while(vo);return r}function AI(){var t=be.H,e=t.useState()[0];return e=typeof e.then=="function"?mu(e):e,t=t.useState()[0],(Ke!==null?Ke.memoizedState:null)!==t&&(Ae.flags|=1024),e}function J0(){var t=ch!==0;return ch=0,t}function Z0(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function ex(t){if(lh){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}lh=!1}di=0,_t=Ke=Ae=null,vo=!1,Vc=ch=0,bo=null}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ae.memoizedState=_t=t:_t=_t.next=t,_t}function vt(){if(Ke===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var e=_t===null?Ae.memoizedState:_t.next;if(e!==null)_t=e,Ke=t;else{if(t===null)throw Ae.alternate===null?Error(K(467)):Error(K(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},_t===null?Ae.memoizedState=_t=t:_t=_t.next=t}return _t}function ff(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mu(t){var e=Vc;return Vc+=1,bo===null&&(bo=[]),t=zN(bo,t,e),e=Ae,(_t===null?e.memoizedState:_t.next)===null&&(e=e.alternate,be.H=e===null||e.memoizedState===null?wS:lx),t}function mf(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return mu(t);if(t.$$typeof===Js)return Zt(t)}throw Error(K(438,String(t)))}function tx(t){var e=null,n=Ae.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var s=Ae.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=ff(),Ae.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),s=0;s<t;s++)n[s]=hR;return e.index++,n}function hi(t,e){return typeof e=="function"?e(t):e}function Ad(t){var e=vt();return nx(e,Ke,t)}function nx(t,e,n){var s=t.queue;if(s===null)throw Error(K(311));s.lastRenderedReducer=n;var i=t.baseQueue,r=s.pending;if(r!==null){if(i!==null){var o=i.next;i.next=r.next,r.next=o}e.baseQueue=i=r,s.pending=null}if(r=t.baseState,i===null)t.memoizedState=r;else{e=i.next;var l=o=null,c=null,d=e,h=!1;do{var f=d.lane&-536870913;if(f!==d.lane?(Oe&f)===f:(di&f)===f){var m=d.revertLane;if(m===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),f===Co&&(h=!0);else if((di&m)===m){d=d.next,m===Co&&(h=!0);continue}else f={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},c===null?(l=c=f,o=r):c=c.next=f,Ae.lanes|=m,br|=m;f=d.action,pa&&n(r,f),r=d.hasEagerState?d.eagerState:n(r,f)}else m={lane:f,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},c===null?(l=c=m,o=r):c=c.next=m,Ae.lanes|=f,br|=f;d=d.next}while(d!==null&&d!==e);if(c===null?o=r:c.next=l,!$n(r,t.memoizedState)&&(Et=!0,h&&(n=xo,n!==null)))throw n;t.memoizedState=r,t.baseState=o,t.baseQueue=c,s.lastRenderedState=r}return i===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function Om(t){var e=vt(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var s=n.dispatch,i=n.pending,r=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do r=t(r,o.action),o=o.next;while(o!==i);$n(r,e.memoizedState)||(Et=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,s]}function QN(t,e,n){var s=Ae,i=vt(),r=Ve;if(r){if(n===void 0)throw Error(K(407));n=n()}else n=e();var o=!$n((Ke||i).memoizedState,n);if(o&&(i.memoizedState=n,Et=!0),i=i.queue,sx(XN.bind(null,s,i,t),[t]),i.getSnapshot!==e||o||_t!==null&&_t.memoizedState.tag&1){if(s.flags|=2048,Io(9,{destroy:void 0},YN.bind(null,s,i,n,e),null),qe===null)throw Error(K(349));r||di&127||qN(s,e,n)}return n}function qN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ae.updateQueue,e===null?(e=ff(),Ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function YN(t,e,n,s){e.value=n,e.getSnapshot=s,WN(e)&&JN(t)}function XN(t,e,n){return n(function(){WN(e)&&JN(t)})}function WN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$n(t,n)}catch{return!0}}function JN(t){var e=Aa(t,2);e!==null&&En(e,t,2)}function rg(t){var e=pn();if(typeof t=="function"){var n=t;if(t=n(),pa){Yi(!0);try{n()}finally{Yi(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:t},e}function ZN(t,e,n,s){return t.baseState=n,nx(t,Ke,typeof s=="function"?s:hi)}function jI(t,e,n,s,i){if(gf(t))throw Error(K(485));if(t=e.action,t!==null){var r={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){r.listeners.push(o)}};be.T!==null?n(!0):r.isTransition=!1,s(r),n=e.pending,n===null?(r.next=e.pending=r,eS(e,r)):(r.next=n.next,e.pending=n.next=r)}}function eS(t,e){var n=e.action,s=e.payload,i=t.state;if(e.isTransition){var r=be.T,o={};be.T=o;try{var l=n(i,s),c=be.S;c!==null&&c(o,l),Cb(t,e,l)}catch(d){ag(t,e,d)}finally{r!==null&&o.types!==null&&(r.types=o.types),be.T=r}}else try{r=n(i,s),Cb(t,e,r)}catch(d){ag(t,e,d)}}function Cb(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){Rb(t,e,s)},function(s){return ag(t,e,s)}):Rb(t,e,n)}function Rb(t,e,n){e.status="fulfilled",e.value=n,tS(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,eS(t,n)))}function ag(t,e,n){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=n,tS(e),e=e.next;while(e!==s)}t.action=null}function tS(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function nS(t,e){return e}function Ib(t,e){if(Ve){var n=qe.formState;if(n!==null){e:{var s=Ae;if(Ve){if(tt){t:{for(var i=tt,r=ns;i.nodeType!==8;){if(!r){i=null;break t}if(i=rs(i.nextSibling),i===null){i=null;break t}}r=i.data,i=r==="F!"||r==="F"?i:null}if(i){tt=rs(i.nextSibling),s=i.data==="F!";break e}}yr(s)}s=!1}s&&(e=n[0])}}return n=pn(),n.memoizedState=n.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nS,lastRenderedState:e},n.queue=s,n=yS.bind(null,Ae,s),s.dispatch=n,s=rg(!1),r=ox.bind(null,Ae,!1,s.queue),s=pn(),i={state:e,dispatch:null,action:t,pending:null},s.queue=i,n=jI.bind(null,Ae,i,r,n),i.dispatch=n,s.memoizedState=t,[e,n,!1]}function kb(t){var e=vt();return sS(e,Ke,t)}function sS(t,e,n){if(e=nx(t,e,nS)[0],t=Ad(hi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=mu(e)}catch(o){throw o===tl?hf:o}else s=e;e=vt();var i=e.queue,r=i.dispatch;return n!==e.memoizedState&&(Ae.flags|=2048,Io(9,{destroy:void 0},CI.bind(null,i,n),null)),[s,r,t]}function CI(t,e){t.action=e}function Db(t){var e=vt(),n=Ke;if(n!==null)return sS(e,n,t);vt(),e=e.memoizedState,n=vt();var s=n.queue.dispatch;return n.memoizedState=t,[e,s,!1]}function Io(t,e,n,s){return t={tag:t,create:n,deps:s,inst:e,next:null},e=Ae.updateQueue,e===null&&(e=ff(),Ae.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t),t}function iS(){return vt().memoizedState}function jd(t,e,n,s){var i=pn();Ae.flags|=t,i.memoizedState=Io(1|e,{destroy:void 0},n,s===void 0?null:s)}function pf(t,e,n,s){var i=vt();s=s===void 0?null:s;var r=i.memoizedState.inst;Ke!==null&&s!==null&&X0(s,Ke.memoizedState.deps)?i.memoizedState=Io(e,r,n,s):(Ae.flags|=t,i.memoizedState=Io(1|e,r,n,s))}function Mb(t,e){jd(8390656,8,t,e)}function sx(t,e){pf(2048,8,t,e)}function RI(t){Ae.flags|=4;var e=Ae.updateQueue;if(e===null)e=ff(),Ae.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function rS(t){var e=vt().memoizedState;return RI({ref:e,nextImpl:t}),function(){if(Ue&2)throw Error(K(440));return e.impl.apply(void 0,arguments)}}function aS(t,e){return pf(4,2,t,e)}function oS(t,e){return pf(4,4,t,e)}function lS(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cS(t,e,n){n=n!=null?n.concat([t]):null,pf(4,4,lS.bind(null,e,t),n)}function ix(){}function uS(t,e){var n=vt();e=e===void 0?null:e;var s=n.memoizedState;return e!==null&&X0(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function dS(t,e){var n=vt();e=e===void 0?null:e;var s=n.memoizedState;if(e!==null&&X0(e,s[1]))return s[0];if(s=t(),pa){Yi(!0);try{t()}finally{Yi(!1)}}return n.memoizedState=[s,e],s}function rx(t,e,n){return n===void 0||di&1073741824&&!(Oe&261930)?t.memoizedState=e:(t.memoizedState=n,t=ZS(),Ae.lanes|=t,br|=t,n)}function hS(t,e,n,s){return $n(n,e)?n:Ro.current!==null?(t=rx(t,n,s),$n(t,e)||(Et=!0),t):!(di&42)||di&1073741824&&!(Oe&261930)?(Et=!0,t.memoizedState=n):(t=ZS(),Ae.lanes|=t,br|=t,e)}function fS(t,e,n,s,i){var r=Be.p;Be.p=r!==0&&8>r?r:8;var o=be.T,l={};be.T=l,ox(t,!1,e,n);try{var c=i(),d=be.S;if(d!==null&&d(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=TI(c,s);uc(t,e,h,Bn(t))}else uc(t,e,s,Bn(t))}catch(f){uc(t,e,{then:function(){},status:"rejected",reason:f},Bn())}finally{Be.p=r,o!==null&&l.types!==null&&(o.types=l.types),be.T=o}}function II(){}function og(t,e,n,s){if(t.tag!==5)throw Error(K(476));var i=mS(t).queue;fS(t,i,e,sa,n===null?II:function(){return pS(t),n(s)})}function mS(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:sa,baseState:sa,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:sa},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function pS(t){var e=mS(t);e.next===null&&(e=t.alternate.memoizedState),uc(t,e.next.queue,{},Bn())}function ax(){return Zt(Uc)}function gS(){return vt().memoizedState}function xS(){return vt().memoizedState}function kI(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Bn();t=ir(n);var s=rr(e,t,n);s!==null&&(En(s,e,n),oc(s,e,n)),e={cache:G0()},t.payload=e;return}e=e.return}}function DI(t,e,n){var s=Bn();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},gf(t)?vS(e,n):(n=B0(t,e,n,s),n!==null&&(En(n,t,s),bS(n,e,s)))}function yS(t,e,n){var s=Bn();uc(t,e,n,s)}function uc(t,e,n,s){var i={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(gf(t))vS(e,i);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,l=r(o,n);if(i.hasEagerState=!0,i.eagerState=l,$n(l,o))return df(t,e,i,0),qe===null&&uf(),!1}catch{}finally{}if(n=B0(t,e,i,s),n!==null)return En(n,t,s),bS(n,e,s),!0}return!1}function ox(t,e,n,s){if(s={lane:2,revertLane:gx(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},gf(t)){if(e)throw Error(K(479))}else e=B0(t,n,s,2),e!==null&&En(e,t,2)}function gf(t){var e=t.alternate;return t===Ae||e!==null&&e===Ae}function vS(t,e){vo=lh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bS(t,e,n){if(n&4194048){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,rN(t,n)}}var Pc={readContext:Zt,use:mf,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};Pc.useEffectEvent=ht;var wS={readContext:Zt,use:mf,useCallback:function(t,e){return pn().memoizedState=[t,e===void 0?null:e],t},useContext:Zt,useEffect:Mb,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,jd(4194308,4,lS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jd(4194308,4,t,e)},useInsertionEffect:function(t,e){jd(4,2,t,e)},useMemo:function(t,e){var n=pn();e=e===void 0?null:e;var s=t();if(pa){Yi(!0);try{t()}finally{Yi(!1)}}return n.memoizedState=[s,e],s},useReducer:function(t,e,n){var s=pn();if(n!==void 0){var i=n(e);if(pa){Yi(!0);try{n(e)}finally{Yi(!1)}}}else i=e;return s.memoizedState=s.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},s.queue=t,t=t.dispatch=DI.bind(null,Ae,t),[s.memoizedState,t]},useRef:function(t){var e=pn();return t={current:t},e.memoizedState=t},useState:function(t){t=rg(t);var e=t.queue,n=yS.bind(null,Ae,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:ix,useDeferredValue:function(t,e){var n=pn();return rx(n,t,e)},useTransition:function(){var t=rg(!1);return t=fS.bind(null,Ae,t.queue,!0,!1),pn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var s=Ae,i=pn();if(Ve){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),qe===null)throw Error(K(349));Oe&127||qN(s,e,n)}i.memoizedState=n;var r={value:n,getSnapshot:e};return i.queue=r,Mb(XN.bind(null,s,r,t),[t]),s.flags|=2048,Io(9,{destroy:void 0},YN.bind(null,s,r,n,e),null),n},useId:function(){var t=pn(),e=qe.identifierPrefix;if(Ve){var n=js,s=As;n=(s&~(1<<32-Un(s)-1)).toString(32)+n,e="_"+e+"R_"+n,n=ch++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=EI++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:ax,useFormState:Ib,useActionState:Ib,useOptimistic:function(t){var e=pn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=ox.bind(null,Ae,!0,n),n.dispatch=e,[t,e]},useMemoCache:tx,useCacheRefresh:function(){return pn().memoizedState=kI.bind(null,Ae)},useEffectEvent:function(t){var e=pn(),n={impl:t};return e.memoizedState=n,function(){if(Ue&2)throw Error(K(440));return n.impl.apply(void 0,arguments)}}},lx={readContext:Zt,use:mf,useCallback:uS,useContext:Zt,useEffect:sx,useImperativeHandle:cS,useInsertionEffect:aS,useLayoutEffect:oS,useMemo:dS,useReducer:Ad,useRef:iS,useState:function(){return Ad(hi)},useDebugValue:ix,useDeferredValue:function(t,e){var n=vt();return hS(n,Ke.memoizedState,t,e)},useTransition:function(){var t=Ad(hi)[0],e=vt().memoizedState;return[typeof t=="boolean"?t:mu(t),e]},useSyncExternalStore:QN,useId:gS,useHostTransitionStatus:ax,useFormState:kb,useActionState:kb,useOptimistic:function(t,e){var n=vt();return ZN(n,Ke,t,e)},useMemoCache:tx,useCacheRefresh:xS};lx.useEffectEvent=rS;var _S={readContext:Zt,use:mf,useCallback:uS,useContext:Zt,useEffect:sx,useImperativeHandle:cS,useInsertionEffect:aS,useLayoutEffect:oS,useMemo:dS,useReducer:Om,useRef:iS,useState:function(){return Om(hi)},useDebugValue:ix,useDeferredValue:function(t,e){var n=vt();return Ke===null?rx(n,t,e):hS(n,Ke.memoizedState,t,e)},useTransition:function(){var t=Om(hi)[0],e=vt().memoizedState;return[typeof t=="boolean"?t:mu(t),e]},useSyncExternalStore:QN,useId:gS,useHostTransitionStatus:ax,useFormState:Db,useActionState:Db,useOptimistic:function(t,e){var n=vt();return Ke!==null?ZN(n,Ke,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:tx,useCacheRefresh:xS};_S.useEffectEvent=rS;function Vm(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var lg={enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Bn(),i=ir(s);i.payload=e,n!=null&&(i.callback=n),e=rr(t,i,s),e!==null&&(En(e,t,s),oc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Bn(),i=ir(s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=rr(t,i,s),e!==null&&(En(e,t,s),oc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Bn(),s=ir(n);s.tag=2,e!=null&&(s.callback=e),e=rr(t,s,n),e!==null&&(En(e,t,n),oc(e,t,n))}};function Ob(t,e,n,s,i,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,r,o):e.prototype&&e.prototype.isPureReactComponent?!kc(n,s)||!kc(i,r):!0}function Vb(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&lg.enqueueReplaceState(e,e.state,null)}function ga(t,e){var n=e;if("ref"in e){n={};for(var s in e)s!=="ref"&&(n[s]=e[s])}if(t=t.defaultProps){n===e&&(n=rt({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function NS(t){th(t)}function SS(t){console.error(t)}function TS(t){th(t)}function uh(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function Pb(t,e,n){try{var s=t.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function cg(t,e,n){return n=ir(n),n.tag=3,n.payload={element:null},n.callback=function(){uh(t,e)},n}function ES(t){return t=ir(t),t.tag=3,t}function AS(t,e,n,s){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=s.value;t.payload=function(){return i(r)},t.callback=function(){Pb(e,n,s)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){Pb(e,n,s),typeof i!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var l=s.stack;this.componentDidCatch(s.value,{componentStack:l!==null?l:""})})}function MI(t,e,n,s,i){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=n.alternate,e!==null&&el(e,n,i,!0),n=Hn.current,n!==null){switch(n.tag){case 31:case 13:return is===null?ph():n.alternate===null&&mt===0&&(mt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,s===rh?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([s]):e.add(s),Qm(t,s,i)),!1;case 22:return n.flags|=65536,s===rh?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([s]):n.add(s)),Qm(t,s,i)),!1}throw Error(K(435,n.tag))}return Qm(t,s,i),ph(),!1}if(Ve)return e=Hn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,s!==Xp&&(t=Error(K(422),{cause:s}),Mc(ts(t,n)))):(s!==Xp&&(e=Error(K(423),{cause:s}),Mc(ts(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,s=ts(s,n),i=cg(t.stateNode,s,i),Mm(t,i),mt!==4&&(mt=2)),!1;var r=Error(K(520),{cause:s});if(r=ts(r,n),fc===null?fc=[r]:fc.push(r),mt!==4&&(mt=2),e===null)return!0;s=ts(s,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=cg(n.stateNode,s,t),Mm(n,t),!1;case 1:if(e=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(ar===null||!ar.has(r))))return n.flags|=65536,i&=-i,n.lanes|=i,i=ES(i),AS(i,t,n,s),Mm(n,i),!1}n=n.return}while(n!==null);return!1}var cx=Error(K(461)),Et=!1;function Qt(t,e,n,s){e.child=t===null?BN(e,null,n,s):ma(e,t.child,n,s)}function Lb(t,e,n,s,i){n=n.render;var r=e.ref;if("ref"in s){var o={};for(var l in s)l!=="ref"&&(o[l]=s[l])}else o=s;return fa(e),s=W0(t,e,n,o,r,i),l=J0(),t!==null&&!Et?(Z0(t,e,i),fi(t,e,i)):(Ve&&l&&$0(e),e.flags|=1,Qt(t,e,s,i),e.child)}function zb(t,e,n,s,i){if(t===null){var r=n.type;return typeof r=="function"&&!F0(r)&&r.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=r,jS(t,e,r,s,i)):(t=Td(n.type,null,s,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!ux(t,i)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:kc,n(o,s)&&t.ref===e.ref)return fi(t,e,i)}return e.flags|=1,t=si(r,s),t.ref=e.ref,t.return=e,e.child=t}function jS(t,e,n,s,i){if(t!==null){var r=t.memoizedProps;if(kc(r,s)&&t.ref===e.ref)if(Et=!1,e.pendingProps=s=r,ux(t,i))t.flags&131072&&(Et=!0);else return e.lanes=t.lanes,fi(t,e,i)}return ug(t,e,n,s,i)}function CS(t,e,n,s){var i=s.children,r=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if(e.flags&128){if(r=r!==null?r.baseLanes|n:n,t!==null){for(s=e.child=t.child,i=0;s!==null;)i=i|s.lanes|s.childLanes,s=s.sibling;s=i&~r}else s=0,e.child=null;return Ub(t,e,r,n,s)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ed(e,r!==null?r.cachePool:null),r!==null?jb(e,r):sg(),HN(e);else return s=e.lanes=536870912,Ub(t,e,r!==null?r.baseLanes|n:n,n,s)}else r!==null?(Ed(e,r.cachePool),jb(e,r),Hi(),e.memoizedState=null):(t!==null&&Ed(e,null),sg(),Hi());return Qt(t,e,i,n),e.child}function Hl(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Ub(t,e,n,s,i){var r=K0();return r=r===null?null:{parent:St._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&Ed(e,null),sg(),HN(e),t!==null&&el(t,e,s,!0),e.childLanes=i,null}function Cd(t,e){return e=dh({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Bb(t,e,n){return ma(e,t.child,null,n),t=Cd(e,e.pendingProps),t.flags|=2,Dn(e),e.memoizedState=null,t}function OI(t,e,n){var s=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Ve){if(s.mode==="hidden")return t=Cd(e,s),e.lanes=536870912,Hl(null,t);if(ig(e),(t=tt)?(t=wT(t,ns),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:xr!==null?{id:As,overflow:js}:null,retryLane:536870912,hydrationErrors:null},n=MN(t),n.return=e,e.child=n,Wt=e,tt=null)):t=null,t===null)throw yr(e);return e.lanes=536870912,null}return Cd(e,s)}var r=t.memoizedState;if(r!==null){var o=r.dehydrated;if(ig(e),i)if(e.flags&256)e.flags&=-257,e=Bb(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(K(558));else if(Et||el(t,e,n,!1),i=(n&t.childLanes)!==0,Et||i){if(s=qe,s!==null&&(o=aN(s,n),o!==0&&o!==r.retryLane))throw r.retryLane=o,Aa(t,o),En(s,t,o),cx;ph(),e=Bb(t,e,n)}else t=r.treeContext,tt=rs(o.nextSibling),Wt=e,Ve=!0,sr=null,ns=!1,t!==null&&VN(e,t),e=Cd(e,s),e.flags|=4096;return e}return t=si(t.child,{mode:s.mode,children:s.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Rd(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(K(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function ug(t,e,n,s,i){return fa(e),n=W0(t,e,n,s,void 0,i),s=J0(),t!==null&&!Et?(Z0(t,e,i),fi(t,e,i)):(Ve&&s&&$0(e),e.flags|=1,Qt(t,e,n,i),e.child)}function Fb(t,e,n,s,i,r){return fa(e),e.updateQueue=null,n=KN(e,s,n,i),GN(t),s=J0(),t!==null&&!Et?(Z0(t,e,r),fi(t,e,r)):(Ve&&s&&$0(e),e.flags|=1,Qt(t,e,n,r),e.child)}function $b(t,e,n,s,i){if(fa(e),e.stateNode===null){var r=io,o=n.contextType;typeof o=="object"&&o!==null&&(r=Zt(o)),r=new n(s,r),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=lg,e.stateNode=r,r._reactInternals=e,r=e.stateNode,r.props=s,r.state=e.memoizedState,r.refs={},q0(e),o=n.contextType,r.context=typeof o=="object"&&o!==null?Zt(o):io,r.state=e.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(Vm(e,n,o,s),r.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(o=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),o!==r.state&&lg.enqueueReplaceState(r,r.state,null),cc(e,s,r,i),lc(),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){r=e.stateNode;var l=e.memoizedProps,c=ga(n,l);r.props=c;var d=r.context,h=n.contextType;o=io,typeof h=="object"&&h!==null&&(o=Zt(h));var f=n.getDerivedStateFromProps;h=typeof f=="function"||typeof r.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,h||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(l||d!==o)&&Vb(e,r,s,o),Ui=!1;var m=e.memoizedState;r.state=m,cc(e,s,r,i),lc(),d=e.memoizedState,l||m!==d||Ui?(typeof f=="function"&&(Vm(e,n,f,s),d=e.memoizedState),(c=Ui||Ob(e,n,c,s,m,d,o))?(h||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(e.flags|=4194308)):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=d),r.props=s,r.state=d,r.context=o,s=c):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{r=e.stateNode,tg(t,e),o=e.memoizedProps,h=ga(n,o),r.props=h,f=e.pendingProps,m=r.context,d=n.contextType,c=io,typeof d=="object"&&d!==null&&(c=Zt(d)),l=n.getDerivedStateFromProps,(d=typeof l=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o!==f||m!==c)&&Vb(e,r,s,c),Ui=!1,m=e.memoizedState,r.state=m,cc(e,s,r,i),lc();var y=e.memoizedState;o!==f||m!==y||Ui||t!==null&&t.dependencies!==null&&ih(t.dependencies)?(typeof l=="function"&&(Vm(e,n,l,s),y=e.memoizedState),(h=Ui||Ob(e,n,h,s,m,y,c)||t!==null&&t.dependencies!==null&&ih(t.dependencies))?(d||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(s,y,c),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(s,y,c)),typeof r.componentDidUpdate=="function"&&(e.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof r.componentDidUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=y),r.props=s,r.state=y,r.context=c,s=h):(typeof r.componentDidUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),s=!1)}return r=s,Rd(t,e),s=(e.flags&128)!==0,r||s?(r=e.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:r.render(),e.flags|=1,t!==null&&s?(e.child=ma(e,t.child,null,i),e.child=ma(e,null,n,i)):Qt(t,e,n,i),e.memoizedState=r.state,t=e.child):t=fi(t,e,i),t}function Hb(t,e,n,s){return ha(),e.flags|=256,Qt(t,e,n,s),e.child}var Pm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lm(t){return{baseLanes:t,cachePool:LN()}}function zm(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Vn),t}function RS(t,e,n){var s=e.pendingProps,i=!1,r=(e.flags&128)!==0,o;if((o=r)||(o=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),o&&(i=!0,e.flags&=-129),o=(e.flags&32)!==0,e.flags&=-33,t===null){if(Ve){if(i?$i(e):Hi(),(t=tt)?(t=wT(t,ns),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:xr!==null?{id:As,overflow:js}:null,retryLane:536870912,hydrationErrors:null},n=MN(t),n.return=e,e.child=n,Wt=e,tt=null)):t=null,t===null)throw yr(e);return Sg(t)?e.lanes=32:e.lanes=536870912,null}var l=s.children;return s=s.fallback,i?(Hi(),i=e.mode,l=dh({mode:"hidden",children:l},i),s=ia(s,i,n,null),l.return=e,s.return=e,l.sibling=s,e.child=l,s=e.child,s.memoizedState=Lm(n),s.childLanes=zm(t,o,n),e.memoizedState=Pm,Hl(null,s)):($i(e),dg(e,l))}var c=t.memoizedState;if(c!==null&&(l=c.dehydrated,l!==null)){if(r)e.flags&256?($i(e),e.flags&=-257,e=Um(t,e,n)):e.memoizedState!==null?(Hi(),e.child=t.child,e.flags|=128,e=null):(Hi(),l=s.fallback,i=e.mode,s=dh({mode:"visible",children:s.children},i),l=ia(l,i,n,null),l.flags|=2,s.return=e,l.return=e,s.sibling=l,e.child=s,ma(e,t.child,null,n),s=e.child,s.memoizedState=Lm(n),s.childLanes=zm(t,o,n),e.memoizedState=Pm,e=Hl(null,s));else if($i(e),Sg(l)){if(o=l.nextSibling&&l.nextSibling.dataset,o)var d=o.dgst;o=d,s=Error(K(419)),s.stack="",s.digest=o,Mc({value:s,source:null,stack:null}),e=Um(t,e,n)}else if(Et||el(t,e,n,!1),o=(n&t.childLanes)!==0,Et||o){if(o=qe,o!==null&&(s=aN(o,n),s!==0&&s!==c.retryLane))throw c.retryLane=s,Aa(t,s),En(o,t,s),cx;Ng(l)||ph(),e=Um(t,e,n)}else Ng(l)?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,tt=rs(l.nextSibling),Wt=e,Ve=!0,sr=null,ns=!1,t!==null&&VN(e,t),e=dg(e,s.children),e.flags|=4096);return e}return i?(Hi(),l=s.fallback,i=e.mode,c=t.child,d=c.sibling,s=si(c,{mode:"hidden",children:s.children}),s.subtreeFlags=c.subtreeFlags&65011712,d!==null?l=si(d,l):(l=ia(l,i,n,null),l.flags|=2),l.return=e,s.return=e,s.sibling=l,e.child=s,Hl(null,s),s=e.child,l=t.child.memoizedState,l===null?l=Lm(n):(i=l.cachePool,i!==null?(c=St._currentValue,i=i.parent!==c?{parent:c,pool:c}:i):i=LN(),l={baseLanes:l.baseLanes|n,cachePool:i}),s.memoizedState=l,s.childLanes=zm(t,o,n),e.memoizedState=Pm,Hl(t.child,s)):($i(e),n=t.child,t=n.sibling,n=si(n,{mode:"visible",children:s.children}),n.return=e,n.sibling=null,t!==null&&(o=e.deletions,o===null?(e.deletions=[t],e.flags|=16):o.push(t)),e.child=n,e.memoizedState=null,n)}function dg(t,e){return e=dh({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function dh(t,e){return t=Mn(22,t,null,e),t.lanes=0,t}function Um(t,e,n){return ma(e,t.child,null,n),t=dg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Gb(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),Jp(t.return,e,n)}function Bm(t,e,n,s,i,r){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i,treeForkCount:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=n,o.tailMode=i,o.treeForkCount=r)}function IS(t,e,n){var s=e.pendingProps,i=s.revealOrder,r=s.tail;s=s.children;var o=yt.current,l=(o&2)!==0;if(l?(o=o&1|2,e.flags|=128):o&=1,We(yt,o),Qt(t,e,s,n),s=Ve?Dc:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gb(t,n,e);else if(t.tag===19)Gb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&oh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Bm(e,!1,i,n,r,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&oh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Bm(e,!0,n,null,r,s);break;case"together":Bm(e,!1,null,null,void 0,s);break;default:e.memoizedState=null}return e.child}function fi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),br|=e.lanes,!(n&e.childLanes))if(t!==null){if(el(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=si(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=si(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ux(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&ih(t)))}function VI(t,e,n){switch(e.tag){case 3:Wd(e,e.stateNode.containerInfo),Fi(e,St,t.memoizedState.cache),ha();break;case 27:case 5:zp(e);break;case 4:Wd(e,e.stateNode.containerInfo);break;case 10:Fi(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,ig(e),null;break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?($i(e),e.flags|=128,null):n&e.child.childLanes?RS(t,e,n):($i(e),t=fi(t,e,n),t!==null?t.sibling:null);$i(e);break;case 19:var i=(t.flags&128)!==0;if(s=(n&e.childLanes)!==0,s||(el(t,e,n,!1),s=(n&e.childLanes)!==0),i){if(s)return IS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),We(yt,yt.current),s)break;return null;case 22:return e.lanes=0,CS(t,e,n,e.pendingProps);case 24:Fi(e,St,t.memoizedState.cache)}return fi(t,e,n)}function kS(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Et=!0;else{if(!ux(t,n)&&!(e.flags&128))return Et=!1,VI(t,e,n);Et=!!(t.flags&131072)}else Et=!1,Ve&&e.flags&1048576&&ON(e,Dc,e.index);switch(e.lanes=0,e.tag){case 16:e:{var s=e.pendingProps;if(t=Kr(e.elementType),e.type=t,typeof t=="function")F0(t)?(s=ga(t,s),e.tag=1,e=$b(null,e,t,s,n)):(e.tag=0,e=ug(null,e,t,s,n));else{if(t!=null){var i=t.$$typeof;if(i===j0){e.tag=11,e=Lb(null,e,t,s,n);break e}else if(i===C0){e.tag=14,e=zb(null,e,t,s,n);break e}}throw e=Pp(t)||t,Error(K(306,e,""))}}return e;case 0:return ug(t,e,e.type,e.pendingProps,n);case 1:return s=e.type,i=ga(s,e.pendingProps),$b(t,e,s,i,n);case 3:e:{if(Wd(e,e.stateNode.containerInfo),t===null)throw Error(K(387));s=e.pendingProps;var r=e.memoizedState;i=r.element,tg(t,e),cc(e,s,null,n);var o=e.memoizedState;if(s=o.cache,Fi(e,St,s),s!==r.cache&&Zp(e,[St],n,!0),lc(),s=o.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:o.cache},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){e=Hb(t,e,s,n);break e}else if(s!==i){i=ts(Error(K(424)),e),Mc(i),e=Hb(t,e,s,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(tt=rs(t.firstChild),Wt=e,Ve=!0,sr=null,ns=!0,n=BN(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ha(),s===i){e=fi(t,e,n);break e}Qt(t,e,s,n)}e=e.child}return e;case 26:return Rd(t,e),t===null?(n=d1(e.type,null,e.pendingProps,null))?e.memoizedState=n:Ve||(n=e.type,t=e.pendingProps,s=vh(nr.current).createElement(n),s[Xt]=e,s[Cn]=t,en(s,n,t),Bt(s),e.stateNode=s):e.memoizedState=d1(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return zp(e),t===null&&Ve&&(s=e.stateNode=_T(e.type,e.pendingProps,nr.current),Wt=e,ns=!0,i=tt,Rr(e.type)?(Tg=i,tt=rs(s.firstChild)):tt=i),Qt(t,e,e.pendingProps.children,n),Rd(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Ve&&((i=s=tt)&&(s=h3(s,e.type,e.pendingProps,ns),s!==null?(e.stateNode=s,Wt=e,tt=rs(s.firstChild),ns=!1,i=!0):i=!1),i||yr(e)),zp(e),i=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,s=r.children,wg(i,r)?s=null:o!==null&&wg(i,o)&&(e.flags|=32),e.memoizedState!==null&&(i=W0(t,e,AI,null,null,n),Uc._currentValue=i),Rd(t,e),Qt(t,e,s,n),e.child;case 6:return t===null&&Ve&&((t=n=tt)&&(n=f3(n,e.pendingProps,ns),n!==null?(e.stateNode=n,Wt=e,tt=null,t=!0):t=!1),t||yr(e)),null;case 13:return RS(t,e,n);case 4:return Wd(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=ma(e,null,s,n):Qt(t,e,s,n),e.child;case 11:return Lb(t,e,e.type,e.pendingProps,n);case 7:return Qt(t,e,e.pendingProps,n),e.child;case 8:return Qt(t,e,e.pendingProps.children,n),e.child;case 12:return Qt(t,e,e.pendingProps.children,n),e.child;case 10:return s=e.pendingProps,Fi(e,e.type,s.value),Qt(t,e,s.children,n),e.child;case 9:return i=e.type._context,s=e.pendingProps.children,fa(e),i=Zt(i),s=s(i),e.flags|=1,Qt(t,e,s,n),e.child;case 14:return zb(t,e,e.type,e.pendingProps,n);case 15:return jS(t,e,e.type,e.pendingProps,n);case 19:return IS(t,e,n);case 31:return OI(t,e,n);case 22:return CS(t,e,n,e.pendingProps);case 24:return fa(e),s=Zt(St),t===null?(i=K0(),i===null&&(i=qe,r=G0(),i.pooledCache=r,r.refCount++,r!==null&&(i.pooledCacheLanes|=n),i=r),e.memoizedState={parent:s,cache:i},q0(e),Fi(e,St,i)):(t.lanes&n&&(tg(t,e),cc(e,null,null,n),lc()),i=t.memoizedState,r=e.memoizedState,i.parent!==s?(i={parent:s,cache:s},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Fi(e,St,s)):(s=r.cache,Fi(e,St,s),s!==i.cache&&Zp(e,[St],n,!0))),Qt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(K(156,e.tag))}function Hs(t){t.flags|=4}function Fm(t,e,n,s,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(nT())t.flags|=8192;else throw aa=rh,Q0}else t.flags&=-16777217}function Kb(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!TT(e))if(nT())t.flags|=8192;else throw aa=rh,Q0}function rd(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?sN():536870912,t.lanes|=e,ko|=e)}function Ol(t,e){if(!Ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&65011712,s|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function PI(t,e,n){var s=e.pendingProps;switch(H0(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(e),null;case 1:return et(e),null;case 3:return n=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),ii(St),Eo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(za(e)?Hs(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dm())),et(e),null;case 26:var i=e.type,r=e.memoizedState;return t===null?(Hs(e),r!==null?(et(e),Kb(e,r)):(et(e),Fm(e,i,null,s,n))):r?r!==t.memoizedState?(Hs(e),et(e),Kb(e,r)):(et(e),e.flags&=-16777217):(t=t.memoizedProps,t!==s&&Hs(e),et(e),Fm(e,i,t,s,n)),null;case 27:if(Jd(e),n=nr.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Hs(e);else{if(!s){if(e.stateNode===null)throw Error(K(166));return et(e),null}t=Rs.current,za(e)?wb(e):(t=_T(i,s,n),e.stateNode=t,Hs(e))}return et(e),null;case 5:if(Jd(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Hs(e);else{if(!s){if(e.stateNode===null)throw Error(K(166));return et(e),null}if(r=Rs.current,za(e))wb(e);else{var o=vh(nr.current);switch(r){case 1:r=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:r=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":r=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":r=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":r=o.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof s.is=="string"?o.createElement("select",{is:s.is}):o.createElement("select"),s.multiple?r.multiple=!0:s.size&&(r.size=s.size);break;default:r=typeof s.is=="string"?o.createElement(i,{is:s.is}):o.createElement(i)}}r[Xt]=e,r[Cn]=s;e:for(o=e.child;o!==null;){if(o.tag===5||o.tag===6)r.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break e;for(;o.sibling===null;){if(o.return===null||o.return===e)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}e.stateNode=r;e:switch(en(r,i,s),i){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Hs(e)}}return et(e),Fm(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&Hs(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(K(166));if(t=nr.current,za(e)){if(t=e.stateNode,n=e.memoizedProps,s=null,i=Wt,i!==null)switch(i.tag){case 27:case 5:s=i.memoizedProps}t[Xt]=e,t=!!(t.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||yT(t.nodeValue,n)),t||yr(e,!0)}else t=vh(t).createTextNode(s),t[Xt]=e,e.stateNode=t}return et(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(s=za(e),n!==null){if(t===null){if(!s)throw Error(K(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(557));t[Xt]=e}else ha(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;et(e),t=!1}else n=Dm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Dn(e),e):(Dn(e),null);if(e.flags&128)throw Error(K(558))}return et(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=za(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(K(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[Xt]=e}else ha(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;et(e),i=!1}else i=Dm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Dn(e),e):(Dn(e),null)}return Dn(e),e.flags&128?(e.lanes=n,e):(n=s!==null,t=t!==null&&t.memoizedState!==null,n&&(s=e.child,i=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(i=s.alternate.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==i&&(s.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),rd(e,e.updateQueue),et(e),null);case 4:return Eo(),t===null&&xx(e.stateNode.containerInfo),et(e),null;case 10:return ii(e.type),et(e),null;case 19:if(Ft(yt),s=e.memoizedState,s===null)return et(e),null;if(i=(e.flags&128)!==0,r=s.rendering,r===null)if(i)Ol(s,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(r=oh(t),r!==null){for(e.flags|=128,Ol(s,!1),t=r.updateQueue,e.updateQueue=t,rd(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)DN(n,t),n=n.sibling;return We(yt,yt.current&1|2),Ve&&Ys(e,s.treeForkCount),e.child}t=t.sibling}s.tail!==null&&Ln()>fh&&(e.flags|=128,i=!0,Ol(s,!1),e.lanes=4194304)}else{if(!i)if(t=oh(r),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,rd(e,t),Ol(s,!0),s.tail===null&&s.tailMode==="hidden"&&!r.alternate&&!Ve)return et(e),null}else 2*Ln()-s.renderingStartTime>fh&&n!==536870912&&(e.flags|=128,i=!0,Ol(s,!1),e.lanes=4194304);s.isBackwards?(r.sibling=e.child,e.child=r):(t=s.last,t!==null?t.sibling=r:e.child=r,s.last=r)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ln(),t.sibling=null,n=yt.current,We(yt,i?n&1|2:n&1),Ve&&Ys(e,s.treeForkCount),t):(et(e),null);case 22:case 23:return Dn(e),Y0(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?n&536870912&&!(e.flags&128)&&(et(e),e.subtreeFlags&6&&(e.flags|=8192)):et(e),n=e.updateQueue,n!==null&&rd(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==n&&(e.flags|=2048),t!==null&&Ft(ra),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),ii(St),et(e),null;case 25:return null;case 30:return null}throw Error(K(156,e.tag))}function LI(t,e){switch(H0(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ii(St),Eo(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Jd(e),null;case 31:if(e.memoizedState!==null){if(Dn(e),e.alternate===null)throw Error(K(340));ha()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Dn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));ha()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ft(yt),null;case 4:return Eo(),null;case 10:return ii(e.type),null;case 22:case 23:return Dn(e),Y0(),t!==null&&Ft(ra),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return ii(St),null;case 25:return null;default:return null}}function DS(t,e){switch(H0(e),e.tag){case 3:ii(St),Eo();break;case 26:case 27:case 5:Jd(e);break;case 4:Eo();break;case 31:e.memoizedState!==null&&Dn(e);break;case 13:Dn(e);break;case 19:Ft(yt);break;case 10:ii(e.type);break;case 22:case 23:Dn(e),Y0(),t!==null&&Ft(ra);break;case 24:ii(St)}}function pu(t,e){try{var n=e.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var i=s.next;n=i;do{if((n.tag&t)===t){s=void 0;var r=n.create,o=n.inst;s=r(),o.destroy=s}n=n.next}while(n!==i)}}catch(l){He(e,e.return,l)}}function vr(t,e,n){try{var s=e.updateQueue,i=s!==null?s.lastEffect:null;if(i!==null){var r=i.next;s=r;do{if((s.tag&t)===t){var o=s.inst,l=o.destroy;if(l!==void 0){o.destroy=void 0,i=e;var c=n,d=l;try{d()}catch(h){He(i,c,h)}}}s=s.next}while(s!==r)}}catch(h){He(e,e.return,h)}}function MS(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{$N(e,n)}catch(s){He(t,t.return,s)}}}function OS(t,e,n){n.props=ga(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(s){He(t,e,s)}}function dc(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof n=="function"?t.refCleanup=n(s):n.current=s}}catch(i){He(t,e,i)}}function Cs(t,e){var n=t.ref,s=t.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(i){He(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){He(t,e,i)}else n.current=null}function VS(t){var e=t.type,n=t.memoizedProps,s=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(i){He(t,t.return,i)}}function $m(t,e,n){try{var s=t.stateNode;a3(s,t.type,n,e),s[Cn]=e}catch(i){He(t,t.return,i)}}function PS(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Rr(t.type)||t.tag===4}function Hm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||PS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Rr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hg(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zs));else if(s!==4&&(s===27&&Rr(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(hg(t,e,n),t=t.sibling;t!==null;)hg(t,e,n),t=t.sibling}function hh(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(s===27&&Rr(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(hh(t,e,n),t=t.sibling;t!==null;)hh(t,e,n),t=t.sibling}function LS(t){var e=t.stateNode,n=t.memoizedProps;try{for(var s=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);en(e,s,n),e[Xt]=t,e[Cn]=n}catch(r){He(t,t.return,r)}}var Xs=!1,Nt=!1,Gm=!1,Qb=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function zI(t,e){if(t=t.containerInfo,vg=Nh,t=TN(t),z0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,h=0,f=t,m=null;t:for(;;){for(var y;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==r||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===t)break t;if(m===n&&++d===i&&(l=o),m===r&&++h===s&&(c=o),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(bg={focusedElem:t,selectionRange:n},Nh=!1,Ut=e;Ut!==null;)if(e=Ut,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ut=t;else for(;Ut!==null;){switch(e=Ut,r=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&r!==null){t=void 0,n=e,i=r.memoizedProps,r=r.memoizedState,s=n.stateNode;try{var S=ga(n.type,i);t=s.getSnapshotBeforeUpdate(S,r),s.__reactInternalSnapshotBeforeUpdate=t}catch(R){He(n,n.return,R)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)_g(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_g(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(K(163))}if(t=e.sibling,t!==null){t.return=e.return,Ut=t;break}Ut=e.return}}function zS(t,e,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:Ks(t,n),s&4&&pu(5,n);break;case 1:if(Ks(t,n),s&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(o){He(n,n.return,o)}else{var i=ga(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(o){He(n,n.return,o)}}s&64&&MS(n),s&512&&dc(n,n.return);break;case 3:if(Ks(t,n),s&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{$N(t,e)}catch(o){He(n,n.return,o)}}break;case 27:e===null&&s&4&&LS(n);case 26:case 5:Ks(t,n),e===null&&s&4&&VS(n),s&512&&dc(n,n.return);break;case 12:Ks(t,n);break;case 31:Ks(t,n),s&4&&FS(t,n);break;case 13:Ks(t,n),s&4&&$S(t,n),s&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=qI.bind(null,n),m3(t,n))));break;case 22:if(s=n.memoizedState!==null||Xs,!s){e=e!==null&&e.memoizedState!==null||Nt,i=Xs;var r=Nt;Xs=s,(Nt=e)&&!r?qs(t,n,(n.subtreeFlags&8772)!==0):Ks(t,n),Xs=i,Nt=r}break;case 30:break;default:Ks(t,n)}}function US(t){var e=t.alternate;e!==null&&(t.alternate=null,US(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&D0(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var at=null,_n=!1;function Gs(t,e,n){for(n=n.child;n!==null;)BS(t,e,n),n=n.sibling}function BS(t,e,n){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(lu,n)}catch{}switch(n.tag){case 26:Nt||Cs(n,e),Gs(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Nt||Cs(n,e);var s=at,i=_n;Rr(n.type)&&(at=n.stateNode,_n=!1),Gs(t,e,n),pc(n.stateNode),at=s,_n=i;break;case 5:Nt||Cs(n,e);case 6:if(s=at,i=_n,at=null,Gs(t,e,n),at=s,_n=i,at!==null)if(_n)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(n.stateNode)}catch(r){He(n,e,r)}else try{at.removeChild(n.stateNode)}catch(r){He(n,e,r)}break;case 18:at!==null&&(_n?(t=at,a1(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Vo(t)):a1(at,n.stateNode));break;case 4:s=at,i=_n,at=n.stateNode.containerInfo,_n=!0,Gs(t,e,n),at=s,_n=i;break;case 0:case 11:case 14:case 15:vr(2,n,e),Nt||vr(4,n,e),Gs(t,e,n);break;case 1:Nt||(Cs(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"&&OS(n,e,s)),Gs(t,e,n);break;case 21:Gs(t,e,n);break;case 22:Nt=(s=Nt)||n.memoizedState!==null,Gs(t,e,n),Nt=s;break;default:Gs(t,e,n)}}function FS(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Vo(t)}catch(n){He(e,e.return,n)}}}function $S(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vo(t)}catch(n){He(e,e.return,n)}}function UI(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Qb),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Qb),e;default:throw Error(K(435,t.tag))}}function ad(t,e){var n=UI(t);e.forEach(function(s){if(!n.has(s)){n.add(s);var i=YI.bind(null,t,s);s.then(i,i)}})}function bn(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s],r=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 27:if(Rr(l.type)){at=l.stateNode,_n=!1;break e}break;case 5:at=l.stateNode,_n=!1;break e;case 3:case 4:at=l.stateNode.containerInfo,_n=!0;break e}l=l.return}if(at===null)throw Error(K(160));BS(r,o,i),at=null,_n=!1,r=i.alternate,r!==null&&(r.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)HS(e,t),e=e.sibling}var xs=null;function HS(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(e,t),wn(t),s&4&&(vr(3,t,t.return),pu(3,t),vr(5,t,t.return));break;case 1:bn(e,t),wn(t),s&512&&(Nt||n===null||Cs(n,n.return)),s&64&&Xs&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var i=xs;if(bn(e,t),wn(t),s&512&&(Nt||n===null||Cs(n,n.return)),s&4){var r=n!==null?n.memoizedState:null;if(s=t.memoizedState,n===null)if(s===null)if(t.stateNode===null){e:{s=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(s){case"title":r=i.getElementsByTagName("title")[0],(!r||r[du]||r[Xt]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=i.createElement(s),i.head.insertBefore(r,i.querySelector("head > title"))),en(r,s,n),r[Xt]=t,Bt(r),s=r;break e;case"link":var o=f1("link","href",i).get(s+(n.href||""));if(o){for(var l=0;l<o.length;l++)if(r=o[l],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(l,1);break t}}r=i.createElement(s),en(r,s,n),i.head.appendChild(r);break;case"meta":if(o=f1("meta","content",i).get(s+(n.content||""))){for(l=0;l<o.length;l++)if(r=o[l],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(l,1);break t}}r=i.createElement(s),en(r,s,n),i.head.appendChild(r);break;default:throw Error(K(468,s))}r[Xt]=t,Bt(r),s=r}t.stateNode=s}else m1(i,t.type,t.stateNode);else t.stateNode=h1(i,s,t.memoizedProps);else r!==s?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,s===null?m1(i,t.type,t.stateNode):h1(i,s,t.memoizedProps)):s===null&&t.stateNode!==null&&$m(t,t.memoizedProps,n.memoizedProps)}break;case 27:bn(e,t),wn(t),s&512&&(Nt||n===null||Cs(n,n.return)),n!==null&&s&4&&$m(t,t.memoizedProps,n.memoizedProps);break;case 5:if(bn(e,t),wn(t),s&512&&(Nt||n===null||Cs(n,n.return)),t.flags&32){i=t.stateNode;try{jo(i,"")}catch(S){He(t,t.return,S)}}s&4&&t.stateNode!=null&&(i=t.memoizedProps,$m(t,i,n!==null?n.memoizedProps:i)),s&1024&&(Gm=!0);break;case 6:if(bn(e,t),wn(t),s&4){if(t.stateNode===null)throw Error(K(162));s=t.memoizedProps,n=t.stateNode;try{n.nodeValue=s}catch(S){He(t,t.return,S)}}break;case 3:if(Dd=null,i=xs,xs=bh(e.containerInfo),bn(e,t),xs=i,wn(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Vo(e.containerInfo)}catch(S){He(t,t.return,S)}Gm&&(Gm=!1,GS(t));break;case 4:s=xs,xs=bh(t.stateNode.containerInfo),bn(e,t),wn(t),xs=s;break;case 12:bn(e,t),wn(t);break;case 31:bn(e,t),wn(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,ad(t,s)));break;case 13:bn(e,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(xf=Ln()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,ad(t,s)));break;case 22:i=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,d=Xs,h=Nt;if(Xs=d||i,Nt=h||c,bn(e,t),Nt=h,Xs=d,wn(t),s&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||c||Xs||Nt||Qr(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(r=c.stateNode,i)o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var f=c.memoizedProps.style,m=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(S){He(c,c.return,S)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(S){He(c,c.return,S)}}}else if(e.tag===18){if(n===null){c=e;try{var y=c.stateNode;i?o1(y,!0):o1(c.stateNode,!1)}catch(S){He(c,c.return,S)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,ad(t,n))));break;case 19:bn(e,t),wn(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,ad(t,s)));break;case 30:break;case 21:break;default:bn(e,t),wn(t)}}function wn(t){var e=t.flags;if(e&2){try{for(var n,s=t.return;s!==null;){if(PS(s)){n=s;break}s=s.return}if(n==null)throw Error(K(160));switch(n.tag){case 27:var i=n.stateNode,r=Hm(t);hh(t,r,i);break;case 5:var o=n.stateNode;n.flags&32&&(jo(o,""),n.flags&=-33);var l=Hm(t);hh(t,l,o);break;case 3:case 4:var c=n.stateNode.containerInfo,d=Hm(t);hg(t,d,c);break;default:throw Error(K(161))}}catch(h){He(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GS(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;GS(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Ks(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)zS(t,e.alternate,e),e=e.sibling}function Qr(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:vr(4,e,e.return),Qr(e);break;case 1:Cs(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&OS(e,e.return,n),Qr(e);break;case 27:pc(e.stateNode);case 26:case 5:Cs(e,e.return),Qr(e);break;case 22:e.memoizedState===null&&Qr(e);break;case 30:Qr(e);break;default:Qr(e)}t=t.sibling}}function qs(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,i=t,r=e,o=r.flags;switch(r.tag){case 0:case 11:case 15:qs(i,r,n),pu(4,r);break;case 1:if(qs(i,r,n),s=r,i=s.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(d){He(s,s.return,d)}if(s=r,i=s.updateQueue,i!==null){var l=s.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)FN(c[i],l)}catch(d){He(s,s.return,d)}}n&&o&64&&MS(r),dc(r,r.return);break;case 27:LS(r);case 26:case 5:qs(i,r,n),n&&s===null&&o&4&&VS(r),dc(r,r.return);break;case 12:qs(i,r,n);break;case 31:qs(i,r,n),n&&o&4&&FS(i,r);break;case 13:qs(i,r,n),n&&o&4&&$S(i,r);break;case 22:r.memoizedState===null&&qs(i,r,n),dc(r,r.return);break;case 30:break;default:qs(i,r,n)}e=e.sibling}}function dx(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&fu(n))}function hx(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&fu(t))}function fs(t,e,n,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)KS(t,e,n,s),e=e.sibling}function KS(t,e,n,s){var i=e.flags;switch(e.tag){case 0:case 11:case 15:fs(t,e,n,s),i&2048&&pu(9,e);break;case 1:fs(t,e,n,s);break;case 3:fs(t,e,n,s),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&fu(t)));break;case 12:if(i&2048){fs(t,e,n,s),t=e.stateNode;try{var r=e.memoizedProps,o=r.id,l=r.onPostCommit;typeof l=="function"&&l(o,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){He(e,e.return,c)}}else fs(t,e,n,s);break;case 31:fs(t,e,n,s);break;case 13:fs(t,e,n,s);break;case 23:break;case 22:r=e.stateNode,o=e.alternate,e.memoizedState!==null?r._visibility&2?fs(t,e,n,s):hc(t,e):r._visibility&2?fs(t,e,n,s):(r._visibility|=2,Ha(t,e,n,s,(e.subtreeFlags&10256)!==0||!1)),i&2048&&dx(o,e);break;case 24:fs(t,e,n,s),i&2048&&hx(e.alternate,e);break;default:fs(t,e,n,s)}}function Ha(t,e,n,s,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var r=t,o=e,l=n,c=s,d=o.flags;switch(o.tag){case 0:case 11:case 15:Ha(r,o,l,c,i),pu(8,o);break;case 23:break;case 22:var h=o.stateNode;o.memoizedState!==null?h._visibility&2?Ha(r,o,l,c,i):hc(r,o):(h._visibility|=2,Ha(r,o,l,c,i)),i&&d&2048&&dx(o.alternate,o);break;case 24:Ha(r,o,l,c,i),i&&d&2048&&hx(o.alternate,o);break;default:Ha(r,o,l,c,i)}e=e.sibling}}function hc(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,s=e,i=s.flags;switch(s.tag){case 22:hc(n,s),i&2048&&dx(s.alternate,s);break;case 24:hc(n,s),i&2048&&hx(s.alternate,s);break;default:hc(n,s)}e=e.sibling}}var Gl=8192;function Ua(t,e,n){if(t.subtreeFlags&Gl)for(t=t.child;t!==null;)QS(t,e,n),t=t.sibling}function QS(t,e,n){switch(t.tag){case 26:Ua(t,e,n),t.flags&Gl&&t.memoizedState!==null&&E3(n,xs,t.memoizedState,t.memoizedProps);break;case 5:Ua(t,e,n);break;case 3:case 4:var s=xs;xs=bh(t.stateNode.containerInfo),Ua(t,e,n),xs=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=Gl,Gl=16777216,Ua(t,e,n),Gl=s):Ua(t,e,n));break;default:Ua(t,e,n)}}function qS(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Vl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];Ut=s,XS(s,t)}qS(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)YS(t),t=t.sibling}function YS(t){switch(t.tag){case 0:case 11:case 15:Vl(t),t.flags&2048&&vr(9,t,t.return);break;case 3:Vl(t);break;case 12:Vl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Id(t)):Vl(t);break;default:Vl(t)}}function Id(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];Ut=s,XS(s,t)}qS(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:vr(8,e,e.return),Id(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Id(e));break;default:Id(e)}t=t.sibling}}function XS(t,e){for(;Ut!==null;){var n=Ut;switch(n.tag){case 0:case 11:case 15:vr(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:fu(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,Ut=s;else e:for(n=t;Ut!==null;){s=Ut;var i=s.sibling,r=s.return;if(US(s),s===n){Ut=null;break e}if(i!==null){i.return=r,Ut=i;break e}Ut=r}}}var BI={getCacheForType:function(t){var e=Zt(St),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Zt(St).controller.signal}},FI=typeof WeakMap=="function"?WeakMap:Map,Ue=0,qe=null,Ie=null,Oe=0,$e=0,kn=null,Wi=!1,nl=!1,fx=!1,mi=0,mt=0,br=0,oa=0,mx=0,Vn=0,ko=0,fc=null,Nn=null,fg=!1,xf=0,WS=0,fh=1/0,mh=null,ar=null,Dt=0,or=null,Do=null,ri=0,mg=0,pg=null,JS=null,mc=0,gg=null;function Bn(){return Ue&2&&Oe!==0?Oe&-Oe:be.T!==null?gx():oN()}function ZS(){if(Vn===0)if(!(Oe&536870912)||Ve){var t=Ju;Ju<<=1,!(Ju&3932160)&&(Ju=262144),Vn=t}else Vn=536870912;return t=Hn.current,t!==null&&(t.flags|=32),Vn}function En(t,e,n){(t===qe&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(Mo(t,0),Ji(t,Oe,Vn,!1)),uu(t,n),(!(Ue&2)||t!==qe)&&(t===qe&&(!(Ue&2)&&(oa|=n),mt===4&&Ji(t,Oe,Vn,!1)),Us(t))}function eT(t,e,n){if(Ue&6)throw Error(K(327));var s=!n&&(e&127)===0&&(e&t.expiredLanes)===0||cu(t,e),i=s?GI(t,e):Km(t,e,!0),r=s;do{if(i===0){nl&&!s&&Ji(t,e,0,!1);break}else{if(n=t.current.alternate,r&&!$I(n)){i=Km(t,e,!1),r=!1;continue}if(i===2){if(r=e,t.errorRecoveryDisabledLanes&r)var o=0;else o=t.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){e=o;e:{var l=t;i=fc;var c=l.current.memoizedState.isDehydrated;if(c&&(Mo(l,o).flags|=256),o=Km(l,o,!1),o!==2){if(fx&&!c){l.errorRecoveryDisabledLanes|=r,oa|=r,i=4;break e}r=Nn,Nn=i,r!==null&&(Nn===null?Nn=r:Nn.push.apply(Nn,r))}i=o}if(r=!1,i!==2)continue}}if(i===1){Mo(t,0),Ji(t,e,0,!0);break}e:{switch(s=t,r=i,r){case 0:case 1:throw Error(K(345));case 4:if((e&4194048)!==e)break;case 6:Ji(s,e,Vn,!Wi);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(K(329))}if((e&62914560)===e&&(i=xf+300-Ln(),10<i)){if(Ji(s,e,Vn,!Wi),af(s,0,!0)!==0)break e;ri=e,s.timeoutHandle=bT(qb.bind(null,s,n,Nn,mh,fg,e,Vn,oa,ko,Wi,r,"Throttled",-0,0),i);break e}qb(s,n,Nn,mh,fg,e,Vn,oa,ko,Wi,r,null,-0,0)}}break}while(!0);Us(t)}function qb(t,e,n,s,i,r,o,l,c,d,h,f,m,y){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zs},QS(e,r,f);var S=(r&62914560)===r?xf-Ln():(r&4194048)===r?WS-Ln():0;if(S=A3(f,S),S!==null){ri=r,t.cancelPendingCommit=S(Xb.bind(null,t,e,r,n,s,i,o,l,c,h,f,null,m,y)),Ji(t,r,o,!d);return}}Xb(t,e,r,n,s,i,o,l,c)}function $I(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var i=n[s],r=i.getSnapshot;i=i.value;try{if(!$n(r(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ji(t,e,n,s){e&=~mx,e&=~oa,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var i=e;0<i;){var r=31-Un(i),o=1<<r;s[r]=-1,i&=~o}n!==0&&iN(t,n,e)}function yf(){return Ue&6?!0:(gu(0),!1)}function px(){if(Ie!==null){if($e===0)var t=Ie.return;else t=Ie,ei=ja=null,ex(t),yo=null,Oc=0,t=Ie;for(;t!==null;)DS(t.alternate,t),t=t.return;Ie=null}}function Mo(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,c3(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),ri=0,px(),qe=t,Ie=n=si(t.current,null),Oe=e,$e=0,kn=null,Wi=!1,nl=cu(t,e),fx=!1,ko=Vn=mx=oa=br=mt=0,Nn=fc=null,fg=!1,e&8&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var i=31-Un(s),r=1<<i;e|=t[i],s&=~r}return mi=e,uf(),n}function tT(t,e){Ae=null,be.H=Pc,e===tl||e===hf?(e=Eb(),$e=3):e===Q0?(e=Eb(),$e=4):$e=e===cx?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,kn=e,Ie===null&&(mt=1,uh(t,ts(e,t.current)))}function nT(){var t=Hn.current;return t===null?!0:(Oe&4194048)===Oe?is===null:(Oe&62914560)===Oe||Oe&536870912?t===is:!1}function sT(){var t=be.H;return be.H=Pc,t===null?Pc:t}function iT(){var t=be.A;return be.A=BI,t}function ph(){mt=4,Wi||(Oe&4194048)!==Oe&&Hn.current!==null||(nl=!0),!(br&134217727)&&!(oa&134217727)||qe===null||Ji(qe,Oe,Vn,!1)}function Km(t,e,n){var s=Ue;Ue|=2;var i=sT(),r=iT();(qe!==t||Oe!==e)&&(mh=null,Mo(t,e)),e=!1;var o=mt;e:do try{if($e!==0&&Ie!==null){var l=Ie,c=kn;switch($e){case 8:px(),o=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(e=!0);var d=$e;if($e=0,kn=null,oo(t,l,c,d),n&&nl){o=0;break e}break;default:d=$e,$e=0,kn=null,oo(t,l,c,d)}}HI(),o=mt;break}catch(h){tT(t,h)}while(!0);return e&&t.shellSuspendCounter++,ei=ja=null,Ue=s,be.H=i,be.A=r,Ie===null&&(qe=null,Oe=0,uf()),o}function HI(){for(;Ie!==null;)rT(Ie)}function GI(t,e){var n=Ue;Ue|=2;var s=sT(),i=iT();qe!==t||Oe!==e?(mh=null,fh=Ln()+500,Mo(t,e)):nl=cu(t,e);e:do try{if($e!==0&&Ie!==null){e=Ie;var r=kn;t:switch($e){case 1:$e=0,kn=null,oo(t,e,r,1);break;case 2:case 9:if(Tb(r)){$e=0,kn=null,Yb(e);break}e=function(){$e!==2&&$e!==9||qe!==t||($e=7),Us(t)},r.then(e,e);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Tb(r)?($e=0,kn=null,Yb(e)):($e=0,kn=null,oo(t,e,r,7));break;case 5:var o=null;switch(Ie.tag){case 26:o=Ie.memoizedState;case 5:case 27:var l=Ie;if(o?TT(o):l.stateNode.complete){$e=0,kn=null;var c=l.sibling;if(c!==null)Ie=c;else{var d=l.return;d!==null?(Ie=d,vf(d)):Ie=null}break t}}$e=0,kn=null,oo(t,e,r,5);break;case 6:$e=0,kn=null,oo(t,e,r,6);break;case 8:px(),mt=6;break e;default:throw Error(K(462))}}KI();break}catch(h){tT(t,h)}while(!0);return ei=ja=null,be.H=s,be.A=i,Ue=n,Ie!==null?0:(qe=null,Oe=0,uf(),mt)}function KI(){for(;Ie!==null&&!pR();)rT(Ie)}function rT(t){var e=kS(t.alternate,t,mi);t.memoizedProps=t.pendingProps,e===null?vf(t):Ie=e}function Yb(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Fb(n,e,e.pendingProps,e.type,void 0,Oe);break;case 11:e=Fb(n,e,e.pendingProps,e.type.render,e.ref,Oe);break;case 5:ex(e);default:DS(n,e),e=Ie=DN(e,mi),e=kS(n,e,mi)}t.memoizedProps=t.pendingProps,e===null?vf(t):Ie=e}function oo(t,e,n,s){ei=ja=null,ex(e),yo=null,Oc=0;var i=e.return;try{if(MI(t,i,e,n,Oe)){mt=1,uh(t,ts(n,t.current)),Ie=null;return}}catch(r){if(i!==null)throw Ie=i,r;mt=1,uh(t,ts(n,t.current)),Ie=null;return}e.flags&32768?(Ve||s===1?t=!0:nl||Oe&536870912?t=!1:(Wi=t=!0,(s===2||s===9||s===3||s===6)&&(s=Hn.current,s!==null&&s.tag===13&&(s.flags|=16384))),aT(e,t)):vf(e)}function vf(t){var e=t;do{if(e.flags&32768){aT(e,Wi);return}t=e.return;var n=PI(e.alternate,e,mi);if(n!==null){Ie=n;return}if(e=e.sibling,e!==null){Ie=e;return}Ie=e=t}while(e!==null);mt===0&&(mt=5)}function aT(t,e){do{var n=LI(t.alternate,t);if(n!==null){n.flags&=32767,Ie=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=n}while(t!==null);mt=6,Ie=null}function Xb(t,e,n,s,i,r,o,l,c){t.cancelPendingCommit=null;do bf();while(Dt!==0);if(Ue&6)throw Error(K(327));if(e!==null){if(e===t.current)throw Error(K(177));if(r=e.lanes|e.childLanes,r|=U0,TR(t,n,r,o,l,c),t===qe&&(Ie=qe=null,Oe=0),Do=e,or=t,ri=n,mg=r,pg=i,JS=s,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,XI(Zd,function(){return dT(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,e.subtreeFlags&13878||s){s=be.T,be.T=null,i=Be.p,Be.p=2,o=Ue,Ue|=4;try{zI(t,e,n)}finally{Ue=o,Be.p=i,be.T=s}}Dt=1,oT(),lT(),cT()}}function oT(){if(Dt===1){Dt=0;var t=or,e=Do,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=be.T,be.T=null;var s=Be.p;Be.p=2;var i=Ue;Ue|=4;try{HS(e,t);var r=bg,o=TN(t.containerInfo),l=r.focusedElem,c=r.selectionRange;if(o!==l&&l&&l.ownerDocument&&SN(l.ownerDocument.documentElement,l)){if(c!==null&&z0(l)){var d=c.start,h=c.end;if(h===void 0&&(h=d),"selectionStart"in l)l.selectionStart=d,l.selectionEnd=Math.min(h,l.value.length);else{var f=l.ownerDocument||document,m=f&&f.defaultView||window;if(m.getSelection){var y=m.getSelection(),S=l.textContent.length,R=Math.min(c.start,S),j=c.end===void 0?R:Math.min(c.end,S);!y.extend&&R>j&&(o=j,j=R,R=o);var N=yb(l,R),x=yb(l,j);if(N&&x&&(y.rangeCount!==1||y.anchorNode!==N.node||y.anchorOffset!==N.offset||y.focusNode!==x.node||y.focusOffset!==x.offset)){var v=f.createRange();v.setStart(N.node,N.offset),y.removeAllRanges(),R>j?(y.addRange(v),y.extend(x.node,x.offset)):(v.setEnd(x.node,x.offset),y.addRange(v))}}}}for(f=[],y=l;y=y.parentNode;)y.nodeType===1&&f.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var E=f[l];E.element.scrollLeft=E.left,E.element.scrollTop=E.top}}Nh=!!vg,bg=vg=null}finally{Ue=i,Be.p=s,be.T=n}}t.current=e,Dt=2}}function lT(){if(Dt===2){Dt=0;var t=or,e=Do,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=be.T,be.T=null;var s=Be.p;Be.p=2;var i=Ue;Ue|=4;try{zS(t,e.alternate,e)}finally{Ue=i,Be.p=s,be.T=n}}Dt=3}}function cT(){if(Dt===4||Dt===3){Dt=0,gR();var t=or,e=Do,n=ri,s=JS;e.subtreeFlags&10256||e.flags&10256?Dt=5:(Dt=0,Do=or=null,uT(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(ar=null),k0(n),e=e.stateNode,zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(lu,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=be.T,i=Be.p,Be.p=2,be.T=null;try{for(var r=t.onRecoverableError,o=0;o<s.length;o++){var l=s[o];r(l.value,{componentStack:l.stack})}}finally{be.T=e,Be.p=i}}ri&3&&bf(),Us(t),i=t.pendingLanes,n&261930&&i&42?t===gg?mc++:(mc=0,gg=t):mc=0,gu(0)}}function uT(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,fu(e)))}function bf(){return oT(),lT(),cT(),dT()}function dT(){if(Dt!==5)return!1;var t=or,e=mg;mg=0;var n=k0(ri),s=be.T,i=Be.p;try{Be.p=32>n?32:n,be.T=null,n=pg,pg=null;var r=or,o=ri;if(Dt=0,Do=or=null,ri=0,Ue&6)throw Error(K(331));var l=Ue;if(Ue|=4,YS(r.current),KS(r,r.current,o,n),Ue=l,gu(0,!1),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(lu,r)}catch{}return!0}finally{Be.p=i,be.T=s,uT(t,e)}}function Wb(t,e,n){e=ts(n,e),e=cg(t.stateNode,e,2),t=rr(t,e,2),t!==null&&(uu(t,2),Us(t))}function He(t,e,n){if(t.tag===3)Wb(t,t,n);else for(;e!==null;){if(e.tag===3){Wb(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ar===null||!ar.has(s))){t=ts(n,t),n=ES(2),s=rr(e,n,2),s!==null&&(AS(n,s,e,t),uu(s,2),Us(s));break}}e=e.return}}function Qm(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new FI;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(n)||(fx=!0,i.add(n),t=QI.bind(null,t,e,n),e.then(t,t))}function QI(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,qe===t&&(Oe&n)===n&&(mt===4||mt===3&&(Oe&62914560)===Oe&&300>Ln()-xf?!(Ue&2)&&Mo(t,0):mx|=n,ko===Oe&&(ko=0)),Us(t)}function hT(t,e){e===0&&(e=sN()),t=Aa(t,e),t!==null&&(uu(t,e),Us(t))}function qI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hT(t,n)}function YI(t,e){var n=0;switch(t.tag){case 31:case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(K(314))}s!==null&&s.delete(e),hT(t,n)}function XI(t,e){return R0(t,e)}var gh=null,Ga=null,xg=!1,xh=!1,qm=!1,Zi=0;function Us(t){t!==Ga&&t.next===null&&(Ga===null?gh=Ga=t:Ga=Ga.next=t),xh=!0,xg||(xg=!0,JI())}function gu(t,e){if(!qm&&xh){qm=!0;do for(var n=!1,s=gh;s!==null;){if(t!==0){var i=s.pendingLanes;if(i===0)var r=0;else{var o=s.suspendedLanes,l=s.pingedLanes;r=(1<<31-Un(42|t)+1)-1,r&=i&~(o&~l),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,Jb(s,r))}else r=Oe,r=af(s,s===qe?r:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(r&3)||cu(s,r)||(n=!0,Jb(s,r));s=s.next}while(n);qm=!1}}function WI(){fT()}function fT(){xh=xg=!1;var t=0;Zi!==0&&l3()&&(t=Zi);for(var e=Ln(),n=null,s=gh;s!==null;){var i=s.next,r=mT(s,e);r===0?(s.next=null,n===null?gh=i:n.next=i,i===null&&(Ga=n)):(n=s,(t!==0||r&3)&&(xh=!0)),s=i}Dt!==0&&Dt!==5||gu(t),Zi!==0&&(Zi=0)}function mT(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,r=t.pendingLanes&-62914561;0<r;){var o=31-Un(r),l=1<<o,c=i[o];c===-1?(!(l&n)||l&s)&&(i[o]=SR(l,e)):c<=e&&(t.expiredLanes|=l),r&=~l}if(e=qe,n=Oe,n=af(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,n===0||t===e&&($e===2||$e===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&_m(s),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||cu(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(s!==null&&_m(s),k0(n)){case 2:case 8:n=tN;break;case 32:n=Zd;break;case 268435456:n=nN;break;default:n=Zd}return s=pT.bind(null,t),n=R0(n,s),t.callbackPriority=e,t.callbackNode=n,e}return s!==null&&s!==null&&_m(s),t.callbackPriority=2,t.callbackNode=null,2}function pT(t,e){if(Dt!==0&&Dt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(bf()&&t.callbackNode!==n)return null;var s=Oe;return s=af(t,t===qe?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(eT(t,s,e),mT(t,Ln()),t.callbackNode!=null&&t.callbackNode===n?pT.bind(null,t):null)}function Jb(t,e){if(bf())return null;eT(t,e,!0)}function JI(){u3(function(){Ue&6?R0(eN,WI):fT()})}function gx(){if(Zi===0){var t=Co;t===0&&(t=Wu,Wu<<=1,!(Wu&261888)&&(Wu=256)),Zi=t}return Zi}function Zb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_d(""+t)}function e1(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function ZI(t,e,n,s,i){if(e==="submit"&&n&&n.stateNode===i){var r=Zb((i[Cn]||null).action),o=s.submitter;o&&(e=(e=o[Cn]||null)?Zb(e.formAction):o.getAttribute("formAction"),e!==null&&(r=e,o=null));var l=new of("action","action",null,s,i);t.push({event:l,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Zi!==0){var c=o?e1(i,o):new FormData(i);og(n,{pending:!0,data:c,method:i.method,action:r},null,c)}}else typeof r=="function"&&(l.preventDefault(),c=o?e1(i,o):new FormData(i),og(n,{pending:!0,data:c,method:i.method,action:r},r,c))},currentTarget:i}]})}}for(var Ym=0;Ym<Yp.length;Ym++){var Xm=Yp[Ym],e3=Xm.toLowerCase(),t3=Xm[0].toUpperCase()+Xm.slice(1);Ns(e3,"on"+t3)}Ns(AN,"onAnimationEnd");Ns(jN,"onAnimationIteration");Ns(CN,"onAnimationStart");Ns("dblclick","onDoubleClick");Ns("focusin","onFocus");Ns("focusout","onBlur");Ns(xI,"onTransitionRun");Ns(yI,"onTransitionStart");Ns(vI,"onTransitionCancel");Ns(RN,"onTransitionEnd");Ao("onMouseEnter",["mouseout","mouseover"]);Ao("onMouseLeave",["mouseout","mouseover"]);Ao("onPointerEnter",["pointerout","pointerover"]);Ao("onPointerLeave",["pointerout","pointerover"]);Sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lc));function gT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],i=s.event;s=s.listeners;e:{var r=void 0;if(e)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==r&&i.isPropagationStopped())break e;r=l,i.currentTarget=d;try{r(i)}catch(h){th(h)}i.currentTarget=null,r=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==r&&i.isPropagationStopped())break e;r=l,i.currentTarget=d;try{r(i)}catch(h){th(h)}i.currentTarget=null,r=c}}}}function Re(t,e){var n=e[Bp];n===void 0&&(n=e[Bp]=new Set);var s=t+"__bubble";n.has(s)||(xT(e,t,2,!1),n.add(s))}function Wm(t,e,n){var s=0;e&&(s|=4),xT(n,t,s,e)}var od="_reactListening"+Math.random().toString(36).slice(2);function xx(t){if(!t[od]){t[od]=!0,lN.forEach(function(n){n!=="selectionchange"&&(n3.has(n)||Wm(n,!1,t),Wm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[od]||(e[od]=!0,Wm("selectionchange",!1,e))}}function xT(t,e,n,s){switch(RT(e)){case 2:var i=R3;break;case 8:i=I3;break;default:i=wx}n=i.bind(null,e,n,t),i=void 0,!Kp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Jm(t,e,n,s,i){var r=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===i)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&o.stateNode.containerInfo===i)return;o=o.return}for(;l!==null;){if(o=Ja(l),o===null)return;if(c=o.tag,c===5||c===6||c===26||c===27){s=r=o;continue e}l=l.parentNode}}s=s.return}gN(function(){var d=r,h=O0(n),f=[];e:{var m=IN.get(t);if(m!==void 0){var y=of,S=t;switch(t){case"keypress":if(Sd(n)===0)break e;case"keydown":case"keyup":y=YR;break;case"focusin":S="focus",y=Am;break;case"focusout":S="blur",y=Am;break;case"beforeblur":case"afterblur":y=Am;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=lb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=PR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=JR;break;case AN:case jN:case CN:y=UR;break;case RN:y=eI;break;case"scroll":case"scrollend":y=OR;break;case"wheel":y=nI;break;case"copy":case"cut":case"paste":y=FR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=ub;break;case"toggle":case"beforetoggle":y=iI}var R=(e&4)!==0,j=!R&&(t==="scroll"||t==="scrollend"),N=R?m!==null?m+"Capture":null:m;R=[];for(var x=d,v;x!==null;){var E=x;if(v=E.stateNode,E=E.tag,E!==5&&E!==26&&E!==27||v===null||N===null||(E=Rc(x,N),E!=null&&R.push(zc(x,E,v))),j)break;x=x.return}0<R.length&&(m=new y(m,S,null,n,h),f.push({event:m,listeners:R}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==Gp&&(S=n.relatedTarget||n.fromElement)&&(Ja(S)||S[Jo]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(S=n.relatedTarget||n.toElement,y=d,S=S?Ja(S):null,S!==null&&(j=ou(S),R=S.tag,S!==j||R!==5&&R!==27&&R!==6)&&(S=null)):(y=null,S=d),y!==S)){if(R=lb,E="onMouseLeave",N="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(R=ub,E="onPointerLeave",N="onPointerEnter",x="pointer"),j=y==null?m:$l(y),v=S==null?m:$l(S),m=new R(E,x+"leave",y,n,h),m.target=j,m.relatedTarget=v,E=null,Ja(h)===d&&(R=new R(N,x+"enter",S,n,h),R.target=v,R.relatedTarget=j,E=R),j=E,y&&S)t:{for(R=s3,N=y,x=S,v=0,E=N;E;E=R(E))v++;E=0;for(var M=x;M;M=R(M))E++;for(;0<v-E;)N=R(N),v--;for(;0<E-v;)x=R(x),E--;for(;v--;){if(N===x||x!==null&&N===x.alternate){R=N;break t}N=R(N),x=R(x)}R=null}else R=null;y!==null&&t1(f,m,y,R,!1),S!==null&&j!==null&&t1(f,j,S,R,!0)}}e:{if(m=d?$l(d):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var L=mb;else if(fb(m))if(_N)L=mI;else{L=hI;var T=dI}else y=m.nodeName,!y||y.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?d&&M0(d.elementType)&&(L=mb):L=fI;if(L&&(L=L(t,d))){wN(f,L,n,h);break e}T&&T(t,m,d),t==="focusout"&&d&&m.type==="number"&&d.memoizedProps.value!=null&&Hp(m,"number",m.value)}switch(T=d?$l(d):window,t){case"focusin":(fb(T)||T.contentEditable==="true")&&(to=T,Qp=d,rc=null);break;case"focusout":rc=Qp=to=null;break;case"mousedown":qp=!0;break;case"contextmenu":case"mouseup":case"dragend":qp=!1,vb(f,n,h);break;case"selectionchange":if(gI)break;case"keydown":case"keyup":vb(f,n,h)}var p;if(L0)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else eo?vN(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(yN&&n.locale!=="ko"&&(eo||w!=="onCompositionStart"?w==="onCompositionEnd"&&eo&&(p=xN()):(Xi=h,V0="value"in Xi?Xi.value:Xi.textContent,eo=!0)),T=yh(d,w),0<T.length&&(w=new cb(w,t,null,n,h),f.push({event:w,listeners:T}),p?w.data=p:(p=bN(n),p!==null&&(w.data=p)))),(p=aI?oI(t,n):lI(t,n))&&(w=yh(d,"onBeforeInput"),0<w.length&&(T=new cb("onBeforeInput","beforeinput",null,n,h),f.push({event:T,listeners:w}),T.data=p)),ZI(f,t,d,n,h)}gT(f,e)})}function zc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yh(t,e){for(var n=e+"Capture",s=[];t!==null;){var i=t,r=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||r===null||(i=Rc(t,n),i!=null&&s.unshift(zc(t,i,r)),i=Rc(t,e),i!=null&&s.push(zc(t,i,r))),t.tag===3)return s;t=t.return}return[]}function s3(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function t1(t,e,n,s,i){for(var r=e._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,d=l.stateNode;if(l=l.tag,c!==null&&c===s)break;l!==5&&l!==26&&l!==27||d===null||(c=d,i?(d=Rc(n,r),d!=null&&o.unshift(zc(n,d,c))):i||(d=Rc(n,r),d!=null&&o.push(zc(n,d,c)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var i3=/\r\n?/g,r3=/\u0000|\uFFFD/g;function n1(t){return(typeof t=="string"?t:""+t).replace(i3,`
`).replace(r3,"")}function yT(t,e){return e=n1(e),n1(t)===e}function Ge(t,e,n,s,i,r){switch(n){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||jo(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&jo(t,""+s);break;case"className":ed(t,"class",s);break;case"tabIndex":ed(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ed(t,n,s);break;case"style":pN(t,s,r);break;case"data":if(e!=="object"){ed(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=_d(""+s),t.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(e!=="input"&&Ge(t,e,"name",i.name,i,null),Ge(t,e,"formEncType",i.formEncType,i,null),Ge(t,e,"formMethod",i.formMethod,i,null),Ge(t,e,"formTarget",i.formTarget,i,null)):(Ge(t,e,"encType",i.encType,i,null),Ge(t,e,"method",i.method,i,null),Ge(t,e,"target",i.target,i,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=_d(""+s),t.setAttribute(n,s);break;case"onClick":s!=null&&(t.onclick=Zs);break;case"onScroll":s!=null&&Re("scroll",t);break;case"onScrollEnd":s!=null&&Re("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(K(61));if(n=s.__html,n!=null){if(i.children!=null)throw Error(K(60));t.innerHTML=n}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}n=_d(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""+s):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":s===!0?t.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,s):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(n,s):t.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(n):t.setAttribute(n,s);break;case"popover":Re("beforetoggle",t),Re("toggle",t),wd(t,"popover",s);break;case"xlinkActuate":$s(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":$s(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":$s(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":$s(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":$s(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":$s(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":$s(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":$s(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":$s(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":wd(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=DR.get(n)||n,wd(t,n,s))}}function yg(t,e,n,s,i,r){switch(n){case"style":pN(t,s,r);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(K(61));if(n=s.__html,n!=null){if(i.children!=null)throw Error(K(60));t.innerHTML=n}}break;case"children":typeof s=="string"?jo(t,s):(typeof s=="number"||typeof s=="bigint")&&jo(t,""+s);break;case"onScroll":s!=null&&Re("scroll",t);break;case"onScrollEnd":s!=null&&Re("scrollend",t);break;case"onClick":s!=null&&(t.onclick=Zs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cN.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),r=t[Cn]||null,r=r!=null?r[n]:null,typeof r=="function"&&t.removeEventListener(e,r,i),typeof s=="function")){typeof r!="function"&&r!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,s,i);break e}n in t?t[n]=s:s===!0?t.setAttribute(n,""):wd(t,n,s)}}}function en(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",t),Re("load",t);var s=!1,i=!1,r;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(o!=null)switch(r){case"src":s=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(K(137,e));default:Ge(t,e,r,o,n,null)}}i&&Ge(t,e,"srcSet",n.srcSet,n,null),s&&Ge(t,e,"src",n.src,n,null);return;case"input":Re("invalid",t);var l=r=o=i=null,c=null,d=null;for(s in n)if(n.hasOwnProperty(s)){var h=n[s];if(h!=null)switch(s){case"name":i=h;break;case"type":o=h;break;case"checked":c=h;break;case"defaultChecked":d=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(K(137,e));break;default:Ge(t,e,s,h,n,null)}}hN(t,r,l,c,d,o,i,!1);return;case"select":Re("invalid",t),s=o=r=null;for(i in n)if(n.hasOwnProperty(i)&&(l=n[i],l!=null))switch(i){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":s=l;default:Ge(t,e,i,l,n,null)}e=r,n=o,t.multiple=!!s,e!=null?po(t,!!s,e,!1):n!=null&&po(t,!!s,n,!0);return;case"textarea":Re("invalid",t),r=i=s=null;for(o in n)if(n.hasOwnProperty(o)&&(l=n[o],l!=null))switch(o){case"value":s=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(K(91));break;default:Ge(t,e,o,l,n,null)}mN(t,s,i,r);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(s=n[c],s!=null))switch(c){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ge(t,e,c,s,n,null)}return;case"dialog":Re("beforetoggle",t),Re("toggle",t),Re("cancel",t),Re("close",t);break;case"iframe":case"object":Re("load",t);break;case"video":case"audio":for(s=0;s<Lc.length;s++)Re(Lc[s],t);break;case"image":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"embed":case"source":case"link":Re("error",t),Re("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&(s=n[d],s!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(K(137,e));default:Ge(t,e,d,s,n,null)}return;default:if(M0(e)){for(h in n)n.hasOwnProperty(h)&&(s=n[h],s!==void 0&&yg(t,e,h,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(s=n[l],s!=null&&Ge(t,e,l,s,n,null))}function a3(t,e,n,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,r=null,o=null,l=null,c=null,d=null,h=null;for(y in n){var f=n[y];if(n.hasOwnProperty(y)&&f!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":c=f;default:s.hasOwnProperty(y)||Ge(t,e,y,null,s,f)}}for(var m in s){var y=s[m];if(f=n[m],s.hasOwnProperty(m)&&(y!=null||f!=null))switch(m){case"type":r=y;break;case"name":i=y;break;case"checked":d=y;break;case"defaultChecked":h=y;break;case"value":o=y;break;case"defaultValue":l=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(K(137,e));break;default:y!==f&&Ge(t,e,m,y,s,f)}}$p(t,o,l,c,d,h,r,i);return;case"select":y=o=l=m=null;for(r in n)if(c=n[r],n.hasOwnProperty(r)&&c!=null)switch(r){case"value":break;case"multiple":y=c;default:s.hasOwnProperty(r)||Ge(t,e,r,null,s,c)}for(i in s)if(r=s[i],c=n[i],s.hasOwnProperty(i)&&(r!=null||c!=null))switch(i){case"value":m=r;break;case"defaultValue":l=r;break;case"multiple":o=r;default:r!==c&&Ge(t,e,i,r,s,c)}e=l,n=o,s=y,m!=null?po(t,!!n,m,!1):!!s!=!!n&&(e!=null?po(t,!!n,e,!0):po(t,!!n,n?[]:"",!1));return;case"textarea":y=m=null;for(l in n)if(i=n[l],n.hasOwnProperty(l)&&i!=null&&!s.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Ge(t,e,l,null,s,i)}for(o in s)if(i=s[o],r=n[o],s.hasOwnProperty(o)&&(i!=null||r!=null))switch(o){case"value":m=i;break;case"defaultValue":y=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(K(91));break;default:i!==r&&Ge(t,e,o,i,s,r)}fN(t,m,y);return;case"option":for(var S in n)if(m=n[S],n.hasOwnProperty(S)&&m!=null&&!s.hasOwnProperty(S))switch(S){case"selected":t.selected=!1;break;default:Ge(t,e,S,null,s,m)}for(c in s)if(m=s[c],y=n[c],s.hasOwnProperty(c)&&m!==y&&(m!=null||y!=null))switch(c){case"selected":t.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ge(t,e,c,m,s,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var R in n)m=n[R],n.hasOwnProperty(R)&&m!=null&&!s.hasOwnProperty(R)&&Ge(t,e,R,null,s,m);for(d in s)if(m=s[d],y=n[d],s.hasOwnProperty(d)&&m!==y&&(m!=null||y!=null))switch(d){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(K(137,e));break;default:Ge(t,e,d,m,s,y)}return;default:if(M0(e)){for(var j in n)m=n[j],n.hasOwnProperty(j)&&m!==void 0&&!s.hasOwnProperty(j)&&yg(t,e,j,void 0,s,m);for(h in s)m=s[h],y=n[h],!s.hasOwnProperty(h)||m===y||m===void 0&&y===void 0||yg(t,e,h,m,s,y);return}}for(var N in n)m=n[N],n.hasOwnProperty(N)&&m!=null&&!s.hasOwnProperty(N)&&Ge(t,e,N,null,s,m);for(f in s)m=s[f],y=n[f],!s.hasOwnProperty(f)||m===y||m==null&&y==null||Ge(t,e,f,m,s,y)}function s1(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function o3(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var i=n[s],r=i.transferSize,o=i.initiatorType,l=i.duration;if(r&&l&&s1(o)){for(o=0,l=i.responseEnd,s+=1;s<n.length;s++){var c=n[s],d=c.startTime;if(d>l)break;var h=c.transferSize,f=c.initiatorType;h&&s1(f)&&(c=c.responseEnd,o+=h*(c<l?1:(l-d)/(c-d)))}if(--s,e+=8*(r+o)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var vg=null,bg=null;function vh(t){return t.nodeType===9?t:t.ownerDocument}function i1(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vT(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function wg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zm=null;function l3(){var t=window.event;return t&&t.type==="popstate"?t===Zm?!1:(Zm=t,!0):(Zm=null,!1)}var bT=typeof setTimeout=="function"?setTimeout:void 0,c3=typeof clearTimeout=="function"?clearTimeout:void 0,r1=typeof Promise=="function"?Promise:void 0,u3=typeof queueMicrotask=="function"?queueMicrotask:typeof r1<"u"?function(t){return r1.resolve(null).then(t).catch(d3)}:bT;function d3(t){setTimeout(function(){throw t})}function Rr(t){return t==="head"}function a1(t,e){var n=e,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(s===0){t.removeChild(i),Vo(e);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")pc(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,pc(n);for(var r=n.firstChild;r;){var o=r.nextSibling,l=r.nodeName;r[du]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=o}}else n==="body"&&pc(t.ownerDocument.body);n=i}while(n);Vo(e)}function o1(t,e){var n=t;t=0;do{var s=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=s}while(n)}function _g(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":_g(n),D0(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function h3(t,e,n,s){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[du])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(r=t.getAttribute("rel"),r==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(r!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(r=t.getAttribute("src"),(r!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&r&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var r=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===r)return t}else return t;if(t=rs(t.nextSibling),t===null)break}return null}function f3(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=rs(t.nextSibling),t===null))return null;return t}function wT(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=rs(t.nextSibling),t===null))return null;return t}function Ng(t){return t.data==="$?"||t.data==="$~"}function Sg(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function m3(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var s=function(){e(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function rs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Tg=null;function l1(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return rs(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function c1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function _T(t,e,n){switch(e=vh(n),t){case"html":if(t=e.documentElement,!t)throw Error(K(452));return t;case"head":if(t=e.head,!t)throw Error(K(453));return t;case"body":if(t=e.body,!t)throw Error(K(454));return t;default:throw Error(K(451))}}function pc(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);D0(t)}var ls=new Map,u1=new Set;function bh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ti=Be.d;Be.d={f:p3,r:g3,D:x3,C:y3,L:v3,m:b3,X:_3,S:w3,M:N3};function p3(){var t=Ti.f(),e=yf();return t||e}function g3(t){var e=Zo(t);e!==null&&e.tag===5&&e.type==="form"?pS(e):Ti.r(t)}var sl=typeof document>"u"?null:document;function NT(t,e,n){var s=sl;if(s&&typeof e=="string"&&e){var i=es(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),u1.has(i)||(u1.add(i),t={rel:t,crossOrigin:n,href:e},s.querySelector(i)===null&&(e=s.createElement("link"),en(e,"link",t),Bt(e),s.head.appendChild(e)))}}function x3(t){Ti.D(t),NT("dns-prefetch",t,null)}function y3(t,e){Ti.C(t,e),NT("preconnect",t,e)}function v3(t,e,n){Ti.L(t,e,n);var s=sl;if(s&&t&&e){var i='link[rel="preload"][as="'+es(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+es(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+es(n.imageSizes)+'"]')):i+='[href="'+es(t)+'"]';var r=i;switch(e){case"style":r=Oo(t);break;case"script":r=il(t)}ls.has(r)||(t=rt({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),ls.set(r,t),s.querySelector(i)!==null||e==="style"&&s.querySelector(xu(r))||e==="script"&&s.querySelector(yu(r))||(e=s.createElement("link"),en(e,"link",t),Bt(e),s.head.appendChild(e)))}}function b3(t,e){Ti.m(t,e);var n=sl;if(n&&t){var s=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+es(s)+'"][href="'+es(t)+'"]',r=i;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=il(t)}if(!ls.has(r)&&(t=rt({rel:"modulepreload",href:t},e),ls.set(r,t),n.querySelector(i)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(yu(r)))return}s=n.createElement("link"),en(s,"link",t),Bt(s),n.head.appendChild(s)}}}function w3(t,e,n){Ti.S(t,e,n);var s=sl;if(s&&t){var i=mo(s).hoistableStyles,r=Oo(t);e=e||"default";var o=i.get(r);if(!o){var l={loading:0,preload:null};if(o=s.querySelector(xu(r)))l.loading=5;else{t=rt({rel:"stylesheet",href:t,"data-precedence":e},n),(n=ls.get(r))&&yx(t,n);var c=o=s.createElement("link");Bt(c),en(c,"link",t),c._p=new Promise(function(d,h){c.onload=d,c.onerror=h}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,kd(o,e,s)}o={type:"stylesheet",instance:o,count:1,state:l},i.set(r,o)}}}function _3(t,e){Ti.X(t,e);var n=sl;if(n&&t){var s=mo(n).hoistableScripts,i=il(t),r=s.get(i);r||(r=n.querySelector(yu(i)),r||(t=rt({src:t,async:!0},e),(e=ls.get(i))&&vx(t,e),r=n.createElement("script"),Bt(r),en(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(i,r))}}function N3(t,e){Ti.M(t,e);var n=sl;if(n&&t){var s=mo(n).hoistableScripts,i=il(t),r=s.get(i);r||(r=n.querySelector(yu(i)),r||(t=rt({src:t,async:!0,type:"module"},e),(e=ls.get(i))&&vx(t,e),r=n.createElement("script"),Bt(r),en(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(i,r))}}function d1(t,e,n,s){var i=(i=nr.current)?bh(i):null;if(!i)throw Error(K(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Oo(n.href),n=mo(i).hoistableStyles,s=n.get(e),s||(s={type:"style",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Oo(n.href);var r=mo(i).hoistableStyles,o=r.get(t);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(t,o),(r=i.querySelector(xu(t)))&&!r._p&&(o.instance=r,o.state.loading=5),ls.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ls.set(t,n),r||S3(i,t,n,o.state))),e&&s===null)throw Error(K(528,""));return o}if(e&&s!==null)throw Error(K(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=il(n),n=mo(i).hoistableScripts,s=n.get(e),s||(s={type:"script",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(K(444,t))}}function Oo(t){return'href="'+es(t)+'"'}function xu(t){return'link[rel="stylesheet"]['+t+"]"}function ST(t){return rt({},t,{"data-precedence":t.precedence,precedence:null})}function S3(t,e,n,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),en(e,"link",n),Bt(e),t.head.appendChild(e))}function il(t){return'[src="'+es(t)+'"]'}function yu(t){return"script[async]"+t}function h1(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+es(n.href)+'"]');if(s)return e.instance=s,Bt(s),s;var i=rt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),Bt(s),en(s,"style",i),kd(s,n.precedence,t),e.instance=s;case"stylesheet":i=Oo(n.href);var r=t.querySelector(xu(i));if(r)return e.state.loading|=4,e.instance=r,Bt(r),r;s=ST(n),(i=ls.get(i))&&yx(s,i),r=(t.ownerDocument||t).createElement("link"),Bt(r);var o=r;return o._p=new Promise(function(l,c){o.onload=l,o.onerror=c}),en(r,"link",s),e.state.loading|=4,kd(r,n.precedence,t),e.instance=r;case"script":return r=il(n.src),(i=t.querySelector(yu(r)))?(e.instance=i,Bt(i),i):(s=n,(i=ls.get(r))&&(s=rt({},n),vx(s,i)),t=t.ownerDocument||t,i=t.createElement("script"),Bt(i),en(i,"link",s),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(K(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(s=e.instance,e.state.loading|=4,kd(s,n.precedence,t));return e.instance}function kd(t,e,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=s.length?s[s.length-1]:null,r=i,o=0;o<s.length;o++){var l=s[o];if(l.dataset.precedence===e)r=l;else if(r!==i)break}r?r.parentNode.insertBefore(t,r.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function yx(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function vx(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Dd=null;function f1(t,e,n){if(Dd===null){var s=new Map,i=Dd=new Map;i.set(n,s)}else i=Dd,s=i.get(n),s||(s=new Map,i.set(n,s));if(s.has(t))return s;for(s.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var r=n[i];if(!(r[du]||r[Xt]||t==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var o=r.getAttribute(e)||"";o=t+o;var l=s.get(o);l?l.push(r):s.set(o,[r])}}return s}function m1(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function T3(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function TT(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function E3(t,e,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Oo(s.href),r=e.querySelector(xu(i));if(r){e=r._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=wh.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=r,Bt(r);return}r=e.ownerDocument||e,s=ST(s),(i=ls.get(i))&&yx(s,i),r=r.createElement("link"),Bt(r);var o=r;o._p=new Promise(function(l,c){o.onload=l,o.onerror=c}),en(r,"link",s),n.instance=r}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=wh.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var ep=0;function A3(t,e){return t.stylesheets&&t.count===0&&Md(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var s=setTimeout(function(){if(t.stylesheets&&Md(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4+e);0<t.imgBytes&&ep===0&&(ep=62500*o3());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Md(t,t.stylesheets),t.unsuspend)){var r=t.unsuspend;t.unsuspend=null,r()}},(t.imgBytes>ep?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s),clearTimeout(i)}}:null}function wh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Md(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var _h=null;function Md(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,_h=new Map,e.forEach(j3,t),_h=null,wh.call(t))}function j3(t,e){if(!(e.state.loading&4)){var n=_h.get(t);if(n)var s=n.get(null);else{n=new Map,_h.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<i.length;r++){var o=i[r];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),s=o)}s&&n.set(null,s)}i=e.instance,o=i.getAttribute("data-precedence"),r=n.get(o)||s,r===s&&n.set(null,i),n.set(o,i),this.count++,s=wh.bind(this),i.addEventListener("load",s),i.addEventListener("error",s),r?r.parentNode.insertBefore(i,r.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Uc={$$typeof:Js,Provider:null,Consumer:null,_currentValue:sa,_currentValue2:sa,_threadCount:0};function C3(t,e,n,s,i,r,o,l,c){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nm(0),this.hiddenUpdates=Nm(null),this.identifierPrefix=s,this.onUncaughtError=i,this.onCaughtError=r,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function ET(t,e,n,s,i,r,o,l,c,d,h,f){return t=new C3(t,e,n,o,c,d,h,f,l),e=1,r===!0&&(e|=24),r=Mn(3,null,null,e),t.current=r,r.stateNode=t,e=G0(),e.refCount++,t.pooledCache=e,e.refCount++,r.memoizedState={element:s,isDehydrated:n,cache:e},q0(r),t}function AT(t){return t?(t=io,t):io}function jT(t,e,n,s,i,r){i=AT(i),s.context===null?s.context=i:s.pendingContext=i,s=ir(e),s.payload={element:n},r=r===void 0?null:r,r!==null&&(s.callback=r),n=rr(t,s,e),n!==null&&(En(n,t,e),oc(n,t,e))}function p1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function bx(t,e){p1(t,e),(t=t.alternate)&&p1(t,e)}function CT(t){if(t.tag===13||t.tag===31){var e=Aa(t,67108864);e!==null&&En(e,t,67108864),bx(t,67108864)}}function g1(t){if(t.tag===13||t.tag===31){var e=Bn();e=I0(e);var n=Aa(t,e);n!==null&&En(n,t,e),bx(t,e)}}var Nh=!0;function R3(t,e,n,s){var i=be.T;be.T=null;var r=Be.p;try{Be.p=2,wx(t,e,n,s)}finally{Be.p=r,be.T=i}}function I3(t,e,n,s){var i=be.T;be.T=null;var r=Be.p;try{Be.p=8,wx(t,e,n,s)}finally{Be.p=r,be.T=i}}function wx(t,e,n,s){if(Nh){var i=Eg(s);if(i===null)Jm(t,e,s,Sh,n),x1(t,s);else if(D3(i,t,e,n,s))s.stopPropagation();else if(x1(t,s),e&4&&-1<k3.indexOf(t)){for(;i!==null;){var r=Zo(i);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var o=Gr(r.pendingLanes);if(o!==0){var l=r;for(l.pendingLanes|=2,l.entangledLanes|=2;o;){var c=1<<31-Un(o);l.entanglements[1]|=c,o&=~c}Us(r),!(Ue&6)&&(fh=Ln()+500,gu(0))}}break;case 31:case 13:l=Aa(r,2),l!==null&&En(l,r,2),yf(),bx(r,2)}if(r=Eg(s),r===null&&Jm(t,e,s,Sh,n),r===i)break;i=r}i!==null&&s.stopPropagation()}else Jm(t,e,s,null,n)}}function Eg(t){return t=O0(t),_x(t)}var Sh=null;function _x(t){if(Sh=null,t=Ja(t),t!==null){var e=ou(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=Y2(e),t!==null)return t;t=null}else if(n===31){if(t=X2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Sh=t,null}function RT(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xR()){case eN:return 2;case tN:return 8;case Zd:case yR:return 32;case nN:return 268435456;default:return 32}default:return 32}}var Ag=!1,lr=null,cr=null,ur=null,Bc=new Map,Fc=new Map,Gi=[],k3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function x1(t,e){switch(t){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":Bc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fc.delete(e.pointerId)}}function Pl(t,e,n,s,i,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},e!==null&&(e=Zo(e),e!==null&&CT(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function D3(t,e,n,s,i){switch(e){case"focusin":return lr=Pl(lr,t,e,n,s,i),!0;case"dragenter":return cr=Pl(cr,t,e,n,s,i),!0;case"mouseover":return ur=Pl(ur,t,e,n,s,i),!0;case"pointerover":var r=i.pointerId;return Bc.set(r,Pl(Bc.get(r)||null,t,e,n,s,i)),!0;case"gotpointercapture":return r=i.pointerId,Fc.set(r,Pl(Fc.get(r)||null,t,e,n,s,i)),!0}return!1}function IT(t){var e=Ja(t.target);if(e!==null){var n=ou(e);if(n!==null){if(e=n.tag,e===13){if(e=Y2(n),e!==null){t.blockedOn=e,tb(t.priority,function(){g1(n)});return}}else if(e===31){if(e=X2(n),e!==null){t.blockedOn=e,tb(t.priority,function(){g1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Od(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Eg(t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Gp=s,n.target.dispatchEvent(s),Gp=null}else return e=Zo(n),e!==null&&CT(e),t.blockedOn=n,!1;e.shift()}return!0}function y1(t,e,n){Od(t)&&n.delete(e)}function M3(){Ag=!1,lr!==null&&Od(lr)&&(lr=null),cr!==null&&Od(cr)&&(cr=null),ur!==null&&Od(ur)&&(ur=null),Bc.forEach(y1),Fc.forEach(y1)}function ld(t,e){t.blockedOn===e&&(t.blockedOn=null,Ag||(Ag=!0,Vt.unstable_scheduleCallback(Vt.unstable_NormalPriority,M3)))}var cd=null;function v1(t){cd!==t&&(cd=t,Vt.unstable_scheduleCallback(Vt.unstable_NormalPriority,function(){cd===t&&(cd=null);for(var e=0;e<t.length;e+=3){var n=t[e],s=t[e+1],i=t[e+2];if(typeof s!="function"){if(_x(s||n)===null)continue;break}var r=Zo(n);r!==null&&(t.splice(e,3),e-=3,og(r,{pending:!0,data:i,method:n.method,action:s},s,i))}}))}function Vo(t){function e(c){return ld(c,t)}lr!==null&&ld(lr,t),cr!==null&&ld(cr,t),ur!==null&&ld(ur,t),Bc.forEach(e),Fc.forEach(e);for(var n=0;n<Gi.length;n++){var s=Gi[n];s.blockedOn===t&&(s.blockedOn=null)}for(;0<Gi.length&&(n=Gi[0],n.blockedOn===null);)IT(n),n.blockedOn===null&&Gi.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var i=n[s],r=n[s+1],o=i[Cn]||null;if(typeof r=="function")o||v1(n);else if(o){var l=null;if(r&&r.hasAttribute("formAction")){if(i=r,o=r[Cn]||null)l=o.formAction;else if(_x(i)!==null)continue}else l=o.action;typeof l=="function"?n[s+1]=l:(n.splice(s,3),s-=3),v1(n)}}}function kT(){function t(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(o){return i=o})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function Nx(t){this._internalRoot=t}wf.prototype.render=Nx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));var n=e.current,s=Bn();jT(n,s,t,e,null,null)};wf.prototype.unmount=Nx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;jT(t.current,2,null,t,null,null),yf(),e[Jo]=null}};function wf(t){this._internalRoot=t}wf.prototype.unstable_scheduleHydration=function(t){if(t){var e=oN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gi.length&&e!==0&&e<Gi[n].priority;n++);Gi.splice(n,0,t),n===0&&IT(t)}};var b1=Q2.version;if(b1!=="19.2.3")throw Error(K(527,b1,"19.2.3"));Be.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=uR(e),t=t!==null?W2(t):null,t=t===null?null:t.stateNode,t};var O3={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:be,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ud.isDisabled&&ud.supportsFiber)try{lu=ud.inject(O3),zn=ud}catch{}}sf.createRoot=function(t,e){if(!q2(t))throw Error(K(299));var n=!1,s="",i=NS,r=SS,o=TS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(r=e.onCaughtError),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=ET(t,1,!1,null,null,n,s,null,i,r,o,kT),t[Jo]=e.current,xx(t),new Nx(e)};sf.hydrateRoot=function(t,e,n){if(!q2(t))throw Error(K(299));var s=!1,i="",r=NS,o=SS,l=TS,c=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),e=ET(t,1,!0,e,n??null,s,i,c,r,o,l,kT),e.context=AT(null),n=e.current,s=Bn(),s=I0(s),i=ir(s),i.callback=null,rr(n,i,s),n=s,e.current.lanes=n,uu(e,n),Us(e),t[Jo]=e.current,xx(t),new wf(e)};sf.version="19.2.3";function DT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DT)}catch(t){console.error(t)}}DT(),B2.exports=sf;var V3=B2.exports;const P3=R2(V3);/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $c(){return $c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},$c.apply(this,arguments)}var er;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(er||(er={}));const w1="popstate";function L3(t){t===void 0&&(t={});function e(s,i){let{pathname:r,search:o,hash:l}=s.location;return jg("",{pathname:r,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:Th(i)}return U3(e,n,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Sx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function z3(){return Math.random().toString(36).substr(2,8)}function _1(t,e){return{usr:t.state,key:t.key,idx:e}}function jg(t,e,n,s){return n===void 0&&(n=null),$c({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?rl(e):e,{state:n,key:e&&e.key||s||z3()})}function Th(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function rl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function U3(t,e,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:r=!1}=s,o=i.history,l=er.Pop,c=null,d=h();d==null&&(d=0,o.replaceState($c({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function f(){l=er.Pop;let j=h(),N=j==null?null:j-d;d=j,c&&c({action:l,location:R.location,delta:N})}function m(j,N){l=er.Push;let x=jg(R.location,j,N);d=h()+1;let v=_1(x,d),E=R.createHref(x);try{o.pushState(v,"",E)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(E)}r&&c&&c({action:l,location:R.location,delta:1})}function y(j,N){l=er.Replace;let x=jg(R.location,j,N);d=h();let v=_1(x,d),E=R.createHref(x);o.replaceState(v,"",E),r&&c&&c({action:l,location:R.location,delta:0})}function S(j){let N=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof j=="string"?j:Th(j);return x=x.replace(/ $/,"%20"),ct(N,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,N)}let R={get action(){return l},get location(){return t(i,o)},listen(j){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(w1,f),c=j,()=>{i.removeEventListener(w1,f),c=null}},createHref(j){return e(i,j)},createURL:S,encodeLocation(j){let N=S(j);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:m,replace:y,go(j){return o.go(j)}};return R}var N1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(N1||(N1={}));function B3(t,e,n){return n===void 0&&(n="/"),F3(t,e,n)}function F3(t,e,n,s){let i=typeof e=="string"?rl(e):e,r=Po(i.pathname||"/",n);if(r==null)return null;let o=MT(t);$3(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=ek(r);l=J3(o[c],d)}return l}function MT(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(r,o,l)=>{let c={relativePath:l===void 0?r.path||"":l,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};c.relativePath.startsWith("/")&&(ct(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=dr([s,c.relativePath]),h=n.concat(c);r.children&&r.children.length>0&&(ct(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),MT(r.children,e,h,d)),!(r.path==null&&!r.index)&&e.push({path:d,score:X3(d,r.index),routesMeta:h})};return t.forEach((r,o)=>{var l;if(r.path===""||!((l=r.path)!=null&&l.includes("?")))i(r,o);else for(let c of OT(r.path))i(r,o,c)}),e}function OT(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,i=n.endsWith("?"),r=n.replace(/\?$/,"");if(s.length===0)return i?[r,""]:[r];let o=OT(s.join("/")),l=[];return l.push(...o.map(c=>c===""?r:[r,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function $3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:W3(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const H3=/^:[\w-]+$/,G3=3,K3=2,Q3=1,q3=10,Y3=-2,S1=t=>t==="*";function X3(t,e){let n=t.split("/"),s=n.length;return n.some(S1)&&(s+=Y3),e&&(s+=K3),n.filter(i=>!S1(i)).reduce((i,r)=>i+(H3.test(r)?G3:r===""?Q3:q3),s)}function W3(t,e){return t.length===e.length&&t.slice(0,-1).every((s,i)=>s===e[i])?t[t.length-1]-e[e.length-1]:0}function J3(t,e,n){let{routesMeta:s}=t,i={},r="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,h=r==="/"?e:e.slice(r.length)||"/",f=Cg({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),m=c.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:dr([r,f.pathname]),pathnameBase:rk(dr([r,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(r=dr([r,f.pathnameBase]))}return o}function Cg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=Z3(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let r=i[0],o=r.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:s.reduce((d,h,f)=>{let{paramName:m,isOptional:y}=h;if(m==="*"){let R=l[f]||"";o=r.slice(0,r.length-R.length).replace(/(.)\/+$/,"$1")}const S=l[f];return y&&!S?d[m]=void 0:d[m]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:r,pathnameBase:o,pattern:t}}function Z3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Sx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function ek(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Po(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}const tk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nk=t=>tk.test(t);function sk(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:i=""}=typeof t=="string"?rl(t):t,r;if(n)if(nk(n))r=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Sx(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?r=T1(n.substring(1),"/"):r=T1(n,e)}else r=e;return{pathname:r,search:ak(s),hash:ok(i)}}function T1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function tp(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ik(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Tx(t,e){let n=ik(t);return e?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Ex(t,e,n,s){s===void 0&&(s=!1);let i;typeof t=="string"?i=rl(t):(i=$c({},t),ct(!i.pathname||!i.pathname.includes("?"),tp("?","pathname","search",i)),ct(!i.pathname||!i.pathname.includes("#"),tp("#","pathname","hash",i)),ct(!i.search||!i.search.includes("#"),tp("#","search","hash",i)));let r=t===""||i.pathname==="",o=r?"/":i.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=sk(i,l),d=o&&o!=="/"&&o.endsWith("/"),h=(r||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const dr=t=>t.join("/").replace(/\/\/+/g,"/"),rk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ak=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ok=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function lk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const VT=["post","put","patch","delete"];new Set(VT);const ck=["get",...VT];new Set(ck);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hc(){return Hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Hc.apply(this,arguments)}const _f=I.createContext(null),PT=I.createContext(null),Ei=I.createContext(null),Nf=I.createContext(null),Bs=I.createContext({outlet:null,matches:[],isDataRoute:!1}),LT=I.createContext(null);function uk(t,e){let{relative:n}=e===void 0?{}:e;al()||ct(!1);let{basename:s,navigator:i}=I.useContext(Ei),{hash:r,pathname:o,search:l}=Sf(t,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:dr([s,o])),i.createHref({pathname:c,search:l,hash:r})}function al(){return I.useContext(Nf)!=null}function Ca(){return al()||ct(!1),I.useContext(Nf).location}function zT(t){I.useContext(Ei).static||I.useLayoutEffect(t)}function yn(){let{isDataRoute:t}=I.useContext(Bs);return t?Tk():dk()}function dk(){al()||ct(!1);let t=I.useContext(_f),{basename:e,future:n,navigator:s}=I.useContext(Ei),{matches:i}=I.useContext(Bs),{pathname:r}=Ca(),o=JSON.stringify(Tx(i,n.v7_relativeSplatPath)),l=I.useRef(!1);return zT(()=>{l.current=!0}),I.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let f=Ex(d,JSON.parse(o),r,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:dr([e,f.pathname])),(h.replace?s.replace:s.push)(f,h.state,h)},[e,s,o,r,t])}const hk=I.createContext(null);function fk(t){let e=I.useContext(Bs).outlet;return e&&I.createElement(hk.Provider,{value:t},e)}function UT(){let{matches:t}=I.useContext(Bs),e=t[t.length-1];return e?e.params:{}}function Sf(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=I.useContext(Ei),{matches:i}=I.useContext(Bs),{pathname:r}=Ca(),o=JSON.stringify(Tx(i,s.v7_relativeSplatPath));return I.useMemo(()=>Ex(t,JSON.parse(o),r,n==="path"),[t,o,r,n])}function mk(t,e){return pk(t,e)}function pk(t,e,n,s){al()||ct(!1);let{navigator:i}=I.useContext(Ei),{matches:r}=I.useContext(Bs),o=r[r.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Ca(),h;if(e){var f;let j=typeof e=="string"?rl(e):e;c==="/"||(f=j.pathname)!=null&&f.startsWith(c)||ct(!1),h=j}else h=d;let m=h.pathname||"/",y=m;if(c!=="/"){let j=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(j.length).join("/")}let S=B3(t,{pathname:y}),R=bk(S&&S.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:dr([c,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:dr([c,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),r,n,s);return e&&R?I.createElement(Nf.Provider,{value:{location:Hc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:er.Pop}},R):R}function gk(){let t=Sk(),e=lk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,null)}const xk=I.createElement(gk,null);class yk extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?I.createElement(Bs.Provider,{value:this.props.routeContext},I.createElement(LT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vk(t){let{routeContext:e,match:n,children:s}=t,i=I.useContext(_f);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(Bs.Provider,{value:e},s)}function bk(t,e,n,s){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var r;if(!n)return null;if(n.errors)t=n.matches;else if((r=s)!=null&&r.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let h=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||ct(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:m,errors:y}=n,S=f.route.loader&&m[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||S){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let y,S=!1,R=null,j=null;n&&(y=l&&f.route.id?l[f.route.id]:void 0,R=f.route.errorElement||xk,c&&(d<0&&m===0?(Ek("route-fallback"),S=!0,j=null):d===m&&(S=!0,j=f.route.hydrateFallbackElement||null)));let N=e.concat(o.slice(0,m+1)),x=()=>{let v;return y?v=R:S?v=j:f.route.Component?v=I.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=h,I.createElement(vk,{match:f,routeContext:{outlet:h,matches:N,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?I.createElement(yk,{location:n.location,revalidation:n.revalidation,component:R,error:y,children:x(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):x()},null)}var BT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(BT||{}),FT=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(FT||{});function wk(t){let e=I.useContext(_f);return e||ct(!1),e}function _k(t){let e=I.useContext(PT);return e||ct(!1),e}function Nk(t){let e=I.useContext(Bs);return e||ct(!1),e}function $T(t){let e=Nk(),n=e.matches[e.matches.length-1];return n.route.id||ct(!1),n.route.id}function Sk(){var t;let e=I.useContext(LT),n=_k(),s=$T();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function Tk(){let{router:t}=wk(BT.UseNavigateStable),e=$T(FT.UseNavigateStable),n=I.useRef(!1);return zT(()=>{n.current=!0}),I.useCallback(function(i,r){r===void 0&&(r={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Hc({fromRouteId:e},r)))},[t,e])}const E1={};function Ek(t,e,n){E1[t]||(E1[t]=!0)}function Ak(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function HT(t){let{to:e,replace:n,state:s,relative:i}=t;al()||ct(!1);let{future:r,static:o}=I.useContext(Ei),{matches:l}=I.useContext(Bs),{pathname:c}=Ca(),d=yn(),h=Ex(e,Tx(l,r.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(h);return I.useEffect(()=>d(JSON.parse(f),{replace:n,state:s,relative:i}),[d,f,i,n,s]),null}function jk(t){return fk(t.context)}function Lt(t){ct(!1)}function Ck(t){let{basename:e="/",children:n=null,location:s,navigationType:i=er.Pop,navigator:r,static:o=!1,future:l}=t;al()&&ct(!1);let c=e.replace(/^\/*/,"/"),d=I.useMemo(()=>({basename:c,navigator:r,static:o,future:Hc({v7_relativeSplatPath:!1},l)}),[c,l,r,o]);typeof s=="string"&&(s=rl(s));let{pathname:h="/",search:f="",hash:m="",state:y=null,key:S="default"}=s,R=I.useMemo(()=>{let j=Po(h,c);return j==null?null:{location:{pathname:j,search:f,hash:m,state:y,key:S},navigationType:i}},[c,h,f,m,y,S,i]);return R==null?null:I.createElement(Ei.Provider,{value:d},I.createElement(Nf.Provider,{children:n,value:R}))}function Rk(t){let{children:e,location:n}=t;return mk(Rg(e),n)}new Promise(()=>{});function Rg(t,e){e===void 0&&(e=[]);let n=[];return I.Children.forEach(t,(s,i)=>{if(!I.isValidElement(s))return;let r=[...e,i];if(s.type===I.Fragment){n.push.apply(n,Rg(s.props.children,r));return}s.type!==Lt&&ct(!1),!s.props.index||!s.props.children||ct(!1);let o={id:s.props.id||r.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Rg(s.props.children,r)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eh(){return Eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Eh.apply(this,arguments)}function GT(t,e){if(t==null)return{};var n={},s=Object.keys(t),i,r;for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ik(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kk(t,e){return t.button===0&&(!e||e==="_self")&&!Ik(t)}const Dk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Mk=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Ok="6";try{window.__reactRouterVersion=Ok}catch{}const Vk=I.createContext({isTransitioning:!1}),Pk="startTransition",A1=sR[Pk];function Lk(t){let{basename:e,children:n,future:s,window:i}=t,r=I.useRef();r.current==null&&(r.current=L3({window:i,v5Compat:!0}));let o=r.current,[l,c]=I.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},h=I.useCallback(f=>{d&&A1?A1(()=>c(f)):c(f)},[c,d]);return I.useLayoutEffect(()=>o.listen(h),[o,h]),I.useEffect(()=>Ak(s),[s]),I.createElement(Ck,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const zk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Uk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bk=I.forwardRef(function(e,n){let{onClick:s,relative:i,reloadDocument:r,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:f}=e,m=GT(e,Dk),{basename:y}=I.useContext(Ei),S,R=!1;if(typeof d=="string"&&Uk.test(d)&&(S=d,zk))try{let v=new URL(window.location.href),E=d.startsWith("//")?new URL(v.protocol+d):new URL(d),M=Po(E.pathname,y);E.origin===v.origin&&M!=null?d=M+E.search+E.hash:R=!0}catch{}let j=uk(d,{relative:i}),N=Hk(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:f});function x(v){s&&s(v),v.defaultPrevented||N(v)}return I.createElement("a",Eh({},m,{href:S||j,onClick:R||r?s:x,ref:n,target:c}))}),Fk=I.forwardRef(function(e,n){let{"aria-current":s="page",caseSensitive:i=!1,className:r="",end:o=!1,style:l,to:c,viewTransition:d,children:h}=e,f=GT(e,Mk),m=Sf(c,{relative:f.relative}),y=Ca(),S=I.useContext(PT),{navigator:R,basename:j}=I.useContext(Ei),N=S!=null&&Gk(m)&&d===!0,x=R.encodeLocation?R.encodeLocation(m).pathname:m.pathname,v=y.pathname,E=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(v=v.toLowerCase(),E=E?E.toLowerCase():null,x=x.toLowerCase()),E&&j&&(E=Po(E,j)||E);const M=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let L=v===x||!o&&v.startsWith(x)&&v.charAt(M)==="/",T=E!=null&&(E===x||!o&&E.startsWith(x)&&E.charAt(x.length)==="/"),p={isActive:L,isPending:T,isTransitioning:N},w=L?s:void 0,A;typeof r=="function"?A=r(p):A=[r,L?"active":null,T?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(p):l;return I.createElement(Bk,Eh({},f,{"aria-current":w,className:A,ref:n,style:k,to:c,viewTransition:d}),typeof h=="function"?h(p):h)});var Ig;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ig||(Ig={}));var j1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(j1||(j1={}));function $k(t){let e=I.useContext(_f);return e||ct(!1),e}function Hk(t,e){let{target:n,replace:s,state:i,preventScrollReset:r,relative:o,viewTransition:l}=e===void 0?{}:e,c=yn(),d=Ca(),h=Sf(t,{relative:o});return I.useCallback(f=>{if(kk(f,n)){f.preventDefault();let m=s!==void 0?s:Th(d)===Th(h);c(t,{replace:m,state:i,preventScrollReset:r,relative:o,viewTransition:l})}},[d,c,h,s,i,n,t,r,o,l])}function Gk(t,e){e===void 0&&(e={});let n=I.useContext(Vk);n==null&&ct(!1);let{basename:s}=$k(Ig.useViewTransitionState),i=Sf(t,{relative:e.relative});if(!n.isTransitioning)return!1;let r=Po(n.currentLocation.pathname,s)||n.currentLocation.pathname,o=Po(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Cg(i.pathname,o)!=null||Cg(i.pathname,r)!=null}const Kk=()=>{};var C1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Qk=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(r&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},QT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,h=r>>2,f=(r&3)<<4|l>>4;let m=(l&15)<<2|d>>6,y=d&63;c||(y=64,o||(m=64)),s.push(n[h],n[f],n[m],n[y])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Qk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||l==null||d==null||f==null)throw new qk;const m=r<<2|l>>4;if(s.push(m),d!==64){const y=l<<4&240|d>>2;if(s.push(y),f!==64){const S=d<<6&192|f;s.push(S)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yk=function(t){const e=KT(t);return QT.encodeByteArray(e,!0)},Ah=function(t){return Yk(t).replace(/\./g,"")},qT=function(t){try{return QT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=()=>Xk().__FIREBASE_DEFAULTS__,Jk=()=>{if(typeof process>"u"||typeof C1>"u")return;const t=C1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Zk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qT(t[1]);return e&&JSON.parse(e)},Tf=()=>{try{return Kk()||Wk()||Jk()||Zk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},YT=t=>{var e,n;return(n=(e=Tf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},eD=t=>{const e=YT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},XT=()=>{var t;return(t=Tf())==null?void 0:t.config},WT=t=>{var e;return(e=Tf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function JT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ah(JSON.stringify(n)),Ah(JSON.stringify(o)),""].join(".")}const gc={};function sD(){const t={prod:[],emulator:[]};for(const e of Object.keys(gc))gc[e]?t.emulator.push(e):t.prod.push(e);return t}function iD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let R1=!1;function ZT(t,e){if(typeof window>"u"||typeof document>"u"||!ol(window.location.host)||gc[t]===e||gc[t]||R1)return;gc[t]=e;function n(m){return`__firebase__banner__${m}`}const s="__firebase__banner",r=sD().prod.length>0;function o(){const m=document.getElementById(s);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{R1=!0,o()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=iD(s),y=n("text"),S=document.getElementById(y)||document.createElement("span"),R=n("learnmore"),j=document.getElementById(R)||document.createElement("a"),N=n("preprendIcon"),x=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const v=m.element;l(v),h(j,R);const E=d();c(x,N),v.append(x,S,j,E),document.body.appendChild(v)}r?(S.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function aD(){var e;const t=(e=Tf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uD(){const t=dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dD(){return!aD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hD(){try{return typeof indexedDB=="object"}catch{return!1}}function fD(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)==null?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="FirebaseError";class Ai extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=mD,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vu.prototype.create)}}class vu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?pD(r,s):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ai(i,l,s)}}function pD(t,e){return t.replace(gD,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const gD=/\{\$([^}]+)}/g;function xD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pi(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(I1(r)&&I1(o)){if(!pi(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function I1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Kl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function Ql(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function yD(t,e){const n=new vD(t,e);return n.subscribe.bind(n)}class vD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");bD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=np),i.error===void 0&&(i.error=np),i.complete===void 0&&(i.complete=np);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function np(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t){return t&&t._delegate?t._delegate:t}class xa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new tD;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ND(e))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qr){return this.instances.has(e)}getOptions(e=qr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);s===l&&o.resolve(i)}return i}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(s)??new Set;i.add(e),this.onInitCallbacks.set(s,i);const r=this.instances.get(s);return r&&e(r,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_D(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=qr){return this.component?this.component.multipleInstances?e:qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _D(t){return t===qr?void 0:t}function ND(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const TD={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},ED=ke.INFO,AD={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},jD=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=AD[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ax{constructor(e){this.name=e,this._logLevel=ED,this._logHandler=jD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const CD=(t,e)=>e.some(n=>t instanceof n);let k1,D1;function RD(){return k1||(k1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ID(){return D1||(D1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eE=new WeakMap,kg=new WeakMap,tE=new WeakMap,sp=new WeakMap,jx=new WeakMap;function kD(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(hr(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&eE.set(n,t)}).catch(()=>{}),jx.set(e,t),e}function DD(t){if(kg.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});kg.set(t,e)}let Dg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function MD(t){Dg=t(Dg)}function OD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(ip(this),e,...n);return tE.set(s,e.sort?e.sort():[e]),hr(s)}:ID().includes(t)?function(...e){return t.apply(ip(this),e),hr(eE.get(this))}:function(...e){return hr(t.apply(ip(this),e))}}function VD(t){return typeof t=="function"?OD(t):(t instanceof IDBTransaction&&DD(t),CD(t,RD())?new Proxy(t,Dg):t)}function hr(t){if(t instanceof IDBRequest)return kD(t);if(sp.has(t))return sp.get(t);const e=VD(t);return e!==t&&(sp.set(t,e),jx.set(e,t)),e}const ip=t=>jx.get(t);function PD(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),l=hr(o);return s&&o.addEventListener("upgradeneeded",c=>{s(hr(o.result),c.oldVersion,c.newVersion,hr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{r&&c.addEventListener("close",()=>r()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const LD=["get","getKey","getAll","getAllKeys","count"],zD=["put","add","delete","clear"],rp=new Map;function M1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rp.get(e))return rp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=zD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||LD.includes(n)))return;const r=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return s&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&c.done]))[0]};return rp.set(e,r),r}MD(t=>({...t,get:(e,n,s)=>M1(e,n)||t.get(e,n,s),has:(e,n)=>!!M1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function BD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mg="@firebase/app",O1="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new Ax("@firebase/app"),FD="@firebase/app-compat",$D="@firebase/analytics-compat",HD="@firebase/analytics",GD="@firebase/app-check-compat",KD="@firebase/app-check",QD="@firebase/auth",qD="@firebase/auth-compat",YD="@firebase/database",XD="@firebase/data-connect",WD="@firebase/database-compat",JD="@firebase/functions",ZD="@firebase/functions-compat",e5="@firebase/installations",t5="@firebase/installations-compat",n5="@firebase/messaging",s5="@firebase/messaging-compat",i5="@firebase/performance",r5="@firebase/performance-compat",a5="@firebase/remote-config",o5="@firebase/remote-config-compat",l5="@firebase/storage",c5="@firebase/storage-compat",u5="@firebase/firestore",d5="@firebase/ai",h5="@firebase/firestore-compat",f5="firebase",m5="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="[DEFAULT]",p5={[Mg]:"fire-core",[FD]:"fire-core-compat",[HD]:"fire-analytics",[$D]:"fire-analytics-compat",[KD]:"fire-app-check",[GD]:"fire-app-check-compat",[QD]:"fire-auth",[qD]:"fire-auth-compat",[YD]:"fire-rtdb",[XD]:"fire-data-connect",[WD]:"fire-rtdb-compat",[JD]:"fire-fn",[ZD]:"fire-fn-compat",[e5]:"fire-iid",[t5]:"fire-iid-compat",[n5]:"fire-fcm",[s5]:"fire-fcm-compat",[i5]:"fire-perf",[r5]:"fire-perf-compat",[a5]:"fire-rc",[o5]:"fire-rc-compat",[l5]:"fire-gcs",[c5]:"fire-gcs-compat",[u5]:"fire-fst",[h5]:"fire-fst-compat",[d5]:"fire-vertex","fire-js":"fire-js",[f5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new Map,g5=new Map,Vg=new Map;function V1(t,e){try{t.container.addComponent(e)}catch(n){gi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Lo(t){const e=t.name;if(Vg.has(e))return gi.debug(`There were multiple attempts to register component ${e}.`),!1;Vg.set(e,t);for(const n of jh.values())V1(n,t);for(const n of g5.values())V1(n,t);return!0}function Cx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function On(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new vu("app","Firebase",x5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll=m5;function nE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Og,automaticDataCollectionEnabled:!0,...e},i=s.name;if(typeof i!="string"||!i)throw fr.create("bad-app-name",{appName:String(i)});if(n||(n=XT()),!n)throw fr.create("no-options");const r=jh.get(i);if(r){if(pi(n,r.options)&&pi(s,r.config))return r;throw fr.create("duplicate-app",{appName:i})}const o=new SD(i);for(const c of Vg.values())o.addComponent(c);const l=new y5(n,s,o);return jh.set(i,l),l}function sE(t=Og){const e=jh.get(t);if(!e&&t===Og&&XT())return nE();if(!e)throw fr.create("no-app",{appName:t});return e}function mr(t,e,n){let s=p5[t]??t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),r=e.match(/\s|\//);if(i||r){const o=[`Unable to register library "${s}" with version "${e}":`];i&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&r&&o.push("and"),r&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gi.warn(o.join(" "));return}Lo(new xa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5="firebase-heartbeat-database",b5=1,Gc="firebase-heartbeat-store";let ap=null;function iE(){return ap||(ap=PD(v5,b5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gc)}catch(n){console.warn(n)}}}}).catch(t=>{throw fr.create("idb-open",{originalErrorMessage:t.message})})),ap}async function w5(t){try{const n=(await iE()).transaction(Gc),s=await n.objectStore(Gc).get(rE(t));return await n.done,s}catch(e){if(e instanceof Ai)gi.warn(e.message);else{const n=fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gi.warn(n.message)}}}async function P1(t,e){try{const s=(await iE()).transaction(Gc,"readwrite");await s.objectStore(Gc).put(e,rE(t)),await s.done}catch(n){if(n instanceof Ai)gi.warn(n.message);else{const s=fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gi.warn(s.message)}}}function rE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5=1024,N5=30;class S5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new E5(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=L1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>N5){const o=A5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){gi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=L1(),{heartbeatsToSend:s,unsentEntries:i}=T5(this._heartbeatsCache.heartbeats),r=Ah(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return gi.warn(n),""}}}function L1(){return new Date().toISOString().substring(0,10)}function T5(t,e=_5){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),z1(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),z1(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class E5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hD()?fD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await w5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return P1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return P1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function z1(t){return Ah(JSON.stringify({version:2,heartbeats:t})).length}function A5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(t){Lo(new xa("platform-logger",e=>new UD(e),"PRIVATE")),Lo(new xa("heartbeat",e=>new S5(e),"PRIVATE")),mr(Mg,O1,t),mr(Mg,O1,"esm2020"),mr("fire-js","")}j5("");var C5="firebase",R5="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr(C5,R5,"app");function aE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const I5=aE,oE=new vu("auth","Firebase",aE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Ax("@firebase/auth");function k5(t,...e){Ch.logLevel<=ke.WARN&&Ch.warn(`Auth (${ll}): ${t}`,...e)}function Vd(t,...e){Ch.logLevel<=ke.ERROR&&Ch.error(`Auth (${ll}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(t,...e){throw Ix(t,...e)}function vs(t,...e){return Ix(t,...e)}function Rx(t,e,n){const s={...I5(),[e]:n};return new vu("auth","Firebase",s).create(e,{appName:t.name})}function ai(t){return Rx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function D5(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&cs(t,"argument-error"),Rx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ix(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return oE.create(t,...e)}function ge(t,e,...n){if(!t)throw Ix(e,...n)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vd(e),new Error(e)}function xi(t,e){t||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function M5(){return U1()==="http:"||U1()==="https:"}function U1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(M5()||lD()||"connection"in navigator)?navigator.onLine:!0}function V5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n){this.shortDelay=e,this.longDelay=n,xi(n>e,"Short delay should be less than long delay!"),this.isMobile=rD()||cD()}get(){return O5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(t,e){xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],z5=new wu(3e4,6e4);function Ir(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ji(t,e,n,s,i={}){return cE(t,i,async()=>{let r={},o={};s&&(e==="GET"?o=s:r={body:JSON.stringify(s)});const l=bu({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...r};return oD()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&ol(t.emulatorConfig.host)&&(d.credentials="include"),lE.fetch()(await uE(t,t.config.apiHost,n,l),d)})}async function cE(t,e,n){t._canInitEmulator=!1;const s={...P5,...e};try{const i=new B5(t),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw dd(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const l=r.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw dd(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw dd(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw dd(t,"user-disabled",o);const h=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Rx(t,h,d);cs(t,h)}}catch(i){if(i instanceof Ai)throw i;cs(t,"network-request-failed",{message:String(i)})}}async function _u(t,e,n,s,i={}){const r=await ji(t,e,n,s,i);return"mfaPendingCredential"in r&&cs(t,"multi-factor-auth-required",{_serverResponse:r}),r}async function uE(t,e,n,s){const i=`${e}${n}?${s}`,r=t,o=r.config.emulator?kx(t.config,i):`${t.config.apiScheme}://${i}`;return L5.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(o).toString():o}function U5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class B5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(vs(this.auth,"network-request-failed")),z5.get())})}}function dd(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=vs(t,e,s);return i.customData._tokenResponse=n,i}function B1(t){return t!==void 0&&t.enterprise!==void 0}class F5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return U5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $5(t,e){return ji(t,"GET","/v2/recaptchaConfig",Ir(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H5(t,e){return ji(t,"POST","/v1/accounts:delete",e)}async function Rh(t,e){return ji(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function G5(t,e=!1){const n=Ct(t),s=await n.getIdToken(e),i=Dx(s);ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:xc(op(i.auth_time)),issuedAtTime:xc(op(i.iat)),expirationTime:xc(op(i.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function op(t){return Number(t)*1e3}function Dx(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Vd("JWT malformed, contained fewer than 3 sections"),null;try{const i=qT(n);return i?JSON.parse(i):(Vd("Failed to decode base64 JWT payload"),null)}catch(i){return Vd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function F1(t){const e=Dx(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ai&&K5(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function K5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xc(this.lastLoginAt),this.creationTime=xc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(t){var f;const e=t.auth,n=await t.getIdToken(),s=await zo(t,Rh(e,{idToken:n}));ge(s==null?void 0:s.users.length,e,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const r=(f=i.providerUserInfo)!=null&&f.length?dE(i.providerUserInfo):[],o=Y5(t.providerData,r),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),d=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Lg(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function q5(t){const e=Ct(t);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Y5(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function dE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X5(t,e){const n=await cE(t,{},async()=>{const s=bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,o=await uE(t,i,"/v1/token",`key=${r}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:s};return t.emulatorConfig&&ol(t.emulatorConfig.host)&&(c.credentials="include"),lE.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function W5(t,e){return ji(t,"POST","/v2/accounts:revokeToken",Ir(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):F1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=F1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await X5(e,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,o=new wo;return s&&(ge(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),i&&(ge(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),r&&(ge(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wo,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ys{constructor({uid:e,auth:n,stsTokenManager:s,...i}){this.providerId="firebase",this.proactiveRefresh=new Q5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Lg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await zo(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return G5(this,e)}reload(){return q5(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ys({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(ai(this.auth));const e=await this.getIdToken();return await zo(this,H5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,i=n.email??void 0,r=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:y,providerData:S,stsTokenManager:R}=n;ge(f&&R,e,"internal-error");const j=wo.fromJSON(this.name,R);ge(typeof f=="string",e,"internal-error"),Vi(s,e.name),Vi(i,e.name),ge(typeof m=="boolean",e,"internal-error"),ge(typeof y=="boolean",e,"internal-error"),Vi(r,e.name),Vi(o,e.name),Vi(l,e.name),Vi(c,e.name),Vi(d,e.name),Vi(h,e.name);const N=new ys({uid:f,auth:e,email:i,emailVerified:m,displayName:s,isAnonymous:y,photoURL:o,phoneNumber:r,tenantId:l,stsTokenManager:j,createdAt:d,lastLoginAt:h});return S&&Array.isArray(S)&&(N.providerData=S.map(x=>({...x}))),c&&(N._redirectEventId=c),N}static async _fromIdTokenResponse(e,n,s=!1){const i=new wo;i.updateFromServerResponse(n);const r=new ys({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await Ih(r),r}static async _fromGetAccountInfoResponse(e,n,s){const i=n.users[0];ge(i.localId!==void 0,"internal-error");const r=i.providerUserInfo!==void 0?dE(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(r!=null&&r.length),l=new wo;l.updateFromIdToken(s);const c=new ys({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new Lg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(r!=null&&r.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=new Map;function ni(t){xi(t instanceof Function,"Expected a class definition");let e=$1.get(t);return e?(xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hE.type="NONE";const H1=hE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(t,e,n){return`firebase:${t}:${e}:${n}`}class _o{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=Pd(this.userKey,i.apiKey,r),this.fullPersistenceKey=Pd("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Rh(this.auth,{idToken:e}).catch(()=>{});return n?ys._fromGetAccountInfoResponse(this.auth,n,e):null}return ys._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new _o(ni(H1),e,s);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let r=i[0]||ni(H1);const o=Pd(s,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const m=await Rh(e,{idToken:h}).catch(()=>{});if(!m)break;f=await ys._fromGetAccountInfoResponse(e,m,h)}else f=ys._fromJSON(e,h);d!==r&&(l=f),r=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!r._shouldAllowMigration||!c.length?new _o(r,e,s):(r=c[0],l&&await r._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==r)try{await d._remove(o)}catch{}})),new _o(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yE(e))return"Blackberry";if(vE(e))return"Webos";if(mE(e))return"Safari";if((e.includes("chrome/")||pE(e))&&!e.includes("edge/"))return"Chrome";if(xE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function fE(t=dn()){return/firefox\//i.test(t)}function mE(t=dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pE(t=dn()){return/crios\//i.test(t)}function gE(t=dn()){return/iemobile/i.test(t)}function xE(t=dn()){return/android/i.test(t)}function yE(t=dn()){return/blackberry/i.test(t)}function vE(t=dn()){return/webos/i.test(t)}function Mx(t=dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function J5(t=dn()){var e;return Mx(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Z5(){return uD()&&document.documentMode===10}function bE(t=dn()){return Mx(t)||xE(t)||vE(t)||yE(t)||/windows phone/i.test(t)||gE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(t,e=[]){let n;switch(t){case"Browser":n=G1(dn());break;case"Worker":n=`${G1(dn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ll}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=r=>new Promise((o,l)=>{try{const c=e(r);o(c)}catch(c){l(c)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tM(t,e={}){return ji(t,"GET","/v2/passwordPolicy",Ir(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=6;class sM{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??nM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K1(this),this.idTokenSubscription=new K1(this),this.beforeStateQueue=new eM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ni(n)),this._initializationPromise=this.queue(async()=>{var s,i,r;if(!this._deleted&&(this.persistenceManager=await _o.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)==null?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Rh(this,{idToken:e}),s=await ys._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(On(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)==null?void 0:r._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=V5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(On(this.app))return Promise.reject(ai(this));const n=e?Ct(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return On(this.app)?Promise.reject(ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tM(this),n=new sM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await W5(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ni(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await _o.create(this,[ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(l,this,"internal-error"),l.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,s,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&k5(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function kr(t){return Ct(t)}class K1{constructor(e){this.auth=e,this.observer=null,this.addObserver=yD(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ef={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rM(t){Ef=t}function _E(t){return Ef.loadJS(t)}function aM(){return Ef.recaptchaEnterpriseScript}function oM(){return Ef.gapiScript}function lM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class cM{constructor(){this.enterprise=new uM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class uM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const dM="recaptcha-enterprise",NE="NO_RECAPTCHA";class hM{constructor(e){this.type=dM,this.auth=kr(e)}async verify(e="verify",n=!1){async function s(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,l)=>{$5(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new F5(c);return r.tenantId==null?r._agentRecaptchaConfig=d:r._tenantRecaptchaConfigs[r.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function i(r,o,l){const c=window.grecaptcha;B1(c)?c.enterprise.ready(()=>{c.enterprise.execute(r,{action:e}).then(d=>{o(d)}).catch(()=>{o(NE)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cM().execute("siteKey",{action:"verify"}):new Promise((r,o)=>{s(this.auth).then(l=>{if(!n&&B1(window.grecaptcha))i(l,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=aM();c.length!==0&&(c+=l),_E(c).then(()=>{i(l,r,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function Q1(t,e,n,s=!1,i=!1){const r=new hM(t);let o;if(i)o=NE;else try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function zg(t,e,n,s,i){var r;if((r=t._getRecaptchaConfig())!=null&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Q1(t,e,n,n==="getOobCode");return s(t,o)}else return s(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Q1(t,e,n,n==="getOobCode");return s(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(t,e){const n=Cx(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(pi(r,e??{}))return i;cs(i,"already-initialized")}return n.initialize({options:e})}function mM(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ni);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function pM(t,e,n){const s=kr(t);ge(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,r=SE(e),{host:o,port:l}=gM(e),c=l===null?"":`:${l}`,d={url:`${r}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){ge(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ge(pi(d,s.config.emulator)&&pi(h,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=d,s.emulatorConfig=h,s.settings.appVerificationDisabledForTesting=!0,ol(o)?(JT(`${r}//${o}${c}`),ZT("Auth",!0)):xM()}function SE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gM(t){const e=SE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:q1(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:q1(o)}}}function q1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function xM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}async function yM(t,e){return ji(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vM(t,e){return _u(t,"POST","/v1/accounts:signInWithPassword",Ir(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(t,e){return _u(t,"POST","/v1/accounts:signInWithEmailLink",Ir(t,e))}async function wM(t,e){return _u(t,"POST","/v1/accounts:signInWithEmailLink",Ir(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends Ox{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Kc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Kc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zg(e,n,"signInWithPassword",vM);case"emailLink":return bM(e,{email:this._email,oobCode:this._password});default:cs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zg(e,s,"signUpPassword",yM);case"emailLink":return wM(e,{idToken:n,email:this._email,oobCode:this._password});default:cs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(t,e){return _u(t,"POST","/v1/accounts:signInWithIdp",Ir(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M="http://localhost";class ya extends Ox{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i,...r}=n;if(!s||!i)return null;const o=new ya(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return No(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,No(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,No(e,n)}buildRequest(){const e={requestUri:_M,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SM(t){const e=Kl(Ql(t)).link,n=e?Kl(Ql(e)).deep_link_id:null,s=Kl(Ql(t)).deep_link_id;return(s?Kl(Ql(s)).link:null)||s||n||e||t}class Vx{constructor(e){const n=Kl(Ql(e)),s=n.apiKey??null,i=n.oobCode??null,r=NM(n.mode??null);ge(s&&i&&r,"argument-error"),this.apiKey=s,this.operation=r,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=SM(e);try{return new Vx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.providerId=cl.PROVIDER_ID}static credential(e,n){return Kc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Vx.parseLink(n);return ge(s,"argument-error"),Kc._fromEmailAndCode(e,s.code,s.tenantId)}}cl.PROVIDER_ID="password";cl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends Px{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Nu{constructor(){super("facebook.com")}static credential(e){return ya._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends Nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ya._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ws.credential(n,s)}catch{return null}}}Ws.GOOGLE_SIGN_IN_METHOD="google.com";Ws.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Nu{constructor(){super("github.com")}static credential(e){return ya._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com";Qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Nu{constructor(){super("twitter.com")}static credential(e,n){return ya._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return qi.credential(n,s)}catch{return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(t,e){return _u(t,"POST","/v1/accounts:signUp",Ir(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const r=await ys._fromIdTokenResponse(e,s,i),o=Y1(s);return new va({user:r,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=Y1(s);return new va({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function Y1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh extends Ai{constructor(e,n,s,i){super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,kh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new kh(e,n,s,i)}}function TE(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?kh._fromErrorAndOperation(t,r,e,s):r})}async function EM(t,e,n=!1){const s=await zo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return va._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AM(t,e,n=!1){const{auth:s}=t;if(On(s.app))return Promise.reject(ai(s));const i="reauthenticate";try{const r=await zo(t,TE(s,i,e,t),n);ge(r.idToken,s,"internal-error");const o=Dx(r.idToken);ge(o,s,"internal-error");const{sub:l}=o;return ge(t.uid===l,s,"user-mismatch"),va._forOperation(t,i,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&cs(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EE(t,e,n=!1){if(On(t.app))return Promise.reject(ai(t));const s="signIn",i=await TE(t,s,e),r=await va._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(r.user),r}async function jM(t,e){return EE(kr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AE(t){const e=kr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function X1(t,e,n){if(On(t.app))return Promise.reject(ai(t));const s=kr(t),o=await zg(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TM).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&AE(t),c}),l=await va._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(l.user),l}function W1(t,e,n){return On(t.app)?Promise.reject(ai(t)):jM(Ct(t),cl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&AE(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CM(t,e){return ji(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lp(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Ct(t),r={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await zo(s,CM(s.auth,r));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const l=s.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function RM(t,e,n,s){return Ct(t).onIdTokenChanged(e,n,s)}function IM(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function kM(t,e,n,s){return Ct(t).onAuthStateChanged(e,n,s)}function DM(t){return Ct(t).signOut()}const Dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=1e3,OM=10;class CE extends jE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const s=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);Z5()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,OM):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},MM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CE.type="LOCAL";const VM=CE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE extends jE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}RE.type="SESSION";const IE=RE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new Af(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:r}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const l=Array.from(o).map(async d=>d(n.origin,r)),c=await PM(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Af.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((l,c)=>{const d=Lx("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),r=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),l(m.data.response);break;default:clearTimeout(h),clearTimeout(r),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(){return window}function zM(t){Is().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(){return typeof Is().WorkerGlobalScope<"u"&&typeof Is().importScripts=="function"}async function UM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function FM(){return kE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="firebaseLocalStorageDb",$M=1,Mh="firebaseLocalStorage",ME="fbase_key";class Su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jf(t,e){return t.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function HM(){const t=indexedDB.deleteDatabase(DE);return new Su(t).toPromise()}function Ug(){const t=indexedDB.open(DE,$M);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Mh,{keyPath:ME})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Mh)?e(s):(s.close(),await HM(),e(await Ug()))})})}async function J1(t,e,n){const s=jf(t,!0).put({[ME]:e,value:n});return new Su(s).toPromise()}async function GM(t,e){const n=jf(t,!1).get(e),s=await new Su(n).toPromise();return s===void 0?null:s.value}function Z1(t,e){const n=jf(t,!0).delete(e);return new Su(n).toPromise()}const KM=800,QM=3;class OE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ug(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>QM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Af._getInstance(FM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await UM(),!this.activeServiceWorker)return;this.sender=new LM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ug();return await J1(e,Dh,"1"),await Z1(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>J1(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>GM(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Z1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=jf(i,!1).getAll();return new Su(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OE.type="LOCAL";const qM=OE;new wu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(t,e){return e?ni(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx extends Ox{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return No(e,this._buildIdpRequest())}_linkToIdToken(e,n){return No(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return No(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YM(t){return EE(t.auth,new zx(t),t.bypassAuthState)}function XM(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),AM(n,new zx(t),t.bypassAuthState)}async function WM(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),EM(n,new zx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YM;case"linkViaPopup":case"linkViaRedirect":return WM;case"reauthViaPopup":case"reauthViaRedirect":return XM;default:cs(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=new wu(2e3,1e4);async function ZM(t,e,n){if(On(t.app))return Promise.reject(vs(t,"operation-not-supported-in-this-environment"));const s=kr(t);D5(t,e,Px);const i=VE(s,n);return new Jr(s,"signInViaPopup",e,i).executeNotNull()}class Jr extends PE{constructor(e,n,s,i,r){super(e,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,Jr.currentPopupAction&&Jr.currentPopupAction.cancel(),Jr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=Lx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(vs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JM.get())};e()}}Jr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6="pendingRedirect",Ld=new Map;class t6 extends PE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ld.get(this.auth._key());if(!e){try{const s=await n6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ld.set(this.auth._key(),e)}return this.bypassAuthState||Ld.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function n6(t,e){const n=r6(e),s=i6(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function s6(t,e){Ld.set(t._key(),e)}function i6(t){return ni(t._redirectPersistence)}function r6(t){return Pd(e6,t.config.apiKey,t.name)}async function a6(t,e,n=!1){if(On(t.app))return Promise.reject(ai(t));const s=kr(t),i=VE(s,e),o=await new t6(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=10*60*1e3;class l6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!c6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!LE(e)){const i=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(vs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=o6&&this.cachedEventUids.clear(),this.cachedEventUids.has(ew(e))}saveEventToCache(e){this.cachedEventUids.add(ew(e)),this.lastProcessedEventTime=Date.now()}}function ew(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function LE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function c6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u6(t,e={}){return ji(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,h6=/^https?/;async function f6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await u6(t);for(const n of e)try{if(m6(n))return}catch{}cs(t,"unauthorized-domain")}function m6(t){const e=Pg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!h6.test(n))return!1;if(d6.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=new wu(3e4,6e4);function tw(){const t=Is().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function g6(t){return new Promise((e,n)=>{var i,r,o;function s(){tw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tw(),n(vs(t,"network-request-failed"))},timeout:p6.get()})}if((r=(i=Is().gapi)==null?void 0:i.iframes)!=null&&r.Iframe)e(gapi.iframes.getContext());else if((o=Is().gapi)!=null&&o.load)s();else{const l=lM("iframefcb");return Is()[l]=()=>{gapi.load?s():n(vs(t,"network-request-failed"))},_E(`${oM()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw zd=null,e})}let zd=null;function x6(t){return zd=zd||g6(t),zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6=new wu(5e3,15e3),v6="__/auth/iframe",b6="emulator/auth/iframe",w6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N6(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?kx(e,b6):`https://${t.config.authDomain}/${v6}`,s={apiKey:e.apiKey,appName:t.name,v:ll},i=_6.get(t.config.apiHost);i&&(s.eid=i);const r=t._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${bu(s).slice(1)}`}async function S6(t){const e=await x6(t),n=Is().gapi;return ge(n,t,"internal-error"),e.open({where:document.body,url:N6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w6,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=vs(t,"network-request-failed"),l=Is().setTimeout(()=>{r(o)},y6.get());function c(){Is().clearTimeout(l),i(s)}s.ping(c).then(c,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E6=500,A6=600,j6="_blank",C6="http://localhost";class nw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function R6(t,e,n,s=E6,i=A6){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const c={...T6,width:s.toString(),height:i.toString(),top:r,left:o},d=dn().toLowerCase();n&&(l=pE(d)?j6:n),fE(d)&&(e=e||C6,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[y,S])=>`${m}${y}=${S},`,"");if(J5(d)&&l!=="_self")return I6(e||"",l),new nw(null);const f=window.open(e||"",l,h);ge(f,t,"popup-blocked");try{f.focus()}catch{}return new nw(f)}function I6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6="__/auth/handler",D6="emulator/auth/handler",M6=encodeURIComponent("fac");async function sw(t,e,n,s,i,r){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:ll,eventId:i};if(e instanceof Px){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",xD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Nu){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${M6}=${encodeURIComponent(c)}`:"";return`${O6(t)}?${bu(l).slice(1)}${d}`}function O6({config:t}){return t.emulator?kx(t,D6):`https://${t.authDomain}/${k6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="webStorageSupport";class V6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IE,this._completeRedirectFn=a6,this._overrideRedirectResult=s6}async _openPopup(e,n,s,i){var o;xi((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const r=await sw(e,n,s,Pg(),i);return R6(e,r,Lx())}async _openRedirect(e,n,s,i){await this._originValidation(e);const r=await sw(e,n,s,Pg(),i);return zM(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(xi(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await S6(e),s=new l6(e);return n.register("authEvent",i=>(ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cp,{type:cp},i=>{var o;const r=(o=i==null?void 0:i[0])==null?void 0:o[cp];r!==void 0&&n(!!r),cs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=f6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bE()||mE()||Mx()}}const P6=V6;var iw="@firebase/auth",rw="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function U6(t){Lo(new xa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=s.options;ge(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wE(t)},d=new iM(s,i,r,c);return mM(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Lo(new xa("auth-internal",e=>{const n=kr(e.getProvider("auth").getImmediate());return(s=>new L6(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(iw,rw,z6(t)),mr(iw,rw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=5*60,F6=WT("authIdTokenMaxAge")||B6;let aw=null;const $6=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>F6)return;const i=n==null?void 0:n.token;aw!==i&&(aw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function H6(t=sE()){const e=Cx(t,"auth");if(e.isInitialized())return e.getImmediate();const n=fM(t,{popupRedirectResolver:P6,persistence:[qM,VM,IE]}),s=WT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(s,location.origin);if(location.origin===r.origin){const o=$6(r.toString());IM(n,o,()=>o(n.currentUser)),RM(n,l=>o(l))}}const i=YT("auth");return i&&pM(n,`http://${i}`),n}function G6(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}rM({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const r=vs("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",G6().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});U6("Browser");var ow=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pr,zE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,p){function w(){}w.prototype=p.prototype,T.F=p.prototype,T.prototype=new w,T.prototype.constructor=T,T.D=function(A,k,C){for(var b=Array(arguments.length-2),O=2;O<arguments.length;O++)b[O-2]=arguments[O];return p.prototype[k].apply(A,b)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,p,w){w||(w=0);const A=Array(16);if(typeof p=="string")for(var k=0;k<16;++k)A[k]=p.charCodeAt(w++)|p.charCodeAt(w++)<<8|p.charCodeAt(w++)<<16|p.charCodeAt(w++)<<24;else for(k=0;k<16;++k)A[k]=p[w++]|p[w++]<<8|p[w++]<<16|p[w++]<<24;p=T.g[0],w=T.g[1],k=T.g[2];let C=T.g[3],b;b=p+(C^w&(k^C))+A[0]+3614090360&4294967295,p=w+(b<<7&4294967295|b>>>25),b=C+(k^p&(w^k))+A[1]+3905402710&4294967295,C=p+(b<<12&4294967295|b>>>20),b=k+(w^C&(p^w))+A[2]+606105819&4294967295,k=C+(b<<17&4294967295|b>>>15),b=w+(p^k&(C^p))+A[3]+3250441966&4294967295,w=k+(b<<22&4294967295|b>>>10),b=p+(C^w&(k^C))+A[4]+4118548399&4294967295,p=w+(b<<7&4294967295|b>>>25),b=C+(k^p&(w^k))+A[5]+1200080426&4294967295,C=p+(b<<12&4294967295|b>>>20),b=k+(w^C&(p^w))+A[6]+2821735955&4294967295,k=C+(b<<17&4294967295|b>>>15),b=w+(p^k&(C^p))+A[7]+4249261313&4294967295,w=k+(b<<22&4294967295|b>>>10),b=p+(C^w&(k^C))+A[8]+1770035416&4294967295,p=w+(b<<7&4294967295|b>>>25),b=C+(k^p&(w^k))+A[9]+2336552879&4294967295,C=p+(b<<12&4294967295|b>>>20),b=k+(w^C&(p^w))+A[10]+4294925233&4294967295,k=C+(b<<17&4294967295|b>>>15),b=w+(p^k&(C^p))+A[11]+2304563134&4294967295,w=k+(b<<22&4294967295|b>>>10),b=p+(C^w&(k^C))+A[12]+1804603682&4294967295,p=w+(b<<7&4294967295|b>>>25),b=C+(k^p&(w^k))+A[13]+4254626195&4294967295,C=p+(b<<12&4294967295|b>>>20),b=k+(w^C&(p^w))+A[14]+2792965006&4294967295,k=C+(b<<17&4294967295|b>>>15),b=w+(p^k&(C^p))+A[15]+1236535329&4294967295,w=k+(b<<22&4294967295|b>>>10),b=p+(k^C&(w^k))+A[1]+4129170786&4294967295,p=w+(b<<5&4294967295|b>>>27),b=C+(w^k&(p^w))+A[6]+3225465664&4294967295,C=p+(b<<9&4294967295|b>>>23),b=k+(p^w&(C^p))+A[11]+643717713&4294967295,k=C+(b<<14&4294967295|b>>>18),b=w+(C^p&(k^C))+A[0]+3921069994&4294967295,w=k+(b<<20&4294967295|b>>>12),b=p+(k^C&(w^k))+A[5]+3593408605&4294967295,p=w+(b<<5&4294967295|b>>>27),b=C+(w^k&(p^w))+A[10]+38016083&4294967295,C=p+(b<<9&4294967295|b>>>23),b=k+(p^w&(C^p))+A[15]+3634488961&4294967295,k=C+(b<<14&4294967295|b>>>18),b=w+(C^p&(k^C))+A[4]+3889429448&4294967295,w=k+(b<<20&4294967295|b>>>12),b=p+(k^C&(w^k))+A[9]+568446438&4294967295,p=w+(b<<5&4294967295|b>>>27),b=C+(w^k&(p^w))+A[14]+3275163606&4294967295,C=p+(b<<9&4294967295|b>>>23),b=k+(p^w&(C^p))+A[3]+4107603335&4294967295,k=C+(b<<14&4294967295|b>>>18),b=w+(C^p&(k^C))+A[8]+1163531501&4294967295,w=k+(b<<20&4294967295|b>>>12),b=p+(k^C&(w^k))+A[13]+2850285829&4294967295,p=w+(b<<5&4294967295|b>>>27),b=C+(w^k&(p^w))+A[2]+4243563512&4294967295,C=p+(b<<9&4294967295|b>>>23),b=k+(p^w&(C^p))+A[7]+1735328473&4294967295,k=C+(b<<14&4294967295|b>>>18),b=w+(C^p&(k^C))+A[12]+2368359562&4294967295,w=k+(b<<20&4294967295|b>>>12),b=p+(w^k^C)+A[5]+4294588738&4294967295,p=w+(b<<4&4294967295|b>>>28),b=C+(p^w^k)+A[8]+2272392833&4294967295,C=p+(b<<11&4294967295|b>>>21),b=k+(C^p^w)+A[11]+1839030562&4294967295,k=C+(b<<16&4294967295|b>>>16),b=w+(k^C^p)+A[14]+4259657740&4294967295,w=k+(b<<23&4294967295|b>>>9),b=p+(w^k^C)+A[1]+2763975236&4294967295,p=w+(b<<4&4294967295|b>>>28),b=C+(p^w^k)+A[4]+1272893353&4294967295,C=p+(b<<11&4294967295|b>>>21),b=k+(C^p^w)+A[7]+4139469664&4294967295,k=C+(b<<16&4294967295|b>>>16),b=w+(k^C^p)+A[10]+3200236656&4294967295,w=k+(b<<23&4294967295|b>>>9),b=p+(w^k^C)+A[13]+681279174&4294967295,p=w+(b<<4&4294967295|b>>>28),b=C+(p^w^k)+A[0]+3936430074&4294967295,C=p+(b<<11&4294967295|b>>>21),b=k+(C^p^w)+A[3]+3572445317&4294967295,k=C+(b<<16&4294967295|b>>>16),b=w+(k^C^p)+A[6]+76029189&4294967295,w=k+(b<<23&4294967295|b>>>9),b=p+(w^k^C)+A[9]+3654602809&4294967295,p=w+(b<<4&4294967295|b>>>28),b=C+(p^w^k)+A[12]+3873151461&4294967295,C=p+(b<<11&4294967295|b>>>21),b=k+(C^p^w)+A[15]+530742520&4294967295,k=C+(b<<16&4294967295|b>>>16),b=w+(k^C^p)+A[2]+3299628645&4294967295,w=k+(b<<23&4294967295|b>>>9),b=p+(k^(w|~C))+A[0]+4096336452&4294967295,p=w+(b<<6&4294967295|b>>>26),b=C+(w^(p|~k))+A[7]+1126891415&4294967295,C=p+(b<<10&4294967295|b>>>22),b=k+(p^(C|~w))+A[14]+2878612391&4294967295,k=C+(b<<15&4294967295|b>>>17),b=w+(C^(k|~p))+A[5]+4237533241&4294967295,w=k+(b<<21&4294967295|b>>>11),b=p+(k^(w|~C))+A[12]+1700485571&4294967295,p=w+(b<<6&4294967295|b>>>26),b=C+(w^(p|~k))+A[3]+2399980690&4294967295,C=p+(b<<10&4294967295|b>>>22),b=k+(p^(C|~w))+A[10]+4293915773&4294967295,k=C+(b<<15&4294967295|b>>>17),b=w+(C^(k|~p))+A[1]+2240044497&4294967295,w=k+(b<<21&4294967295|b>>>11),b=p+(k^(w|~C))+A[8]+1873313359&4294967295,p=w+(b<<6&4294967295|b>>>26),b=C+(w^(p|~k))+A[15]+4264355552&4294967295,C=p+(b<<10&4294967295|b>>>22),b=k+(p^(C|~w))+A[6]+2734768916&4294967295,k=C+(b<<15&4294967295|b>>>17),b=w+(C^(k|~p))+A[13]+1309151649&4294967295,w=k+(b<<21&4294967295|b>>>11),b=p+(k^(w|~C))+A[4]+4149444226&4294967295,p=w+(b<<6&4294967295|b>>>26),b=C+(w^(p|~k))+A[11]+3174756917&4294967295,C=p+(b<<10&4294967295|b>>>22),b=k+(p^(C|~w))+A[2]+718787259&4294967295,k=C+(b<<15&4294967295|b>>>17),b=w+(C^(k|~p))+A[9]+3951481745&4294967295,T.g[0]=T.g[0]+p&4294967295,T.g[1]=T.g[1]+(k+(b<<21&4294967295|b>>>11))&4294967295,T.g[2]=T.g[2]+k&4294967295,T.g[3]=T.g[3]+C&4294967295}s.prototype.v=function(T,p){p===void 0&&(p=T.length);const w=p-this.blockSize,A=this.C;let k=this.h,C=0;for(;C<p;){if(k==0)for(;C<=w;)i(this,T,C),C+=this.blockSize;if(typeof T=="string"){for(;C<p;)if(A[k++]=T.charCodeAt(C++),k==this.blockSize){i(this,A),k=0;break}}else for(;C<p;)if(A[k++]=T[C++],k==this.blockSize){i(this,A),k=0;break}}this.h=k,this.o+=p},s.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var p=1;p<T.length-8;++p)T[p]=0;p=this.o*8;for(var w=T.length-8;w<T.length;++w)T[w]=p&255,p/=256;for(this.v(T),T=Array(16),p=0,w=0;w<4;++w)for(let A=0;A<32;A+=8)T[p++]=this.g[w]>>>A&255;return T};function r(T,p){var w=l;return Object.prototype.hasOwnProperty.call(w,T)?w[T]:w[T]=p(T)}function o(T,p){this.h=p;const w=[];let A=!0;for(let k=T.length-1;k>=0;k--){const C=T[k]|0;A&&C==p||(w[k]=C,A=!1)}this.g=w}var l={};function c(T){return-128<=T&&T<128?r(T,function(p){return new o([p|0],p<0?-1:0)}):new o([T|0],T<0?-1:0)}function d(T){if(isNaN(T)||!isFinite(T))return f;if(T<0)return j(d(-T));const p=[];let w=1;for(let A=0;T>=w;A++)p[A]=T/w|0,w*=4294967296;return new o(p,0)}function h(T,p){if(T.length==0)throw Error("number format error: empty string");if(p=p||10,p<2||36<p)throw Error("radix out of range: "+p);if(T.charAt(0)=="-")return j(h(T.substring(1),p));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=d(Math.pow(p,8));let A=f;for(let C=0;C<T.length;C+=8){var k=Math.min(8,T.length-C);const b=parseInt(T.substring(C,C+k),p);k<8?(k=d(Math.pow(p,k)),A=A.j(k).add(d(b))):(A=A.j(w),A=A.add(d(b)))}return A}var f=c(0),m=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(R(this))return-j(this).m();let T=0,p=1;for(let w=0;w<this.g.length;w++){const A=this.i(w);T+=(A>=0?A:4294967296+A)*p,p*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(S(this))return"0";if(R(this))return"-"+j(this).toString(T);const p=d(Math.pow(T,6));var w=this;let A="";for(;;){const k=E(w,p).g;w=N(w,k.j(p));let C=((w.g.length>0?w.g[0]:w.h)>>>0).toString(T);if(w=k,S(w))return C+A;for(;C.length<6;)C="0"+C;A=C+A}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function S(T){if(T.h!=0)return!1;for(let p=0;p<T.g.length;p++)if(T.g[p]!=0)return!1;return!0}function R(T){return T.h==-1}t.l=function(T){return T=N(this,T),R(T)?-1:S(T)?0:1};function j(T){const p=T.g.length,w=[];for(let A=0;A<p;A++)w[A]=~T.g[A];return new o(w,~T.h).add(m)}t.abs=function(){return R(this)?j(this):this},t.add=function(T){const p=Math.max(this.g.length,T.g.length),w=[];let A=0;for(let k=0;k<=p;k++){let C=A+(this.i(k)&65535)+(T.i(k)&65535),b=(C>>>16)+(this.i(k)>>>16)+(T.i(k)>>>16);A=b>>>16,C&=65535,b&=65535,w[k]=b<<16|C}return new o(w,w[w.length-1]&-2147483648?-1:0)};function N(T,p){return T.add(j(p))}t.j=function(T){if(S(this)||S(T))return f;if(R(this))return R(T)?j(this).j(j(T)):j(j(this).j(T));if(R(T))return j(this.j(j(T)));if(this.l(y)<0&&T.l(y)<0)return d(this.m()*T.m());const p=this.g.length+T.g.length,w=[];for(var A=0;A<2*p;A++)w[A]=0;for(A=0;A<this.g.length;A++)for(let k=0;k<T.g.length;k++){const C=this.i(A)>>>16,b=this.i(A)&65535,O=T.i(k)>>>16,P=T.i(k)&65535;w[2*A+2*k]+=b*P,x(w,2*A+2*k),w[2*A+2*k+1]+=C*P,x(w,2*A+2*k+1),w[2*A+2*k+1]+=b*O,x(w,2*A+2*k+1),w[2*A+2*k+2]+=C*O,x(w,2*A+2*k+2)}for(T=0;T<p;T++)w[T]=w[2*T+1]<<16|w[2*T];for(T=p;T<2*p;T++)w[T]=0;return new o(w,0)};function x(T,p){for(;(T[p]&65535)!=T[p];)T[p+1]+=T[p]>>>16,T[p]&=65535,p++}function v(T,p){this.g=T,this.h=p}function E(T,p){if(S(p))throw Error("division by zero");if(S(T))return new v(f,f);if(R(T))return p=E(j(T),p),new v(j(p.g),j(p.h));if(R(p))return p=E(T,j(p)),new v(j(p.g),p.h);if(T.g.length>30){if(R(T)||R(p))throw Error("slowDivide_ only works with positive integers.");for(var w=m,A=p;A.l(T)<=0;)w=M(w),A=M(A);var k=L(w,1),C=L(A,1);for(A=L(A,2),w=L(w,2);!S(A);){var b=C.add(A);b.l(T)<=0&&(k=k.add(w),C=b),A=L(A,1),w=L(w,1)}return p=N(T,k.j(p)),new v(k,p)}for(k=f;T.l(p)>=0;){for(w=Math.max(1,Math.floor(T.m()/p.m())),A=Math.ceil(Math.log(w)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),C=d(w),b=C.j(p);R(b)||b.l(T)>0;)w-=A,C=d(w),b=C.j(p);S(C)&&(C=m),k=k.add(C),T=N(T,b)}return new v(k,T)}t.B=function(T){return E(this,T).h},t.and=function(T){const p=Math.max(this.g.length,T.g.length),w=[];for(let A=0;A<p;A++)w[A]=this.i(A)&T.i(A);return new o(w,this.h&T.h)},t.or=function(T){const p=Math.max(this.g.length,T.g.length),w=[];for(let A=0;A<p;A++)w[A]=this.i(A)|T.i(A);return new o(w,this.h|T.h)},t.xor=function(T){const p=Math.max(this.g.length,T.g.length),w=[];for(let A=0;A<p;A++)w[A]=this.i(A)^T.i(A);return new o(w,this.h^T.h)};function M(T){const p=T.g.length+1,w=[];for(let A=0;A<p;A++)w[A]=T.i(A)<<1|T.i(A-1)>>>31;return new o(w,T.h)}function L(T,p){const w=p>>5;p%=32;const A=T.g.length-w,k=[];for(let C=0;C<A;C++)k[C]=p>0?T.i(C+w)>>>p|T.i(C+w+1)<<32-p:T.i(C+w);return new o(k,T.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,zE=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,pr=o}).apply(typeof ow<"u"?ow:typeof self<"u"?self:typeof window<"u"?window:{});var hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UE,ql,BE,Ud,Bg,FE,$E,HE;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof hd=="object"&&hd];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function i(u,g){if(g)e:{var _=s;u=u.split(".");for(var D=0;D<u.length-1;D++){var B=u[D];if(!(B in _))break e;_=_[B]}u=u[u.length-1],D=_[u],g=g(D),g!=D&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}i("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(u){return u||function(g){var _=[],D;for(D in g)Object.prototype.hasOwnProperty.call(g,D)&&_.push([D,g[D]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var r=r||{},o=this||self;function l(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function c(u,g,_){return u.call.apply(u.bind,arguments)}function d(u,g,_){return d=c,d.apply(null,arguments)}function h(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var D=_.slice();return D.push.apply(D,arguments),u.apply(this,D)}}function f(u,g){function _(){}_.prototype=g.prototype,u.Z=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(D,B,F){for(var te=Array(arguments.length-2),je=2;je<arguments.length;je++)te[je-2]=arguments[je];return g.prototype[B].apply(D,te)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function y(u){const g=u.length;if(g>0){const _=Array(g);for(let D=0;D<g;D++)_[D]=u[D];return _}return[]}function S(u,g){for(let D=1;D<arguments.length;D++){const B=arguments[D];var _=typeof B;if(_=_!="object"?_:B?Array.isArray(B)?"array":_:"null",_=="array"||_=="object"&&typeof B.length=="number"){_=u.length||0;const F=B.length||0;u.length=_+F;for(let te=0;te<F;te++)u[_+te]=B[te]}else u.push(B)}}class R{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function j(u){o.setTimeout(()=>{throw u},0)}function N(){var u=T;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class x{constructor(){this.h=this.g=null}add(g,_){const D=v.get();D.set(g,_),this.h?this.h.next=D:this.g=D,this.h=D}}var v=new R(()=>new E,u=>u.reset());class E{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let M,L=!1,T=new x,p=()=>{const u=Promise.resolve(void 0);M=()=>{u.then(w)}};function w(){for(var u;u=N();){try{u.h.call(u.g)}catch(_){j(_)}var g=v;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}L=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};o.addEventListener("test",_,g),o.removeEventListener("test",_,g)}catch{}return u}();function b(u){return/^[\s\xa0]*$/.test(u)}function O(u,g){k.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}f(O,k),O.prototype.init=function(u,g){const _=this.type=u.type,D=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(_=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&O.Z.h.call(this)},O.prototype.h=function(){O.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var P="closure_listenable_"+(Math.random()*1e6|0),V=0;function z(u,g,_,D,B){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!D,this.ha=B,this.key=++V,this.da=this.fa=!1}function U(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ee(u,g,_){for(const D in u)g.call(_,u[D],D,u)}function $(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function W(u){const g={};for(const _ in u)g[_]=u[_];return g}const we="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(u,g){let _,D;for(let B=1;B<arguments.length;B++){D=arguments[B];for(_ in D)u[_]=D[_];for(let F=0;F<we.length;F++)_=we[F],Object.prototype.hasOwnProperty.call(D,_)&&(u[_]=D[_])}}function ye(u){this.src=u,this.g={},this.h=0}ye.prototype.add=function(u,g,_,D,B){const F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);const te=Te(u,g,D,B);return te>-1?(g=u[te],_||(g.fa=!1)):(g=new z(g,this.src,F,!!D,B),g.fa=_,u.push(g)),g};function J(u,g){const _=g.type;if(_ in u.g){var D=u.g[_],B=Array.prototype.indexOf.call(D,g,void 0),F;(F=B>=0)&&Array.prototype.splice.call(D,B,1),F&&(U(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Te(u,g,_,D){for(let B=0;B<u.length;++B){const F=u[B];if(!F.da&&F.listener==g&&F.capture==!!_&&F.ha==D)return B}return-1}var Z="closure_lm_"+(Math.random()*1e6|0),ce={};function q(u,g,_,D,B){if(Array.isArray(g)){for(let F=0;F<g.length;F++)q(u,g[F],_,D,B);return null}return _=Vr(_),u&&u[P]?u.J(g,_,l(D)?!!D.capture:!1,B):me(u,g,_,!1,D,B)}function me(u,g,_,D,B,F){if(!g)throw Error("Invalid event type");const te=l(B)?!!B.capture:!!B;let je=fn(u);if(je||(u[Z]=je=new ye(u)),_=je.add(g,_,D,te,F),_.proxy)return _;if(D=Je(),_.proxy=D,D.src=u,D.listener=_,u.addEventListener)C||(B=te),B===void 0&&(B=!1),u.addEventListener(g.toString(),D,B);else if(u.attachEvent)u.attachEvent(nn(g.toString()),D);else if(u.addListener&&u.removeListener)u.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Je(){function u(_){return g.call(u.src,u.listener,_)}const g=vn;return u}function Ye(u,g,_,D,B){if(Array.isArray(g))for(var F=0;F<g.length;F++)Ye(u,g[F],_,D,B);else D=l(D)?!!D.capture:!!D,_=Vr(_),u&&u[P]?(u=u.i,F=String(g).toString(),F in u.g&&(g=u.g[F],_=Te(g,_,D,B),_>-1&&(U(g[_]),Array.prototype.splice.call(g,_,1),g.length==0&&(delete u.g[F],u.h--)))):u&&(u=fn(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Te(g,_,D,B)),(_=u>-1?g[u]:null)&&$t(_))}function $t(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[P])J(g.i,u);else{var _=u.type,D=u.proxy;g.removeEventListener?g.removeEventListener(_,D,u.capture):g.detachEvent?g.detachEvent(nn(_),D):g.addListener&&g.removeListener&&g.removeListener(D),(_=fn(g))?(J(_,u),_.h==0&&(_.src=null,g[Z]=null)):U(u)}}}function nn(u){return u in ce?ce[u]:ce[u]="on"+u}function vn(u,g){if(u.da)u=!0;else{g=new O(g,this);const _=u.listener,D=u.ha||u.src;u.fa&&$t(u),u=_.call(D,g)}return u}function fn(u){return u=u[Z],u instanceof ye?u:null}var ds="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vr(u){return typeof u=="function"?u:(u[ds]||(u[ds]=function(g){return u.handleEvent(g)}),u[ds])}function Ht(){A.call(this),this.i=new ye(this),this.M=this,this.G=null}f(Ht,A),Ht.prototype[P]=!0,Ht.prototype.removeEventListener=function(u,g,_,D){Ye(this,u,g,_,D)};function sn(u,g){var _,D=u.G;if(D)for(_=[];D;D=D.G)_.push(D);if(u=u.M,D=g.type||g,typeof g=="string")g=new k(g,u);else if(g instanceof k)g.target=g.target||u;else{var B=g;g=new k(D,u),ue(g,B)}B=!0;let F,te;if(_)for(te=_.length-1;te>=0;te--)F=g.g=_[te],B=gl(F,D,!0,g)&&B;if(F=g.g=u,B=gl(F,D,!0,g)&&B,B=gl(F,D,!1,g)&&B,_)for(te=0;te<_.length;te++)F=g.g=_[te],B=gl(F,D,!1,g)&&B}Ht.prototype.N=function(){if(Ht.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const _=u.g[g];for(let D=0;D<_.length;D++)U(_[D]);delete u.g[g],u.h--}}this.G=null},Ht.prototype.J=function(u,g,_,D){return this.i.add(String(u),g,!1,_,D)},Ht.prototype.K=function(u,g,_,D){return this.i.add(String(u),g,!0,_,D)};function gl(u,g,_,D){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let B=!0;for(let F=0;F<g.length;++F){const te=g[F];if(te&&!te.da&&te.capture==_){const je=te.listener,It=te.ha||te.src;te.fa&&J(u.i,te),B=je.call(It,D)!==!1&&B}}return B&&!D.defaultPrevented}function sm(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:o.setTimeout(u,g||0)}function Q(u){u.g=sm(()=>{u.g=null,u.i&&(u.i=!1,Q(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class X extends A{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Q(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oe(u){A.call(this),this.h=u,this.g={}}f(oe,A);var ae=[];function de(u){ee(u.g,function(g,_){this.g.hasOwnProperty(_)&&$t(g)},u),u.g={}}oe.prototype.N=function(){oe.Z.N.call(this),de(this)},oe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var le=o.JSON.stringify,ie=o.JSON.parse,ve=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function Pe(){}function Ee(){}var Le={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function bt(){k.call(this,"d")}f(bt,k);function Fs(){k.call(this,"c")}f(Fs,k);var hs={},iv=null;function Lu(){return iv=iv||new Ht}hs.Ia="serverreachability";function rv(u){k.call(this,hs.Ia,u)}f(rv,k);function xl(u){const g=Lu();sn(g,new rv(g))}hs.STAT_EVENT="statevent";function av(u,g){k.call(this,hs.STAT_EVENT,u),this.stat=g}f(av,k);function mn(u){const g=Lu();sn(g,new av(g,u))}hs.Ja="timingevent";function ov(u,g){k.call(this,hs.Ja,u),this.size=g}f(ov,k);function yl(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},g)}function vl(){this.g=!0}vl.prototype.ua=function(){this.g=!1};function g4(u,g,_,D,B,F){u.info(function(){if(u.g)if(F){var te="",je=F.split("&");for(let Qe=0;Qe<je.length;Qe++){var It=je[Qe].split("=");if(It.length>1){const Pt=It[0];It=It[1];const Ts=Pt.split("_");te=Ts.length>=2&&Ts[1]=="type"?te+(Pt+"="+It+"&"):te+(Pt+"=redacted&")}}}else te=null;else te=F;return"XMLHTTP REQ ("+D+") [attempt "+B+"]: "+g+`
`+_+`
`+te})}function x4(u,g,_,D,B,F,te){u.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+B+"]: "+g+`
`+_+`
`+F+" "+te})}function Va(u,g,_,D){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+v4(u,_)+(D?" "+D:"")})}function y4(u,g){u.info(function(){return"TIMEOUT: "+g})}vl.prototype.info=function(){};function v4(u,g){if(!u.g)return g;if(!g)return null;try{const F=JSON.parse(g);if(F){for(u=0;u<F.length;u++)if(Array.isArray(F[u])){var _=F[u];if(!(_.length<2)){var D=_[1];if(Array.isArray(D)&&!(D.length<1)){var B=D[0];if(B!="noop"&&B!="stop"&&B!="close")for(let te=1;te<D.length;te++)D[te]=""}}}}return le(F)}catch{return g}}var zu={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},lv={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},cv;function im(){}f(im,Pe),im.prototype.g=function(){return new XMLHttpRequest},cv=new im;function bl(u){return encodeURIComponent(String(u))}function b4(u){var g=1;u=u.split(":");const _=[];for(;g>0&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function Ci(u,g,_,D){this.j=u,this.i=g,this.l=_,this.S=D||1,this.V=new oe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new uv}function uv(){this.i=null,this.g="",this.h=!1}var dv={},rm={};function am(u,g,_){u.M=1,u.A=Bu(Ss(g)),u.u=_,u.R=!0,hv(u,null)}function hv(u,g){u.F=Date.now(),Uu(u),u.B=Ss(u.A);var _=u.B,D=u.S;Array.isArray(D)||(D=[String(D)]),Tv(_.i,"t",D),u.C=0,_=u.j.L,u.h=new uv,u.g=$v(u.j,_?g:null,!u.u),u.P>0&&(u.O=new X(d(u.Y,u,u.g),u.P)),g=u.V,_=u.g,D=u.ba;var B="readystatechange";Array.isArray(B)||(B&&(ae[0]=B.toString()),B=ae);for(let F=0;F<B.length;F++){const te=q(_,B[F],D||g.handleEvent,!1,g.h||g);if(!te)break;g.g[te.key]=te}g=u.J?W(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),xl(),g4(u.i,u.v,u.B,u.l,u.S,u.u)}Ci.prototype.ba=function(u){u=u.target;const g=this.O;g&&ki(u)==3?g.j():this.Y(u)},Ci.prototype.Y=function(u){try{if(u==this.g)e:{const je=ki(this.g),It=this.g.ya(),Qe=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||kv(this.g)))){this.K||je!=4||It==7||(It==8||Qe<=0?xl(3):xl(2)),om(this);var g=this.g.ca();this.X=g;var _=w4(this);if(this.o=g==200,x4(this.i,this.v,this.B,this.l,this.S,je,g),this.o){if(this.U&&!this.L){t:{if(this.g){var D,B=this.g;if((D=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(D)){var F=D;break t}}F=null}if(u=F)Va(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,lm(this,u);else{this.o=!1,this.m=3,mn(12),Pr(this),wl(this);break e}}if(this.R){u=!0;let Pt;for(;!this.K&&this.C<_.length;)if(Pt=_4(this,_),Pt==rm){je==4&&(this.m=4,mn(14),u=!1),Va(this.i,this.l,null,"[Incomplete Response]");break}else if(Pt==dv){this.m=4,mn(15),Va(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Va(this.i,this.l,Pt,null),lm(this,Pt);if(fv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||_.length!=0||this.h.h||(this.m=1,mn(16),u=!1),this.o=this.o&&u,!u)Va(this.i,this.l,_,"[Invalid Chunked Response]"),Pr(this),wl(this);else if(_.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),gm(te),te.P=!0,mn(11))}}else Va(this.i,this.l,_,null),lm(this,_);je==4&&Pr(this),this.o&&!this.K&&(je==4?zv(this.j,this):(this.o=!1,Uu(this)))}else V4(this.g),g==400&&_.indexOf("Unknown SID")>0?(this.m=3,mn(12)):(this.m=0,mn(13)),Pr(this),wl(this)}}}catch{}finally{}};function w4(u){if(!fv(u))return u.g.la();const g=kv(u.g);if(g==="")return"";let _="";const D=g.length,B=ki(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Pr(u),wl(u),"";u.h.i=new o.TextDecoder}for(let F=0;F<D;F++)u.h.h=!0,_+=u.h.i.decode(g[F],{stream:!(B&&F==D-1)});return g.length=0,u.h.g+=_,u.C=0,u.h.g}function fv(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function _4(u,g){var _=u.C,D=g.indexOf(`
`,_);return D==-1?rm:(_=Number(g.substring(_,D)),isNaN(_)?dv:(D+=1,D+_>g.length?rm:(g=g.slice(D,D+_),u.C=D+_,g)))}Ci.prototype.cancel=function(){this.K=!0,Pr(this)};function Uu(u){u.T=Date.now()+u.H,mv(u,u.H)}function mv(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=yl(d(u.aa,u),g)}function om(u){u.D&&(o.clearTimeout(u.D),u.D=null)}Ci.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(y4(this.i,this.B),this.M!=2&&(xl(),mn(17)),Pr(this),this.m=2,wl(this)):mv(this,this.T-u)};function wl(u){u.j.I==0||u.K||zv(u.j,u)}function Pr(u){om(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,de(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function lm(u,g){try{var _=u.j;if(_.I!=0&&(_.g==u||cm(_.h,u))){if(!u.L&&cm(_.h,u)&&_.I==3){try{var D=_.Ba.g.parse(g)}catch{D=null}if(Array.isArray(D)&&D.length==3){var B=D;if(B[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)Ku(_),Hu(_);else break e;pm(_),mn(18)}}else _.xa=B[1],0<_.xa-_.K&&B[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=yl(d(_.Va,_),6e3));xv(_.h)<=1&&_.ta&&(_.ta=void 0)}else zr(_,11)}else if((u.L||_.g==u)&&Ku(_),!b(g))for(B=_.Ba.g.parse(g),g=0;g<B.length;g++){let Qe=B[g];const Pt=Qe[0];if(!(Pt<=_.K))if(_.K=Pt,Qe=Qe[1],_.I==2)if(Qe[0]=="c"){_.M=Qe[1],_.ba=Qe[2];const Ts=Qe[3];Ts!=null&&(_.ka=Ts,_.j.info("VER="+_.ka));const Ur=Qe[4];Ur!=null&&(_.za=Ur,_.j.info("SVER="+_.za));const Di=Qe[5];Di!=null&&typeof Di=="number"&&Di>0&&(D=1.5*Di,_.O=D,_.j.info("backChannelRequestTimeoutMs_="+D)),D=_;const Mi=u.g;if(Mi){const qu=Mi.g?Mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qu){var F=D.h;F.g||qu.indexOf("spdy")==-1&&qu.indexOf("quic")==-1&&qu.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(um(F,F.h),F.h=null))}if(D.G){const xm=Mi.g?Mi.g.getResponseHeader("X-HTTP-Session-Id"):null;xm&&(D.wa=xm,Ze(D.J,D.G,xm))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),D=_;var te=u;if(D.na=Fv(D,D.L?D.ba:null,D.W),te.L){yv(D.h,te);var je=te,It=D.O;It&&(je.H=It),je.D&&(om(je),Uu(je)),D.g=te}else Pv(D);_.i.length>0&&Gu(_)}else Qe[0]!="stop"&&Qe[0]!="close"||zr(_,7);else _.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?zr(_,7):mm(_):Qe[0]!="noop"&&_.l&&_.l.qa(Qe),_.A=0)}}xl(4)}catch{}}var N4=class{constructor(u,g){this.g=u,this.map=g}};function pv(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gv(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function xv(u){return u.h?1:u.g?u.g.size:0}function cm(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function um(u,g){u.g?u.g.add(g):u.h=g}function yv(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}pv.prototype.cancel=function(){if(this.i=vv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function vv(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.G);return g}return y(u.i)}var bv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function S4(u,g){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const D=u[_].indexOf("=");let B,F=null;D>=0?(B=u[_].substring(0,D),F=u[_].substring(D+1)):B=u[_],g(B,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Ri(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof Ri?(this.l=u.l,_l(this,u.j),this.o=u.o,this.g=u.g,Nl(this,u.u),this.h=u.h,dm(this,Ev(u.i)),this.m=u.m):u&&(g=String(u).match(bv))?(this.l=!1,_l(this,g[1]||"",!0),this.o=Sl(g[2]||""),this.g=Sl(g[3]||"",!0),Nl(this,g[4]),this.h=Sl(g[5]||"",!0),dm(this,g[6]||"",!0),this.m=Sl(g[7]||"")):(this.l=!1,this.i=new El(null,this.l))}Ri.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(Tl(g,wv,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Tl(g,wv,!0),"@"),u.push(bl(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Tl(_,_.charAt(0)=="/"?A4:E4,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Tl(_,C4)),u.join("")},Ri.prototype.resolve=function(u){const g=Ss(this);let _=!!u.j;_?_l(g,u.j):_=!!u.o,_?g.o=u.o:_=!!u.g,_?g.g=u.g:_=u.u!=null;var D=u.h;if(_)Nl(g,u.u);else if(_=!!u.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var B=g.h.lastIndexOf("/");B!=-1&&(D=g.h.slice(0,B+1)+D)}if(B=D,B==".."||B==".")D="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){D=B.lastIndexOf("/",0)==0,B=B.split("/");const F=[];for(let te=0;te<B.length;){const je=B[te++];je=="."?D&&te==B.length&&F.push(""):je==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),D&&te==B.length&&F.push("")):(F.push(je),D=!0)}D=F.join("/")}else D=B}return _?g.h=D:_=u.i.toString()!=="",_?dm(g,Ev(u.i)):_=!!u.m,_&&(g.m=u.m),g};function Ss(u){return new Ri(u)}function _l(u,g,_){u.j=_?Sl(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Nl(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function dm(u,g,_){g instanceof El?(u.i=g,R4(u.i,u.l)):(_||(g=Tl(g,j4)),u.i=new El(g,u.l))}function Ze(u,g,_){u.i.set(g,_)}function Bu(u){return Ze(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Sl(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Tl(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,T4),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function T4(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var wv=/[#\/\?@]/g,E4=/[#\?:]/g,A4=/[#\?]/g,j4=/[#\?@]/g,C4=/#/g;function El(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Lr(u){u.g||(u.g=new Map,u.h=0,u.i&&S4(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}t=El.prototype,t.add=function(u,g){Lr(this),this.i=null,u=Pa(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function _v(u,g){Lr(u),g=Pa(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Nv(u,g){return Lr(u),g=Pa(u,g),u.g.has(g)}t.forEach=function(u,g){Lr(this),this.g.forEach(function(_,D){_.forEach(function(B){u.call(g,B,D,this)},this)},this)};function Sv(u,g){Lr(u);let _=[];if(typeof g=="string")Nv(u,g)&&(_=_.concat(u.g.get(Pa(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)_=_.concat(u[g]);return _}t.set=function(u,g){return Lr(this),this.i=null,u=Pa(this,u),Nv(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=Sv(this,u),u.length>0?String(u[0]):g):g};function Tv(u,g,_){_v(u,g),_.length>0&&(u.i=null,u.g.set(Pa(u,g),y(_)),u.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let D=0;D<g.length;D++){var _=g[D];const B=bl(_);_=Sv(this,_);for(let F=0;F<_.length;F++){let te=B;_[F]!==""&&(te+="="+bl(_[F])),u.push(te)}}return this.i=u.join("&")};function Ev(u){const g=new El;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function Pa(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function R4(u,g){g&&!u.j&&(Lr(u),u.i=null,u.g.forEach(function(_,D){const B=D.toLowerCase();D!=B&&(_v(this,D),Tv(this,B,_))},u)),u.j=g}function I4(u,g){const _=new vl;if(o.Image){const D=new Image;D.onload=h(Ii,_,"TestLoadImage: loaded",!0,g,D),D.onerror=h(Ii,_,"TestLoadImage: error",!1,g,D),D.onabort=h(Ii,_,"TestLoadImage: abort",!1,g,D),D.ontimeout=h(Ii,_,"TestLoadImage: timeout",!1,g,D),o.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=u}else g(!1)}function k4(u,g){const _=new vl,D=new AbortController,B=setTimeout(()=>{D.abort(),Ii(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:D.signal}).then(F=>{clearTimeout(B),F.ok?Ii(_,"TestPingServer: ok",!0,g):Ii(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(B),Ii(_,"TestPingServer: error",!1,g)})}function Ii(u,g,_,D,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),D(_)}catch{}}function D4(){this.g=new ve}function hm(u){this.i=u.Sb||null,this.h=u.ab||!1}f(hm,Pe),hm.prototype.g=function(){return new Fu(this.i,this.h)};function Fu(u,g){Ht.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Fu,Ht),t=Fu.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,jl(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||o).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Al(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jl(this)),this.g&&(this.readyState=3,jl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Av(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Av(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Al(this):jl(this),this.readyState==3&&Av(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,Al(this))},t.Na=function(u){this.g&&(this.response=u,Al(this))},t.ga=function(){this.g&&Al(this)};function Al(u){u.readyState=4,u.l=null,u.j=null,u.B=null,jl(u)}t.setRequestHeader=function(u,g){this.A.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function jl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Fu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function jv(u){let g="";return ee(u,function(_,D){g+=D,g+=":",g+=_,g+=`\r
`}),g}function fm(u,g,_){e:{for(D in _){var D=!1;break e}D=!0}D||(_=jv(_),typeof u=="string"?_!=null&&bl(_):Ze(u,g,_))}function dt(u){Ht.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(dt,Ht);var M4=/^https?$/i,O4=["POST","PUT"];t=dt.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,g,_,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():cv.g(),this.g.onreadystatechange=m(d(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(F){Cv(this,F);return}if(u=_||"",_=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var B in D)_.set(B,D[B]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const F of D.keys())_.set(F,D.get(F));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),B=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(O4,g,void 0)>=0)||D||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,te]of _)this.g.setRequestHeader(F,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(F){Cv(this,F)}};function Cv(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,Rv(u),$u(u)}function Rv(u){u.A||(u.A=!0,sn(u,"complete"),sn(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,sn(this,"complete"),sn(this,"abort"),$u(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$u(this,!0)),dt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Iv(this):this.Xa())},t.Xa=function(){Iv(this)};function Iv(u){if(u.h&&typeof r<"u"){if(u.v&&ki(u)==4)setTimeout(u.Ca.bind(u),0);else if(sn(u,"readystatechange"),ki(u)==4){u.h=!1;try{const F=u.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var D;if(D=F===0){let te=String(u.D).match(bv)[1]||null;!te&&o.self&&o.self.location&&(te=o.self.location.protocol.slice(0,-1)),D=!M4.test(te?te.toLowerCase():"")}_=D}if(_)sn(u,"complete"),sn(u,"success");else{u.o=6;try{var B=ki(u)>2?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.ca()+"]",Rv(u)}}finally{$u(u)}}}}function $u(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,g||sn(u,"ready");try{_.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ki(u){return u.g?u.g.readyState:0}t.ca=function(){try{return ki(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),ie(g)}};function kv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function V4(u){const g={};u=(u.g&&ki(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<u.length;D++){if(b(u[D]))continue;var _=b4(u[D]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=g[B]||[];g[B]=F,F.push(_)}$(g,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cl(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function Dv(u){this.za=0,this.i=[],this.j=new vl,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Cl("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Cl("baseRetryDelayMs",5e3,u),this.Za=Cl("retryDelaySeedMs",1e4,u),this.Ta=Cl("forwardChannelMaxRetries",2,u),this.va=Cl("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new pv(u&&u.concurrentRequestLimit),this.Ba=new D4,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Dv.prototype,t.ka=8,t.I=1,t.connect=function(u,g,_,D){mn(0),this.W=u,this.H=g||{},_&&D!==void 0&&(this.H.OSID=_,this.H.OAID=D),this.F=this.X,this.J=Fv(this,null,this.W),Gu(this)};function mm(u){if(Mv(u),u.I==3){var g=u.V++,_=Ss(u.J);if(Ze(_,"SID",u.M),Ze(_,"RID",g),Ze(_,"TYPE","terminate"),Rl(u,_),g=new Ci(u,u.j,g),g.M=2,g.A=Bu(Ss(_)),_=!1,o.navigator&&o.navigator.sendBeacon)try{_=o.navigator.sendBeacon(g.A.toString(),"")}catch{}!_&&o.Image&&(new Image().src=g.A,_=!0),_||(g.g=$v(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Uu(g)}Bv(u)}function Hu(u){u.g&&(gm(u),u.g.cancel(),u.g=null)}function Mv(u){Hu(u),u.v&&(o.clearTimeout(u.v),u.v=null),Ku(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function Gu(u){if(!gv(u.h)&&!u.m){u.m=!0;var g=u.Ea;M||p(),L||(M(),L=!0),T.add(g,u),u.D=0}}function P4(u,g){return xv(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=yl(d(u.Ea,u,g),Uv(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const B=new Ci(this,this.j,u);let F=this.o;if(this.U&&(F?(F=W(F),ue(F,this.U)):F=this.U),this.u!==null||this.R||(B.J=F,F=null),this.S)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var D=this.i[_];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(g+=D,g>4096){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Vv(this,B,g),_=Ss(this.J),Ze(_,"RID",u),Ze(_,"CVER",22),this.G&&Ze(_,"X-HTTP-Session-Id",this.G),Rl(this,_),F&&(this.R?g="headers="+bl(jv(F))+"&"+g:this.u&&fm(_,this.u,F)),um(this.h,B),this.Ra&&Ze(_,"TYPE","init"),this.S?(Ze(_,"$req",g),Ze(_,"SID","null"),B.U=!0,am(B,_,null)):am(B,_,g),this.I=2}}else this.I==3&&(u?Ov(this,u):this.i.length==0||gv(this.h)||Ov(this))};function Ov(u,g){var _;g?_=g.l:_=u.V++;const D=Ss(u.J);Ze(D,"SID",u.M),Ze(D,"RID",_),Ze(D,"AID",u.K),Rl(u,D),u.u&&u.o&&fm(D,u.u,u.o),_=new Ci(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),g&&(u.i=g.G.concat(u.i)),g=Vv(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),um(u.h,_),am(_,D,g)}function Rl(u,g){u.H&&ee(u.H,function(_,D){Ze(g,D,_)}),u.l&&ee({},function(_,D){Ze(g,D,_)})}function Vv(u,g,_){_=Math.min(u.i.length,_);const D=u.l?d(u.l.Ka,u.l,u):null;e:{var B=u.i;let je=-1;for(;;){const It=["count="+_];je==-1?_>0?(je=B[0].g,It.push("ofs="+je)):je=0:It.push("ofs="+je);let Qe=!0;for(let Pt=0;Pt<_;Pt++){var F=B[Pt].g;const Ts=B[Pt].map;if(F-=je,F<0)je=Math.max(0,B[Pt].g-100),Qe=!1;else try{F="req"+F+"_"||"";try{var te=Ts instanceof Map?Ts:Object.entries(Ts);for(const[Ur,Di]of te){let Mi=Di;l(Di)&&(Mi=le(Di)),It.push(F+Ur+"="+encodeURIComponent(Mi))}}catch(Ur){throw It.push(F+"type="+encodeURIComponent("_badmap")),Ur}}catch{D&&D(Ts)}}if(Qe){te=It.join("&");break e}}te=void 0}return u=u.i.splice(0,_),g.G=u,te}function Pv(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;M||p(),L||(M(),L=!0),T.add(g,u),u.A=0}}function pm(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=yl(d(u.Da,u),Uv(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,Lv(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=yl(d(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,mn(10),Hu(this),Lv(this))};function gm(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function Lv(u){u.g=new Ci(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=Ss(u.na);Ze(g,"RID","rpc"),Ze(g,"SID",u.M),Ze(g,"AID",u.K),Ze(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ze(g,"TO",u.ia),Ze(g,"TYPE","xmlhttp"),Rl(u,g),u.u&&u.o&&fm(g,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Bu(Ss(g)),_.u=null,_.R=!0,hv(_,u)}t.Va=function(){this.C!=null&&(this.C=null,Hu(this),pm(this),mn(19))};function Ku(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function zv(u,g){var _=null;if(u.g==g){Ku(u),gm(u),u.g=null;var D=2}else if(cm(u.h,g))_=g.G,yv(u.h,g),D=1;else return;if(u.I!=0){if(g.o)if(D==1){_=g.u?g.u.length:0,g=Date.now()-g.F;var B=u.D;D=Lu(),sn(D,new ov(D,_)),Gu(u)}else Pv(u);else if(B=g.m,B==3||B==0&&g.X>0||!(D==1&&P4(u,g)||D==2&&pm(u)))switch(_&&_.length>0&&(g=u.h,g.i=g.i.concat(_)),B){case 1:zr(u,5);break;case 4:zr(u,10);break;case 3:zr(u,6);break;default:zr(u,2)}}}function Uv(u,g){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*g}function zr(u,g){if(u.j.info("Error code "+g),g==2){var _=d(u.bb,u),D=u.Ua;const B=!D;D=new Ri(D||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||_l(D,"https"),Bu(D),B?I4(D.toString(),_):k4(D.toString(),_)}else mn(2);u.I=0,u.l&&u.l.pa(g),Bv(u),Mv(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),mn(2)):(this.j.info("Failed to ping google.com"),mn(1))};function Bv(u){if(u.I=0,u.ja=[],u.l){const g=vv(u.h);(g.length!=0||u.i.length!=0)&&(S(u.ja,g),S(u.ja,u.i),u.h.i.length=0,y(u.i),u.i.length=0),u.l.oa()}}function Fv(u,g,_){var D=_ instanceof Ri?Ss(_):new Ri(_);if(D.g!="")g&&(D.g=g+"."+D.g),Nl(D,D.u);else{var B=o.location;D=B.protocol,g=g?g+"."+B.hostname:B.hostname,B=+B.port;const F=new Ri(null);D&&_l(F,D),g&&(F.g=g),B&&Nl(F,B),_&&(F.h=_),D=F}return _=u.G,g=u.wa,_&&g&&Ze(D,_,g),Ze(D,"VER",u.ka),Rl(u,D),D}function $v(u,g,_){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new dt(new hm({ab:_})):new dt(u.ma),g.Fa(u.L),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hv(){}t=Hv.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Qu(){}Qu.prototype.g=function(u,g){return new In(u,g)};function In(u,g){Ht.call(this),this.g=new Dv(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!b(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!b(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new La(this)}f(In,Ht),In.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){mm(this.g)},In.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=le(u),u=_);g.i.push(new N4(g.Ya++,u)),g.I==3&&Gu(g)},In.prototype.N=function(){this.g.l=null,delete this.j,mm(this.g),delete this.g,In.Z.N.call(this)};function Gv(u){bt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}f(Gv,bt);function Kv(){Fs.call(this),this.status=1}f(Kv,Fs);function La(u){this.g=u}f(La,Hv),La.prototype.ra=function(){sn(this.g,"a")},La.prototype.qa=function(u){sn(this.g,new Gv(u))},La.prototype.pa=function(u){sn(this.g,new Kv)},La.prototype.oa=function(){sn(this.g,"b")},Qu.prototype.createWebChannel=Qu.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,HE=function(){return new Qu},$E=function(){return Lu()},FE=hs,Bg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},zu.NO_ERROR=0,zu.TIMEOUT=8,zu.HTTP_ERROR=6,Ud=zu,lv.COMPLETE="complete",BE=lv,Ee.EventType=Le,Le.OPEN="a",Le.CLOSE="b",Le.ERROR="c",Le.MESSAGE="d",Ht.prototype.listen=Ht.prototype.J,ql=Ee,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,UE=dt}).apply(typeof hd<"u"?hd:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let on=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul="12.9.0";function K6(t){ul=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=new Ax("@firebase/firestore");function Ka(){return ba.logLevel}function re(t,...e){if(ba.logLevel<=ke.DEBUG){const n=e.map(Ux);ba.debug(`Firestore (${ul}): ${t}`,...n)}}function yi(t,...e){if(ba.logLevel<=ke.ERROR){const n=e.map(Ux);ba.error(`Firestore (${ul}): ${t}`,...n)}}function wa(t,...e){if(ba.logLevel<=ke.WARN){const n=e.map(Ux);ba.warn(`Firestore (${ul}): ${t}`,...n)}}function Ux(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,GE(t,s,n)}function GE(t,e,n){let s=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw yi(s),new Error(s)}function Fe(t,e,n,s){let i="Unexpected state";typeof n=="string"?i=n:s=n,t||GE(e,i,s)}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends Ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Q6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(on.UNAUTHENTICATED))}shutdown(){}}class q6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Y6{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const i=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let r=new oi;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new oi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=r;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new oi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new KE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class X6{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class W6{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new X6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,On(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=r=>{r.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.m;return this.m=r.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>s(r))};const i=r=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?i(r):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new lw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new lw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const i=Z6(40);for(let r=0;r<i.length;++r)s.length<20&&i[r]<n&&(s+=e.charAt(i[r]%62))}return s}}function De(t,e){return t<e?-1:t>e?1:0}function Fg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const i=t.charAt(s),r=e.charAt(s);if(i!==r)return up(i)===up(r)?De(i,r):up(i)?1:-1}return De(t.length,e.length)}const eO=55296,tO=57343;function up(t){const e=t.charCodeAt(0);return e>=eO&&e<=tO}function Uo(t,e,n){return t.length===e.length&&t.every((s,i)=>n(s,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="__name__";class Es{constructor(e,n,s){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&xe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Es.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Es?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let i=0;i<s;i++){const r=Es.compareSegments(e.get(i),n.get(i));if(r!==0)return r}return De(e.length,n.length)}static compareSegments(e,n){const s=Es.isNumericId(e),i=Es.isNumericId(n);return s&&!i?-1:!s&&i?1:s&&i?Es.extractNumericId(e).compare(Es.extractNumericId(n)):Fg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pr.fromString(e.substring(4,e.length-2))}}class Xe extends Es{construct(e,n,s){return new Xe(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new se(G.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(i=>i.length>0))}return new Xe(n)}static emptyPath(){return new Xe([])}}const nO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Es{construct(e,n,s){return new Jt(e,n,s)}static isValidIdentifier(e){return nO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cw}static keyField(){return new Jt([cw])}static fromServerFormat(e){const n=[];let s="",i=0;const r=()=>{if(s.length===0)throw new se(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new se(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new se(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(s+=l,i++):(r(),i++)}if(r(),o)throw new se(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(Xe.fromString(e))}static fromName(e){return new fe(Xe.fromString(e).popFirst(5))}static empty(){return new fe(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new Xe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(t,e,n){if(!n)throw new se(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sO(t,e,n,s){if(e===!0&&s===!0)throw new se(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function uw(t){if(!fe.isDocumentKey(t))throw new se(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function dw(t){if(fe.isDocumentKey(t))throw new se(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Cf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function An(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cf(t);throw new se(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t,e){const n={typeString:t};return e&&(n.value=e),n}function Tu(t,e){if(!qE(t))throw new se(G.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const i=e[s].typeString,r="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const o=t[s];if(i&&typeof o!==i){n=`JSON field '${s}' must be a ${i}.`;break}if(r!==void 0&&o!==r.value){n=`Expected '${s}' field to equal '${r.value}'`;break}}if(n)throw new se(G.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=-62135596800,fw=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*fw);return new nt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<hw)throw new se(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fw}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tu(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:At("string",nt._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new nt(0,0))}static max(){return new _e(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=-1;function iO(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(s===1e9?new nt(n+1,0):new nt(n,s));return new wr(i,fe.empty(),e)}function rO(t){return new wr(t.readTime,t.key,Qc)}class wr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new wr(_e.min(),fe.empty(),Qc)}static max(){return new wr(_e.max(),fe.empty(),Qc)}}function aO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==oO)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((s,i)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(s,i)},this.catchCallback=r=>{this.wrapFailure(n,r).next(s,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,s)=>{n(e)})}static reject(e){return new Y((n,s)=>{s(e)})}static waitFor(e){return new Y((n,s)=>{let i=0,r=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++r,o&&r===i&&n()},c=>s(c))}),o=!0,r===i&&n()})}static or(e){let n=Y.resolve(!1);for(const s of e)n=n.next(i=>i?Y.resolve(i):s());return n}static forEach(e,n){const s=[];return e.forEach((i,r)=>{s.push(n.call(this,i,r))}),this.waitFor(s)}static mapArray(e,n){return new Y((s,i)=>{const r=e.length,o=new Array(r);let l=0;for(let c=0;c<r;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++l,l===r&&s(o)},h=>i(h))}})}static doWhile(e,n){return new Y((s,i)=>{const r=()=>{e()===!0?n().next(()=>{r()},i):s()};r()})}}function cO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=-1;function If(t){return t==null}function Oh(t){return t===0&&1/t==-1/0}function uO(t){return typeof t=="number"&&Number.isInteger(t)&&!Oh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="";function dO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=mw(e)),e=hO(t.get(n),e);return mw(e)}function hO(t,e){let n=e;const s=t.length;for(let i=0;i<s;i++){const r=t.charAt(i);switch(r){case"\0":n+="";break;case YE:n+="";break;default:n+=r}}return n}function mw(t){return t+YE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Dr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function XE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fd(this.root,e,this.comparator,!1)}getReverseIterator(){return new fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fd(this.root,e,this.comparator,!0)}}class fd{constructor(e,n,s,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?s(e.key,n):1,n&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??qt.RED,this.left=i??qt.EMPTY,this.right=r??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,i,r){return new qt(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return qt.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,s,i,r){return this}insert(e,n,s){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gw(this.data.getIterator())}getIteratorFrom(e){return new gw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(this.comparator(i,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class gw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Pn([])}unionWith(e){let n=new Ot(Jt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Uo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new WE("Invalid base64 string: "+r):r}}(e);return new tn(n)}static fromUint8Array(e){const n=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const fO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(t){if(Fe(!!t,39018),typeof t=="string"){let e=0;const n=fO.exec(t);if(Fe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Nr(t){return typeof t=="string"?tn.fromBase64String(t):tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="server_timestamp",ZE="__type__",eA="__previous_value__",tA="__local_write_time__";function $x(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[ZE])==null?void 0:s.stringValue)===JE}function kf(t){const e=t.mapValue.fields[eA];return $x(e)?kf(e):e}function qc(t){const e=_r(t.mapValue.fields[tA].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n,s,i,r,o,l,c,d,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h,this.apiKey=f}}const Vh="(default)";class Yc{constructor(e,n){this.projectId=e,this.database=n||Vh}static empty(){return new Yc("","")}get isDefaultDatabase(){return this.database===Vh}isEqual(e){return e instanceof Yc&&e.projectId===this.projectId&&e.database===this.database}}function pO(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new se(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yc(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="__type__",gO="__max__",md={mapValue:{}},sA="__vector__",Ph="value";function Sr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$x(t)?4:yO(t)?9007199254740991:xO(t)?10:11:xe(28295,{value:t})}function Ps(t,e){if(t===e)return!0;const n=Sr(t);if(n!==Sr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qc(t).isEqual(qc(e));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=_r(i.timestampValue),l=_r(r.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,r){return Nr(i.bytesValue).isEqual(Nr(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,r){return xt(i.geoPointValue.latitude)===xt(r.geoPointValue.latitude)&&xt(i.geoPointValue.longitude)===xt(r.geoPointValue.longitude)}(t,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return xt(i.integerValue)===xt(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=xt(i.doubleValue),l=xt(r.doubleValue);return o===l?Oh(o)===Oh(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Uo(t.arrayValue.values||[],e.arrayValue.values||[],Ps);case 10:case 11:return function(i,r){const o=i.mapValue.fields||{},l=r.mapValue.fields||{};if(pw(o)!==pw(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Ps(o[c],l[c])))return!1;return!0}(t,e);default:return xe(52216,{left:t})}}function Xc(t,e){return(t.values||[]).find(n=>Ps(n,e))!==void 0}function Bo(t,e){if(t===e)return 0;const n=Sr(t),s=Sr(e);if(n!==s)return De(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return function(r,o){const l=xt(r.integerValue||r.doubleValue),c=xt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return xw(t.timestampValue,e.timestampValue);case 4:return xw(qc(t),qc(e));case 5:return Fg(t.stringValue,e.stringValue);case 6:return function(r,o){const l=Nr(r),c=Nr(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(r,o){const l=r.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=De(l[d],c[d]);if(h!==0)return h}return De(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,o){const l=De(xt(r.latitude),xt(o.latitude));return l!==0?l:De(xt(r.longitude),xt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return yw(t.arrayValue,e.arrayValue);case 10:return function(r,o){var m,y,S,R;const l=r.fields||{},c=o.fields||{},d=(m=l[Ph])==null?void 0:m.arrayValue,h=(y=c[Ph])==null?void 0:y.arrayValue,f=De(((S=d==null?void 0:d.values)==null?void 0:S.length)||0,((R=h==null?void 0:h.values)==null?void 0:R.length)||0);return f!==0?f:yw(d,h)}(t.mapValue,e.mapValue);case 11:return function(r,o){if(r===md.mapValue&&o===md.mapValue)return 0;if(r===md.mapValue)return 1;if(o===md.mapValue)return-1;const l=r.fields||{},c=Object.keys(l),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const m=Fg(c[f],h[f]);if(m!==0)return m;const y=Bo(l[c[f]],d[h[f]]);if(y!==0)return y}return De(c.length,h.length)}(t.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function xw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);const n=_r(t),s=_r(e),i=De(n.seconds,s.seconds);return i!==0?i:De(n.nanos,s.nanos)}function yw(t,e){const n=t.values||[],s=e.values||[];for(let i=0;i<n.length&&i<s.length;++i){const r=Bo(n[i],s[i]);if(r)return r}return De(n.length,s.length)}function Fo(t){return $g(t)}function $g(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=_r(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Nr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",i=!0;for(const r of n.values||[])i?i=!1:s+=",",s+=$g(r);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let i="{",r=!0;for(const o of s)r?r=!1:i+=",",i+=`${o}:${$g(n.fields[o])}`;return i+"}"}(t.mapValue):xe(61005,{value:t})}function Bd(t){switch(Sr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kf(t);return e?16+Bd(e):16;case 5:return 2*t.stringValue.length;case 6:return Nr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((i,r)=>i+Bd(r),0)}(t.arrayValue);case 10:case 11:return function(s){let i=0;return Dr(s.fields,(r,o)=>{i+=r.length+Bd(o)}),i}(t.mapValue);default:throw xe(13486,{value:t})}}function vw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Hg(t){return!!t&&"integerValue"in t}function Hx(t){return!!t&&"arrayValue"in t}function bw(t){return!!t&&"nullValue"in t}function ww(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fd(t){return!!t&&"mapValue"in t}function xO(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[nA])==null?void 0:s.stringValue)===sA}function yc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Dr(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=yc(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yc(t.arrayValue.values[n]);return e}return{...t}}function yO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===gO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Fd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yc(n)}setAll(e){let n=Jt.emptyPath(),s={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,s,i),s={},i=[],n=l.popLast()}o?s[l.lastSegment()]=yc(o):i.push(l.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,s,i)}delete(e){const n=this.field(e.popLast());Fd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ps(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=n.mapValue.fields[e.get(s)];Fd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,s){Dr(n,(i,r)=>e[i]=r);for(const i of s)delete e[i]}clone(){return new Tn(yc(this.value))}}function iA(t){const e=[];return Dr(t.fields,(n,s)=>{const i=new Jt([n]);if(Fd(s)){const r=iA(s.mapValue).fields;if(r.length===0)e.push(i);else for(const o of r)e.push(i.child(o))}else e.push(i)}),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n,s,i,r,o,l){this.key=e,this.documentType=n,this.version=s,this.readTime=i,this.createTime=r,this.data=o,this.documentState=l}static newInvalidDocument(e){return new ln(e,0,_e.min(),_e.min(),_e.min(),Tn.empty(),0)}static newFoundDocument(e,n,s,i){return new ln(e,1,n,_e.min(),s,i,0)}static newNoDocument(e,n){return new ln(e,2,n,_e.min(),_e.min(),Tn.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,_e.min(),_e.min(),Tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n){this.position=e,this.inclusive=n}}function _w(t,e,n){let s=0;for(let i=0;i<t.position.length;i++){const r=e[i],o=t.position[i];if(r.field.isKeyField()?s=fe.comparator(fe.fromName(o.referenceValue),n.key):s=Bo(o,n.data.field(r.field)),r.dir==="desc"&&(s*=-1),s!==0)break}return s}function Nw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ps(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n="asc"){this.field=e,this.dir=n}}function vO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{}class Tt extends rA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new wO(e,n,s):n==="array-contains"?new SO(e,s):n==="in"?new TO(e,s):n==="not-in"?new EO(e,s):n==="array-contains-any"?new AO(e,s):new Tt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new _O(e,s):new NO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bo(n,this.value)):n!==null&&Sr(this.value)===Sr(n)&&this.matchesComparison(Bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ws extends rA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ws(e,n)}matches(e){return aA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function aA(t){return t.op==="and"}function oA(t){return bO(t)&&aA(t)}function bO(t){for(const e of t.filters)if(e instanceof ws)return!1;return!0}function Gg(t){if(t instanceof Tt)return t.field.canonicalString()+t.op.toString()+Fo(t.value);if(oA(t))return t.filters.map(e=>Gg(e)).join(",");{const e=t.filters.map(n=>Gg(n)).join(",");return`${t.op}(${e})`}}function lA(t,e){return t instanceof Tt?function(s,i){return i instanceof Tt&&s.op===i.op&&s.field.isEqual(i.field)&&Ps(s.value,i.value)}(t,e):t instanceof ws?function(s,i){return i instanceof ws&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce((r,o,l)=>r&&lA(o,i.filters[l]),!0):!1}(t,e):void xe(19439)}function cA(t){return t instanceof Tt?function(n){return`${n.field.canonicalString()} ${n.op} ${Fo(n.value)}`}(t):t instanceof ws?function(n){return n.op.toString()+" {"+n.getFilters().map(cA).join(" ,")+"}"}(t):"Filter"}class wO extends Tt{constructor(e,n,s){super(e,n,s),this.key=fe.fromName(s.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class _O extends Tt{constructor(e,n){super(e,"in",n),this.keys=uA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class NO extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=uA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>fe.fromName(s.referenceValue))}class SO extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hx(n)&&Xc(n.arrayValue,this.value)}}class TO extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xc(this.value.arrayValue,n)}}class EO extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xc(this.value.arrayValue,n)}}class AO extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Xc(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n=null,s=[],i=[],r=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=r,this.startAt=o,this.endAt=l,this.Te=null}}function Sw(t,e=null,n=[],s=[],i=null,r=null,o=null){return new jO(t,e,n,s,i,r,o)}function Gx(t){const e=Ne(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Gg(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),If(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Fo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Fo(s)).join(",")),e.Te=n}return e.Te}function Kx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Nw(t.startAt,e.startAt)&&Nw(t.endAt,e.endAt)}function Kg(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n=null,s=[],i=[],r=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=r,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function CO(t,e,n,s,i,r,o,l){return new Eu(t,e,n,s,i,r,o,l)}function Df(t){return new Eu(t)}function Tw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RO(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function dA(t){return t.collectionGroup!==null}function vc(t){const e=Ne(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const r of e.explicitOrderBy)e.Ie.push(r),n.add(r.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Ot(Jt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.Ie.push(new zh(r,s))}),n.has(Jt.keyField().canonicalString())||e.Ie.push(new zh(Jt.keyField(),s))}return e.Ie}function ks(t){const e=Ne(t);return e.Ee||(e.Ee=IO(e,vc(t))),e.Ee}function IO(t,e){if(t.limitType==="F")return Sw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const r=i.dir==="desc"?"asc":"desc";return new zh(i.field,r)});const n=t.endAt?new Lh(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Lh(t.startAt.position,t.startAt.inclusive):null;return Sw(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Qg(t,e){const n=t.filters.concat([e]);return new Eu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qg(t,e,n){return new Eu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mf(t,e){return Kx(ks(t),ks(e))&&t.limitType===e.limitType}function hA(t){return`${Gx(ks(t))}|lt:${t.limitType}`}function Qa(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(i=>cA(i)).join(", ")}]`),If(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(i=>Fo(i)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(i=>Fo(i)).join(",")),`Target(${s})`}(ks(t))}; limitType=${t.limitType})`}function Of(t,e){return e.isFoundDocument()&&function(s,i){const r=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(r):fe.isDocumentKey(s.path)?s.path.isEqual(r):s.path.isImmediateParentOf(r)}(t,e)&&function(s,i){for(const r of vc(s))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(t,e)&&function(s,i){for(const r of s.filters)if(!r.matches(i))return!1;return!0}(t,e)&&function(s,i){return!(s.startAt&&!function(o,l,c){const d=_w(o,l,c);return o.inclusive?d<=0:d<0}(s.startAt,vc(s),i)||s.endAt&&!function(o,l,c){const d=_w(o,l,c);return o.inclusive?d>=0:d>0}(s.endAt,vc(s),i))}(t,e)}function kO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fA(t){return(e,n)=>{let s=!1;for(const i of vc(t)){const r=DO(i,e,n);if(r!==0)return r;s=s||i.field.isKeyField()}return 0}}function DO(t,e,n){const s=t.field.isKeyField()?fe.comparator(e.key,n.key):function(r,o,l){const c=o.data.field(r),d=l.data.field(r);return c!==null&&d!==null?Bo(c,d):xe(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[i,r]of s)if(this.equalsFn(i,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Dr(this.inner,(n,s)=>{for(const[i,r]of s)e(i,r)})}isEmpty(){return XE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=new ut(fe.comparator);function vi(){return MO}const mA=new ut(fe.comparator);function Yl(...t){let e=mA;for(const n of t)e=e.insert(n.key,n);return e}function pA(t){let e=mA;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Zr(){return bc()}function gA(){return bc()}function bc(){return new Ra(t=>t.toString(),(t,e)=>t.isEqual(e))}const OO=new ut(fe.comparator),VO=new Ot(fe.comparator);function Me(...t){let e=VO;for(const n of t)e=e.add(n);return e}const PO=new Ot(De);function LO(){return PO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function xA(t){return{integerValue:""+t}}function zO(t,e){return uO(e)?xA(e):Qx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(){this._=void 0}}function UO(t,e,n){return t instanceof Uh?function(i,r){const o={fields:{[ZE]:{stringValue:JE},[tA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&$x(r)&&(r=kf(r)),r&&(o.fields[eA]=r),{mapValue:o}}(n,e):t instanceof $o?vA(t,e):t instanceof Ho?bA(t,e):function(i,r){const o=yA(i,r),l=Ew(o)+Ew(i.Ae);return Hg(o)&&Hg(i.Ae)?xA(l):Qx(i.serializer,l)}(t,e)}function BO(t,e,n){return t instanceof $o?vA(t,e):t instanceof Ho?bA(t,e):n}function yA(t,e){return t instanceof Bh?function(s){return Hg(s)||function(r){return!!r&&"doubleValue"in r}(s)}(e)?e:{integerValue:0}:null}class Uh extends Vf{}class $o extends Vf{constructor(e){super(),this.elements=e}}function vA(t,e){const n=wA(e);for(const s of t.elements)n.some(i=>Ps(i,s))||n.push(s);return{arrayValue:{values:n}}}class Ho extends Vf{constructor(e){super(),this.elements=e}}function bA(t,e){let n=wA(e);for(const s of t.elements)n=n.filter(i=>!Ps(i,s));return{arrayValue:{values:n}}}class Bh extends Vf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Ew(t){return xt(t.integerValue||t.doubleValue)}function wA(t){return Hx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,n){this.field=e,this.transform=n}}function FO(t,e){return t.field.isEqual(e.field)&&function(s,i){return s instanceof $o&&i instanceof $o||s instanceof Ho&&i instanceof Ho?Uo(s.elements,i.elements,Ps):s instanceof Bh&&i instanceof Bh?Ps(s.Ae,i.Ae):s instanceof Uh&&i instanceof Uh}(t.transform,e.transform)}class $O{constructor(e,n){this.version=e,this.transformResults=n}}class as{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new as}static exists(e){return new as(void 0,e)}static updateTime(e){return new as(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $d(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pf{}function NA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qx(t.key,as.none()):new Au(t.key,t.data,as.none());{const n=t.data,s=Tn.empty();let i=new Ot(Jt.comparator);for(let r of e.fields)if(!i.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?s.delete(r):s.set(r,o),i=i.add(r)}return new Mr(t.key,s,new Pn(i.toArray()),as.none())}}function HO(t,e,n){t instanceof Au?function(i,r,o){const l=i.value.clone(),c=jw(i.fieldTransforms,r,o.transformResults);l.setAll(c),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Mr?function(i,r,o){if(!$d(i.precondition,r))return void r.convertToUnknownDocument(o.version);const l=jw(i.fieldTransforms,r,o.transformResults),c=r.data;c.setAll(SA(i)),c.setAll(l),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function wc(t,e,n,s){return t instanceof Au?function(r,o,l,c){if(!$d(r.precondition,o))return l;const d=r.value.clone(),h=Cw(r.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,s):t instanceof Mr?function(r,o,l,c){if(!$d(r.precondition,o))return l;const d=Cw(r.fieldTransforms,c,o),h=o.data;return h.setAll(SA(r)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(f=>f.field))}(t,e,n,s):function(r,o,l){return $d(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function GO(t,e){let n=null;for(const s of t.fieldTransforms){const i=e.data.field(s.field),r=yA(s.transform,i||null);r!=null&&(n===null&&(n=Tn.empty()),n.set(s.field,r))}return n||null}function Aw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&Uo(s,i,(r,o)=>FO(r,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Au extends Pf{constructor(e,n,s,i=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Mr extends Pf{constructor(e,n,s,i,r=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function SA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function jw(t,e,n){const s=new Map;Fe(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const r=t[i],o=r.transform,l=e.data.field(r.field);s.set(r.field,BO(o,l,n[i]))}return s}function Cw(t,e,n){const s=new Map;for(const i of t){const r=i.transform,o=n.data.field(i.field);s.set(i.field,UO(r,o,e))}return s}class qx extends Pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KO extends Pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,n,s,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const r=this.mutations[i];r.key.isEqual(e.key)&&HO(r,e,s[i])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=wc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=wc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=gA();return this.mutations.forEach(i=>{const r=e.get(i.key),o=r.overlayedDocument;let l=this.applyToLocalView(o,r.mutatedFields);l=n.has(i.key)?null:l;const c=NA(o,l);c!==null&&s.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(_e.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&Uo(this.mutations,e.mutations,(n,s)=>Aw(n,s))&&Uo(this.baseMutations,e.baseMutations,(n,s)=>Aw(n,s))}}class Yx{constructor(e,n,s,i){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let i=function(){return OO}();const r=e.mutations;for(let o=0;o<r.length;o++)i=i.insert(r[o].key,s[o].version);return new Yx(e,n,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,ze;function XO(t){switch(t){case G.OK:return xe(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function TA(t){if(t===void 0)return yi("GRPC error has no .code"),G.UNKNOWN;switch(t){case wt.OK:return G.OK;case wt.CANCELLED:return G.CANCELLED;case wt.UNKNOWN:return G.UNKNOWN;case wt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case wt.INTERNAL:return G.INTERNAL;case wt.UNAVAILABLE:return G.UNAVAILABLE;case wt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case wt.NOT_FOUND:return G.NOT_FOUND;case wt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case wt.ABORTED:return G.ABORTED;case wt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case wt.DATA_LOSS:return G.DATA_LOSS;default:return xe(39323,{code:t})}}(ze=wt||(wt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=new pr([4294967295,4294967295],0);function Rw(t){const e=WO().encode(t),n=new zE;return n.update(e),new Uint8Array(n.digest())}function Iw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new pr([n,s],0),new pr([i,r],0)]}class Xx{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Xl(`Invalid padding: ${n}`);if(s<0)throw new Xl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=pr.fromNumber(this.ge)}ye(e,n,s){let i=e.add(n.multiply(pr.fromNumber(s)));return i.compare(JO)===1&&(i=new pr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Rw(e),[s,i]=Iw(n);for(let r=0;r<this.hashCount;r++){const o=this.ye(s,i,r);if(!this.we(o))return!1}return!0}static create(e,n,s){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),o=new Xx(r,i,n);return s.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=Rw(e),[s,i]=Iw(n);for(let r=0;r<this.hashCount;r++){const o=this.ye(s,i,r);this.be(o)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n,s,i,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const i=new Map;return i.set(e,ju.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Lf(_e.min(),i,new ut(De),vi(),Me())}}class ju{constructor(e,n,s,i,r){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ju(s,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n,s,i){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=i}}class EA{constructor(e,n){this.targetId=e,this.Ce=n}}class AA{constructor(e,n,s=tn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=i}}class kw{constructor(){this.ve=0,this.Fe=Dw(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Me(),n=Me(),s=Me();return this.Fe.forEach((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:xe(38017,{changeType:r})}}),new ju(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=Dw()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class ZO{constructor(e){this.Ge=e,this.ze=new Map,this.je=vi(),this.He=pd(),this.Je=pd(),this.Ze=new ut(De)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,s=e.Ce.count,i=this.ot(n);if(i){const r=i.target;if(Kg(r))if(s===0){const o=new fe(r.path);this.et(n,o,ln.newNoDocument(o,_e.min()))}else Fe(s===1,20013,{expectedCount:s});else{const o=this._t(n);if(o!==s){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:r=0}=n;let o,l;try{o=Nr(s).toUint8Array()}catch(c){if(c instanceof WE)return wa("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Xx(o,i,r)}catch(c){return wa(c instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let i=0;return s.forEach(r=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;e.mightContain(l)||(this.et(n,r,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((r,o)=>{const l=this.ot(o);if(l){if(r.current&&Kg(l.target)){const c=new fe(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,ln.newNoDocument(c,e))}r.Be&&(n.set(o,r.ke()),r.Ke())}});let s=Me();this.Je.forEach((r,o)=>{let l=!0;o.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(r))}),this.je.forEach((r,o)=>o.setReadTime(e));const i=new Lf(e,n,this.Ze,this.je,s);return this.je=vi(),this.He=pd(),this.Je=pd(),this.Ze=new ut(De),i}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new kw,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ot(De),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ot(De),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new kw),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function pd(){return new ut(fe.comparator)}function Dw(){return new ut(fe.comparator)}const eV={asc:"ASCENDING",desc:"DESCENDING"},tV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nV={and:"AND",or:"OR"};class sV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yg(t,e){return t.useProto3Json||If(e)?e:{value:e}}function Fh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function iV(t,e){return Fh(t,e.toTimestamp())}function Ds(t){return Fe(!!t,49232),_e.fromTimestamp(function(n){const s=_r(n);return new nt(s.seconds,s.nanos)}(t))}function Wx(t,e){return Xg(t,e).canonicalString()}function Xg(t,e){const n=function(i){return new Xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function CA(t){const e=Xe.fromString(t);return Fe(MA(e),10190,{key:e.toString()}),e}function Wg(t,e){return Wx(t.databaseId,e.path)}function dp(t,e){const n=CA(e);if(n.get(1)!==t.databaseId.projectId)throw new se(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(IA(n))}function RA(t,e){return Wx(t.databaseId,e)}function rV(t){const e=CA(t);return e.length===4?Xe.emptyPath():IA(e)}function Jg(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IA(t){return Fe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Mw(t,e,n){return{name:Wg(t,e),fields:n.value.mapValue.fields}}function aV(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:xe(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],r=function(d,h){return d.useProto3Json?(Fe(h===void 0||typeof h=="string",58123),tn.fromBase64String(h||"")):(Fe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),tn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const h=d.code===void 0?G.UNKNOWN:TA(d.code);return new se(h,d.message||"")}(o);n=new AA(s,i,r,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=dp(t,s.document.name),r=Ds(s.document.updateTime),o=s.document.createTime?Ds(s.document.createTime):_e.min(),l=new Tn({mapValue:{fields:s.document.fields}}),c=ln.newFoundDocument(i,r,o,l),d=s.targetIds||[],h=s.removedTargetIds||[];n=new Hd(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=dp(t,s.document),r=s.readTime?Ds(s.readTime):_e.min(),o=ln.newNoDocument(i,r),l=s.removedTargetIds||[];n=new Hd([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=dp(t,s.document),r=s.removedTargetIds||[];n=new Hd([],r,i,null)}else{if(!("filter"in e))return xe(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:r}=s,o=new YO(i,r),l=s.targetId;n=new EA(l,o)}}return n}function oV(t,e){let n;if(e instanceof Au)n={update:Mw(t,e.key,e.value)};else if(e instanceof qx)n={delete:Wg(t,e.key)};else if(e instanceof Mr)n={update:Mw(t,e.key,e.data),updateMask:gV(e.fieldMask)};else{if(!(e instanceof KO))return xe(16599,{dt:e.type});n={verify:Wg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,o){const l=o.transform;if(l instanceof Uh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof $o)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ho)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Bh)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw xe(20930,{transform:o.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:iV(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:xe(27497)}(t,e.precondition)),n}function lV(t,e){return t&&t.length>0?(Fe(e!==void 0,14353),t.map(n=>function(i,r){let o=i.updateTime?Ds(i.updateTime):Ds(r);return o.isEqual(_e.min())&&(o=Ds(r)),new $O(o,i.transformResults||[])}(n,e))):[]}function cV(t,e){return{documents:[RA(t,e.path)]}}function uV(t,e){const n={structuredQuery:{}},s=e.path;let i;e.collectionGroup!==null?(i=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=RA(t,i);const r=function(d){if(d.length!==0)return DA(ws.create(d,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const o=function(d){if(d.length!==0)return d.map(h=>function(m){return{field:qa(m.field),direction:fV(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Yg(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:i}}function dV(t){let e=rV(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){Fe(s===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let r=[];n.where&&(r=function(f){const m=kA(f);return m instanceof ws&&oA(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(S){return new zh(Ya(S.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,If(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,y=f.values||[];return new Lh(y,m)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const m=!f.before,y=f.values||[];return new Lh(y,m)}(n.endAt)),CO(e,i,o,r,l,"F",c,d)}function hV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ya(n.unaryFilter.field);return Tt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=Ya(n.unaryFilter.field);return Tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ya(n.unaryFilter.field);return Tt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ya(n.unaryFilter.field);return Tt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}}(t):t.fieldFilter!==void 0?function(n){return Tt.create(Ya(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ws.create(n.compositeFilter.filters.map(s=>kA(s)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xe(1026)}}(n.compositeFilter.op))}(t):xe(30097,{filter:t})}function fV(t){return eV[t]}function mV(t){return tV[t]}function pV(t){return nV[t]}function qa(t){return{fieldPath:t.canonicalString()}}function Ya(t){return Jt.fromServerFormat(t.fieldPath)}function DA(t){return t instanceof Tt?function(n){if(n.op==="=="){if(ww(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NAN"}};if(bw(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ww(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NAN"}};if(bw(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(n.field),op:mV(n.op),value:n.value}}}(t):t instanceof ws?function(n){const s=n.getFilters().map(i=>DA(i));return s.length===1?s[0]:{compositeFilter:{op:pV(n.op),filters:s}}}(t):xe(54877,{filter:t})}function gV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function MA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function OA(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n,s,i,r=_e.min(),o=_e.min(),l=tn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e){this.yt=e}}function yV(t){const e=dV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(){this.Sn=new bV}addToCollectionParentIndex(e,n){return this.Sn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(wr.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(wr.min())}updateCollectionGroup(e,n,s){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class bV{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n]||new Ot(Xe.comparator),r=!i.has(s);return this.index[n]=i.add(s),r}has(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(e){return(this.index[e]||new Ot(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VA=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(VA,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Go(0)}static ar(){return new Go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="LruGarbageCollector",wV=1048576;function Pw([t,e],[n,s]){const i=De(t,n);return i===0?De(e,s):i}class _V{constructor(e){this.Pr=e,this.buffer=new Ot(Pw),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Pw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class NV{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){re(Vw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){hl(n)?re(Vw,"Ignoring IndexedDB error during garbage collection: ",n):await dl(n)}await this.Ar(3e5)})}}class SV{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(Rf.ce);const s=new _V(n);return this.Vr.forEachTarget(e,i=>s.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>s.Er(i))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Ow)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ow):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,i,r,o,l,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(s=f,l=Date.now(),this.removeTargets(e,s,n))).next(f=>(r=f,c=Date.now(),this.removeOrphanedDocuments(e,s))).next(f=>(d=Date.now(),Ka()<=ke.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${r} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:f})))}}function TV(t,e){return new SV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(){this.changes=new Ra(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Y.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,n,s,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(s=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(s!==null&&wc(s.mutation,i,Pn.empty(),nt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Me()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Me()){const i=Zr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,s).next(r=>{let o=Yl();return r.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=Zr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Me()))}populateOverlays(e,n,s){const i=[];return s.forEach(r=>{n.has(r)||i.push(r)}),this.documentOverlayCache.getOverlays(e,i).next(r=>{r.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,s,i){let r=vi();const o=bc(),l=function(){return bc()}();return n.forEach((c,d)=>{const h=s.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof Mr)?r=r.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),wc(h.mutation,d,h.mutation.getFieldMask(),nt.now())):o.set(d.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,r).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>l.set(d,new AV(h,o.get(d)??null))),l))}recalculateAndSaveOverlays(e,n){const s=bc();let i=new ut((o,l)=>o-l),r=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=s.get(c)||Pn.empty();h=l.applyToLocalView(d,h),s.set(c,h);const f=(i.get(l.batchId)||Me()).add(c);i=i.insert(l.batchId,f)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,f=gA();h.forEach(m=>{if(!r.has(m)){const y=NA(n.get(m),s.get(m));y!==null&&f.set(m,y),r=r.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return Y.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,i){return RO(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,i):this.getDocumentsMatchingCollectionQuery(e,n,s,i)}getNextDocuments(e,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,i).next(r=>{const o=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,i-r.size):Y.resolve(Zr());let l=Qc,c=r;return o.next(d=>Y.forEach(d,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),r.get(h)?Y.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,d,r)).next(()=>this.computeViews(e,c,d,Me())).next(h=>({batchId:l,changes:pA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(s=>{let i=Yl();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,s,i){const r=n.collectionGroup;let o=Yl();return this.indexManager.getCollectionParents(e,r).next(l=>Y.forEach(l,c=>{const d=function(f,m){return new Eu(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(r));return this.getDocumentsMatchingCollectionQuery(e,d,s,i).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,s,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,r,i))).next(o=>{r.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,ln.newInvalidDocument(h)))});let l=Yl();return o.forEach((c,d)=>{const h=r.get(c);h!==void 0&&wc(h.mutation,d,Pn.empty(),nt.now()),Of(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return Y.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ds(i.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(i){return{name:i.name,query:yV(i.bundledQuery),readTime:Ds(i.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(){this.overlays=new ut(fe.comparator),this.Lr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Zr();return Y.forEach(n,i=>this.getOverlay(e,i).next(r=>{r!==null&&s.set(i,r)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((i,r)=>{this.bt(e,n,r)}),Y.resolve()}removeOverlaysForBatchId(e,n,s){const i=this.Lr.get(s);return i!==void 0&&(i.forEach(r=>this.overlays=this.overlays.remove(r)),this.Lr.delete(s)),Y.resolve()}getOverlaysForCollection(e,n,s){const i=Zr(),r=n.length+1,o=new fe(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===r&&c.largestBatchId>s&&i.set(c.getKey(),c)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,n,s,i){let r=new ut((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>s){let h=r.get(d.largestBatchId);h===null&&(h=Zr(),r=r.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=Zr(),c=r.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=i)););return Y.resolve(l)}bt(e,n,s){const i=this.overlays.get(s.key);if(i!==null){const o=this.Lr.get(i.largestBatchId).delete(s.key);this.Lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new qO(n,s));let r=this.Lr.get(n);r===void 0&&(r=Me(),this.Lr.set(n,r)),this.Lr.set(n,r.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.kr=new Ot(zt.Kr),this.qr=new Ot(zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Wr(new zt(e,n))}Qr(e,n){e.forEach(s=>this.removeReference(s,n))}Gr(e){const n=new fe(new Xe([])),s=new zt(n,e),i=new zt(n,e+1),r=[];return this.qr.forEachInRange([s,i],o=>{this.Wr(o),r.push(o.key)}),r}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new fe(new Xe([])),s=new zt(n,e),i=new zt(n,e+1);let r=Me();return this.qr.forEachInRange([s,i],o=>{r=r.add(o.key)}),r}containsKey(e){const n=new zt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return fe.comparator(e.key,n.key)||De(e.Hr,n.Hr)}static Ur(e,n){return De(e.Hr,n.Hr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ot(zt.Kr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,i){const r=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new QO(r,n,s,i);this.mutationQueue.push(o);for(const l of i)this.Jr=this.Jr.add(new zt(l.key,r)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Y.resolve(o)}lookupMutationBatch(e,n){return Y.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,i=this.Xr(s),r=i<0?0:i;return Y.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Fx:this.Yn-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),i=new zt(n,Number.POSITIVE_INFINITY),r=[];return this.Jr.forEachInRange([s,i],o=>{const l=this.Zr(o.Hr);r.push(l)}),Y.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ot(De);return n.forEach(i=>{const r=new zt(i,0),o=new zt(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([r,o],l=>{s=s.add(l.Hr)})}),Y.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,i=s.length+1;let r=s;fe.isDocumentKey(r)||(r=r.child(""));const o=new zt(new fe(r),0);let l=new Ot(De);return this.Jr.forEachWhile(c=>{const d=c.key.path;return!!s.isPrefixOf(d)&&(d.length===i&&(l=l.add(c.Hr)),!0)},o),Y.resolve(this.Yr(l))}Yr(e){const n=[];return e.forEach(s=>{const i=this.Zr(s);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Fe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return Y.forEach(n.mutations,i=>{const r=new zt(i.key,n.batchId);return s=s.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=s})}nr(e){}containsKey(e,n){const s=new zt(n,0),i=this.Jr.firstAfterOrEqual(s);return Y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e){this.ti=e,this.docs=function(){return new ut(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,i=this.docs.get(s),r=i?i.size:0,o=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Y.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let s=vi();return n.forEach(i=>{const r=this.docs.get(i);s=s.insert(i,r?r.document.mutableCopy():ln.newInvalidDocument(i))}),Y.resolve(s)}getDocumentsMatchingQuery(e,n,s,i){let r=vi();const o=n.path,l=new fe(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||aO(rO(h),s)<=0||(i.has(h.key)||Of(n,h))&&(r=r.insert(h.key,h.mutableCopy()))}return Y.resolve(r)}getAllFromCollectionGroup(e,n,s,i){xe(9500)}ni(e,n){return Y.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new MV(this)}getSize(e){return Y.resolve(this.size)}}class MV extends EV{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(s)}),Y.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e){this.persistence=e,this.ri=new Ra(n=>Gx(n),Kx),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.ii=0,this.si=new Jx,this.targetCount=0,this.oi=Go._r()}forEachTarget(e,n){return this.ri.forEach((s,i)=>n(i)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),Y.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Go(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.lr(n),Y.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,s){let i=0;const r=[];return this.ri.forEach((o,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.ri.delete(o),r.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),Y.waitFor(r).next(()=>i)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return Y.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),Y.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const i=this.persistence.referenceDelegate,r=[];return i&&n.forEach(o=>{r.push(i.markPotentiallyOrphaned(e,o))}),Y.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return Y.resolve(s)}containsKey(e,n){return Y.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n){this._i={},this.overlays={},this.ai=new Rf(0),this.ui=!1,this.ui=!0,this.ci=new IV,this.referenceDelegate=e(this),this.li=new OV(this),this.indexManager=new vV,this.remoteDocumentCache=function(i){return new DV(i)}(s=>this.referenceDelegate.hi(s)),this.serializer=new xV(n),this.Pi=new CV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new kV(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){re("MemoryPersistence","Starting transaction:",e);const i=new VV(this.ai.next());return this.referenceDelegate.Ti(),s(i).next(r=>this.referenceDelegate.Ii(i).next(()=>r)).toPromise().then(r=>(i.raiseOnCommittedEvent(),r))}Ei(e,n){return Y.or(Object.values(this._i).map(s=>()=>s.containsKey(e,n)))}}class VV extends lO{constructor(e){super(),this.currentSequenceNumber=e}}class Zx{constructor(e){this.persistence=e,this.Ri=new Jx,this.Ai=null}static Vi(e){return new Zx(e)}get di(){if(this.Ai)return this.Ai;throw xe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),Y.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(r=>this.di.add(r.toString()))}).next(()=>s.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.di,s=>{const i=fe.fromPath(s);return this.mi(e,i).next(r=>{r||n.removeEntry(i,_e.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return Y.or([()=>Y.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class $h{constructor(e,n){this.persistence=e,this.fi=new Ra(s=>dO(s.path),(s,i)=>s.isEqual(i)),this.garbageCollector=TV(this,n)}static Vi(e,n){return new $h(e,n)}Ti(){}Ii(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(i=>s+i))}pr(e){let n=0;return this.mr(e,s=>{n++}).next(()=>n)}mr(e,n){return Y.forEach(this.fi,(s,i)=>this.wr(e,s,i).next(r=>r?Y.resolve():n(i)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const i=this.persistence.getRemoteDocumentCache(),r=i.newChangeBuffer();return i.ni(e,o=>this.wr(e,o,n).next(l=>{l||(s++,r.removeEntry(o,_e.min()))})).next(()=>r.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),Y.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Bd(e.data.value)),n}wr(e,n,s){return Y.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return Y.resolve(i!==void 0&&i>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n,s,i){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=i}static Es(e,n){let s=Me(),i=Me();for(const r of n.docChanges)switch(r.type){case 0:s=s.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new ey(e,n.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return dD()?8:cO(dn())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,i){const r={result:null};return this.gs(e,n).next(o=>{r.result=o}).next(()=>{if(!r.result)return this.ps(e,n,i,s).next(o=>{r.result=o})}).next(()=>{if(r.result)return;const o=new PV;return this.ys(e,n,o).next(l=>{if(r.result=l,this.As)return this.ws(e,n,o,l.size)})}).next(()=>r.result)}ws(e,n,s,i){return s.documentReadCount<this.Vs?(Ka()<=ke.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(Ka()<=ke.DEBUG&&re("QueryEngine","Query:",Qa(n),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.ds*i?(Ka()<=ke.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ks(n))):Y.resolve())}gs(e,n){if(Tw(n))return Y.resolve(null);let s=ks(n);return this.indexManager.getIndexType(e,s).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=qg(n,null,"F"),s=ks(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(r=>{const o=Me(...r);return this.fs.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,s).next(c=>{const d=this.bs(n,l);return this.Ss(n,d,o,c.readTime)?this.gs(e,qg(n,null,"F")):this.Ds(e,d,n,c)}))})))}ps(e,n,s,i){return Tw(n)||i.isEqual(_e.min())?Y.resolve(null):this.fs.getDocuments(e,s).next(r=>{const o=this.bs(n,r);return this.Ss(n,o,s,i)?Y.resolve(null):(Ka()<=ke.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qa(n)),this.Ds(e,o,n,iO(i,Qc)).next(l=>l))})}bs(e,n){let s=new Ot(fA(e));return n.forEach((i,r)=>{Of(e,r)&&(s=s.add(r))}),s}Ss(e,n,s,i){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}ys(e,n,s){return Ka()<=ke.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.fs.getDocumentsMatchingQuery(e,n,wr.min(),s)}Ds(e,n,s,i){return this.fs.getDocumentsMatchingQuery(e,s,i).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="LocalStore",zV=3e8;class UV{constructor(e,n,s,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new ut(De),this.Fs=new Ra(r=>Gx(r),Kx),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jV(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function BV(t,e,n,s){return new UV(t,e,n,s)}async function LA(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next(r=>(i=r,n.Os(e),n.mutationQueue.getAllMutationBatches(s))).next(r=>{const o=[],l=[];let c=Me();for(const d of i){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of r){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(s,c).next(d=>({Ns:d,removedBatchIds:o,addedBatchIds:l}))})})}function FV(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=e.batch.keys(),r=n.xs.newChangeBuffer({trackRemovals:!0});return function(l,c,d,h){const f=d.batch,m=f.keys();let y=Y.resolve();return m.forEach(S=>{y=y.next(()=>h.getEntry(c,S)).next(R=>{const j=d.docVersions.get(S);Fe(j!==null,48541),R.version.compareTo(j)<0&&(f.applyToRemoteDocument(R,d),R.isValidDocument()&&(R.setReadTime(d.commitVersion),h.addEntry(R)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,s,e,r).next(()=>r.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(l){let c=Me();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(s,i))})}function zA(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function $V(t,e){const n=Ne(t),s=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const l=[];e.targetChanges.forEach((h,f)=>{const m=i.get(f);if(!m)return;l.push(n.li.removeMatchingKeys(r,h.removedDocuments,f).next(()=>n.li.addMatchingKeys(r,h.addedDocuments,f)));let y=m.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(tn.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,s)),i=i.insert(f,y),function(R,j,N){return R.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=zV?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(m,y,h)&&l.push(n.li.updateTargetData(r,y))});let c=vi(),d=Me();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(r,h))}),l.push(HV(r,o,e.documentUpdates).next(h=>{c=h.Bs,d=h.Ls})),!s.isEqual(_e.min())){const h=n.li.getLastRemoteSnapshotVersion(r).next(f=>n.li.setTargetsMetadata(r,r.currentSequenceNumber,s));l.push(h)}return Y.waitFor(l).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,c,d)).next(()=>c)}).then(r=>(n.vs=i,r))}function HV(t,e,n){let s=Me(),i=Me();return n.forEach(r=>s=s.add(r)),e.getEntries(t,s).next(r=>{let o=vi();return n.forEach((l,c)=>{const d=r.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(_e.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):re(ty,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{Bs:o,Ls:i}})}function GV(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Fx),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function KV(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return n.li.getTargetData(s,e).next(r=>r?(i=r,Y.resolve(i)):n.li.allocateTargetId(s).next(o=>(i=new tr(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=n.vs.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s})}async function Zg(t,e,n){const s=Ne(t),i=s.vs.get(e),r=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",r,o=>s.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!hl(o))throw o;re(ty,`Failed to update sequence numbers for target ${e}: ${o}`)}s.vs=s.vs.remove(e),s.Fs.delete(i.target)}function Lw(t,e,n){const s=Ne(t);let i=_e.min(),r=Me();return s.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const f=Ne(c),m=f.Fs.get(h);return m!==void 0?Y.resolve(f.vs.get(m)):f.li.getTargetData(d,h)}(s,o,ks(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(o,l.targetId).next(c=>{r=c})}).next(()=>s.Cs.getDocumentsMatchingQuery(o,e,n?i:_e.min(),n?r:Me())).next(l=>(QV(s,kO(e),l),{documents:l,ks:r})))}function QV(t,e,n){let s=t.Ms.get(e)||_e.min();n.forEach((i,r)=>{r.readTime.compareTo(s)>0&&(s=r.readTime)}),t.Ms.set(e,s)}class zw{constructor(){this.activeTargetIds=LO()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qV{constructor(){this.vo=new zw,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new zw,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="ConnectivityMonitor";class Bw{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){re(Uw,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){re(Uw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd=null;function e0(){return gd===null?gd=function(){return 268435456+Math.round(2147483648*Math.random())}():gd++,"0x"+gd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="RestConnection",XV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class WV{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${i}`,this.$o=this.databaseId.database===Vh?`project_id=${s}`:`project_id=${s}&database_id=${i}`}Wo(e,n,s,i,r){const o=e0(),l=this.Qo(e,n.toUriEncodedString());re(hp,`Sending RPC '${e}' ${o}:`,l,s);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,r);const{host:d}=new URL(l),h=ol(d);return this.zo(e,l,c,s,h).then(f=>(re(hp,`Received RPC '${e}' ${o}: `,f),f),f=>{throw wa(hp,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",s),f})}jo(e,n,s,i,r,o){return this.Wo(e,n,s,i,r)}Go(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ul}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,r)=>e[r]=i),s&&s.headers.forEach((i,r)=>e[r]=i)}Qo(e,n){const s=XV[e];let i=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection",Ll=(t,e,n)=>{t.listen(e,s=>{try{n(s)}catch(i){setTimeout(()=>{throw i},0)}})};class So extends WV{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!So.c_){const e=$E();Ll(e,FE.STAT_EVENT,n=>{n.stat===Bg.PROXY?re(rn,"STAT_EVENT: detected buffering proxy"):n.stat===Bg.NOPROXY&&re(rn,"STAT_EVENT: detected no buffering proxy")}),So.c_=!0}}zo(e,n,s,i,r){const o=e0();return new Promise((l,c)=>{const d=new UE;d.setWithCredentials(!0),d.listenOnce(BE.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Ud.NO_ERROR:const f=d.getResponseJson();re(rn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),l(f);break;case Ud.TIMEOUT:re(rn,`RPC '${e}' ${o} timed out`),c(new se(G.DEADLINE_EXCEEDED,"Request time out"));break;case Ud.HTTP_ERROR:const m=d.getStatus();if(re(rn,`RPC '${e}' ${o} failed with status:`,m,"response text:",d.getResponseText()),m>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const S=y==null?void 0:y.error;if(S&&S.status&&S.message){const R=function(N){const x=N.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(x)>=0?x:G.UNKNOWN}(S.status);c(new se(R,S.message))}else c(new se(G.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new se(G.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{re(rn,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);re(rn,`RPC '${e}' ${o} sending request:`,i),d.send(n,"POST",h,s,15)})}T_(e,n,s){const i=e0(),r=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,s),l.encodeInitMessageHeaders=!0;const d=r.join("");re(rn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);this.I_(h);let f=!1,m=!1;const y=new JV({Ho:S=>{m?re(rn,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(f||(re(rn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),re(rn,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},Jo:()=>h.close()});return Ll(h,ql.EventType.OPEN,()=>{m||(re(rn,`RPC '${e}' stream ${i} transport opened.`),y.i_())}),Ll(h,ql.EventType.CLOSE,()=>{m||(m=!0,re(rn,`RPC '${e}' stream ${i} transport closed`),y.o_(),this.E_(h))}),Ll(h,ql.EventType.ERROR,S=>{m||(m=!0,wa(rn,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),y.o_(new se(G.UNAVAILABLE,"The operation could not be completed")))}),Ll(h,ql.EventType.MESSAGE,S=>{var R;if(!m){const j=S.data[0];Fe(!!j,16349);const N=j,x=(N==null?void 0:N.error)||((R=N[0])==null?void 0:R.error);if(x){re(rn,`RPC '${e}' stream ${i} received error:`,x);const v=x.status;let E=function(T){const p=wt[T];if(p!==void 0)return TA(p)}(v),M=x.message;v==="NOT_FOUND"&&M.includes("database")&&M.includes("does not exist")&&M.includes(this.databaseId.database)&&wa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),E===void 0&&(E=G.INTERNAL,M="Unknown error status: "+v+" with message "+x.message),m=!0,y.o_(new se(E,M)),h.close()}else re(rn,`RPC '${e}' stream ${i} received:`,j),y.__(j)}}),So.u_(),setTimeout(()=>{y.s_()},0),y}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return HE()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t){return new So(t)}function fp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t){return new sV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */So.c_=!1;class UA{constructor(e,n,s=1e3,i=1.5,r=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=i,this.V_=r,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-s);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="PersistentStream";class BA{constructor(e,n,s,i,r,o,l,c){this.Ci=e,this.b_=s,this.S_=i,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new UA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(yi(n.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.D_===n&&this.G_(s,i)},s=>{e(()=>{const i=new se(G.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(i)})})}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.Yo(()=>{s(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{s(()=>this.z_(i))}),this.stream.onMessage(i=>{s(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return re(Fw,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(re(Fw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eP extends BA{constructor(e,n,s,i,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=aV(this.serializer,e),s=function(r){if(!("targetChange"in r))return _e.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?_e.min():o.readTime?Ds(o.readTime):_e.min()}(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Jg(this.serializer),n.addTarget=function(r,o){let l;const c=o.target;if(l=Kg(c)?{documents:cV(r,c)}:{query:uV(r,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=jA(r,o.resumeToken);const d=Yg(r,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(_e.min())>0){l.readTime=Fh(r,o.snapshotVersion.toTimestamp());const d=Yg(r,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const s=hV(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Jg(this.serializer),n.removeTarget=e,this.K_(n)}}class tP extends BA{constructor(e,n,s,i,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=lV(e.writeResults,e.commitTime),s=Ds(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Jg(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>oV(this.serializer,s))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{}class sP extends nP{constructor(e,n,s,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new se(G.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Wo(e,Xg(n,s),i,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new se(G.UNKNOWN,r.toString())})}jo(e,n,s,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.jo(e,Xg(n,s),i,o,l,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new se(G.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function iP(t,e,n,s){return new sP(t,e,n,s)}class rP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yi(n),this.aa=!1):re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="RemoteStore";class aP{constructor(e,n,s,i,r){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=r,this.Aa.Mo(o=>{s.enqueueAndForget(async()=>{Ia(this)&&(re(_a,"Restarting streams for network reachability change."),await async function(c){const d=Ne(c);d.Ea.add(4),await Cu(d),d.Va.set("Unknown"),d.Ea.delete(4),await Uf(d)}(this))})}),this.Va=new rP(s,i)}}async function Uf(t){if(Ia(t))for(const e of t.Ra)await e(!0)}async function Cu(t){for(const e of t.Ra)await e(!1)}function FA(t,e){const n=Ne(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ry(n)?iy(n):fl(n).O_()&&sy(n,e))}function ny(t,e){const n=Ne(t),s=fl(n);n.Ia.delete(e),s.O_()&&$A(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ia(n)&&n.Va.set("Unknown"))}function sy(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fl(t).Z_(e)}function $A(t,e){t.da.$e(e),fl(t).X_(e)}function iy(t){t.da=new ZO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),fl(t).start(),t.Va.ua()}function ry(t){return Ia(t)&&!fl(t).x_()&&t.Ia.size>0}function Ia(t){return Ne(t).Ea.size===0}function HA(t){t.da=void 0}async function oP(t){t.Va.set("Online")}async function lP(t){t.Ia.forEach((e,n)=>{sy(t,e)})}async function cP(t,e){HA(t),ry(t)?(t.Va.ha(e),iy(t)):t.Va.set("Unknown")}async function uP(t,e,n){if(t.Va.set("Online"),e instanceof AA&&e.state===2&&e.cause)try{await async function(i,r){const o=r.cause;for(const l of r.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.da.removeTarget(l))}(t,e)}catch(s){re(_a,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Hh(t,s)}else if(e instanceof Hd?t.da.Xe(e):e instanceof EA?t.da.st(e):t.da.tt(e),!n.isEqual(_e.min()))try{const s=await zA(t.localStore);n.compareTo(s)>=0&&await function(r,o){const l=r.da.Tt(o);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=r.Ia.get(d);h&&r.Ia.set(d,h.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,d)=>{const h=r.Ia.get(c);if(!h)return;r.Ia.set(c,h.withResumeToken(tn.EMPTY_BYTE_STRING,h.snapshotVersion)),$A(r,c);const f=new tr(h.target,c,d,h.sequenceNumber);sy(r,f)}),r.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(s){re(_a,"Failed to raise snapshot:",s),await Hh(t,s)}}async function Hh(t,e,n){if(!hl(e))throw e;t.Ea.add(1),await Cu(t),t.Va.set("Offline"),n||(n=()=>zA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re(_a,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Uf(t)})}function GA(t,e){return e().catch(n=>Hh(t,n,e))}async function Bf(t){const e=Ne(t),n=Tr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Fx;for(;dP(e);)try{const i=await GV(e.localStore,s);if(i===null){e.Ta.length===0&&n.L_();break}s=i.batchId,hP(e,i)}catch(i){await Hh(e,i)}KA(e)&&QA(e)}function dP(t){return Ia(t)&&t.Ta.length<10}function hP(t,e){t.Ta.push(e);const n=Tr(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function KA(t){return Ia(t)&&!Tr(t).x_()&&t.Ta.length>0}function QA(t){Tr(t).start()}async function fP(t){Tr(t).ra()}async function mP(t){const e=Tr(t);for(const n of t.Ta)e.ea(n.mutations)}async function pP(t,e,n){const s=t.Ta.shift(),i=Yx.from(s,e,n);await GA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Bf(t)}async function gP(t,e){e&&Tr(t).Y_&&await async function(s,i){if(function(o){return XO(o)&&o!==G.ABORTED}(i.code)){const r=s.Ta.shift();Tr(s).B_(),await GA(s,()=>s.remoteSyncer.rejectFailedWrite(r.batchId,i)),await Bf(s)}}(t,e),KA(t)&&QA(t)}async function $w(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),re(_a,"RemoteStore received new credentials");const s=Ia(n);n.Ea.add(3),await Cu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Uf(n)}async function xP(t,e){const n=Ne(t);e?(n.Ea.delete(2),await Uf(n)):e||(n.Ea.add(2),await Cu(n),n.Va.set("Unknown"))}function fl(t){return t.ma||(t.ma=function(n,s,i){const r=Ne(n);return r.sa(),new eP(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{Zo:oP.bind(null,t),Yo:lP.bind(null,t),t_:cP.bind(null,t),J_:uP.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),ry(t)?iy(t):t.Va.set("Unknown")):(await t.ma.stop(),HA(t))})),t.ma}function Tr(t){return t.fa||(t.fa=function(n,s,i){const r=Ne(n);return r.sa(),new tP(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:fP.bind(null,t),t_:gP.bind(null,t),ta:mP.bind(null,t),na:pP.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await Bf(t)):(await t.fa.stop(),t.Ta.length>0&&(re(_a,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n,s,i,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=r,this.deferred=new oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,i,r){const o=Date.now()+s,l=new ay(e,n,o,i,r);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oy(t,e){if(yi("AsyncQueue",`${e}: ${t}`),hl(t))return new se(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{static emptySet(e){return new To(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||fe.comparator(n.key,s.key):(n,s)=>fe.comparator(n.key,s.key),this.keyedMap=Yl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof To)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(!i.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new To;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(){this.ga=new ut(fe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ko{constructor(e,n,s,i,r,o,l,c,d){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,s,i,r){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Ko(e,n,To.emptySet(n),o,s,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class vP{constructor(){this.queries=Gw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const i=Ne(n),r=i.queries;i.queries=Gw(),r.forEach((o,l)=>{for(const c of l.ba)c.onError(s)})})(this,new se(G.ABORTED,"Firestore shutting down"))}}function Gw(){return new Ra(t=>hA(t),Mf)}async function ly(t,e){const n=Ne(t);let s=3;const i=e.query;let r=n.queries.get(i);r?!r.Sa()&&e.Da()&&(s=2):(r=new yP,s=e.Da()?0:1);try{switch(s){case 0:r.wa=await n.onListen(i,!0);break;case 1:r.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=oy(o,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,r),r.ba.push(e),e.va(n.onlineState),r.wa&&e.Fa(r.wa)&&uy(n)}async function cy(t,e){const n=Ne(t),s=e.query;let i=3;const r=n.queries.get(s);if(r){const o=r.ba.indexOf(e);o>=0&&(r.ba.splice(o,1),r.ba.length===0?i=e.Da()?0:1:!r.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function bP(t,e){const n=Ne(t);let s=!1;for(const i of e){const r=i.query,o=n.queries.get(r);if(o){for(const l of o.ba)l.Fa(i)&&(s=!0);o.wa=i}}s&&uy(n)}function wP(t,e,n){const s=Ne(t),i=s.queries.get(e);if(i)for(const r of i.ba)r.onError(n);s.queries.delete(e)}function uy(t){t.Ca.forEach(e=>{e.next()})}var t0,Kw;(Kw=t0||(t0={})).Ma="default",Kw.Cache="cache";class dy{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new Ko(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==t0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e){this.key=e}}class YA{constructor(e){this.key=e}}class _P{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Me(),this.mutatedKeys=Me(),this.eu=fA(e),this.tu=new To(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new Hw,i=n?n.tu:this.tu;let r=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const m=i.get(h),y=Of(this.query,f)?f:null,S=!!m&&this.mutatedKeys.has(m.key),R=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let j=!1;m&&y?m.data.isEqual(y.data)?S!==R&&(s.track({type:3,doc:y}),j=!0):this.su(m,y)||(s.track({type:2,doc:y}),j=!0,(c&&this.eu(y,c)>0||d&&this.eu(y,d)<0)&&(l=!0)):!m&&y?(s.track({type:0,doc:y}),j=!0):m&&!y&&(s.track({type:1,doc:m}),j=!0,(c||d)&&(l=!0)),j&&(y?(o=o.add(y),r=R?r.add(h):r.delete(h)):(o=o.delete(h),r=r.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),r=r.delete(h.key),s.track({type:1,doc:h})}return{tu:o,iu:s,Ss:l,mutatedKeys:r}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,i){const r=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(y,S){const R=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Vt:j})}};return R(y)-R(S)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(s),i=i??!1;const l=n&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,d=c!==this.Xa;return this.Xa=c,o.length!==0||d?{snapshot:new Ko(this.query,e.tu,r,o,e.mutatedKeys,c===0,d,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Hw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Me(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return e.forEach(s=>{this.Ya.has(s)||n.push(new YA(s))}),this.Ya.forEach(s=>{e.has(s)||n.push(new qA(s))}),n}cu(e){this.Za=e.ks,this.Ya=Me();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ko.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const hy="SyncEngine";class NP{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class SP{constructor(e){this.key=e,this.hu=!1}}class TP{constructor(e,n,s,i,r,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ra(l=>hA(l),Mf),this.Iu=new Map,this.Eu=new Set,this.Ru=new ut(fe.comparator),this.Au=new Map,this.Vu=new Jx,this.du={},this.mu=new Map,this.fu=Go.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function EP(t,e,n=!0){const s=tj(t);let i;const r=s.Tu.get(e);return r?(s.sharedClientState.addLocalQueryTarget(r.targetId),i=r.view.lu()):i=await XA(s,e,n,!0),i}async function AP(t,e){const n=tj(t);await XA(n,e,!0,!1)}async function XA(t,e,n,s){const i=await KV(t.localStore,ks(e)),r=i.targetId,o=t.sharedClientState.addLocalQueryTarget(r,n);let l;return s&&(l=await jP(t,e,r,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&FA(t.remoteStore,i),l}async function jP(t,e,n,s,i){t.pu=(f,m,y)=>async function(R,j,N,x){let v=j.view.ru(N);v.Ss&&(v=await Lw(R.localStore,j.query,!1).then(({documents:T})=>j.view.ru(T,v)));const E=x&&x.targetChanges.get(j.targetId),M=x&&x.targetMismatches.get(j.targetId)!=null,L=j.view.applyChanges(v,R.isPrimaryClient,E,M);return qw(R,j.targetId,L.au),L.snapshot}(t,f,m,y);const r=await Lw(t.localStore,e,!0),o=new _P(e,r.ks),l=o.ru(r.documents),c=ju.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",i),d=o.applyChanges(l,t.isPrimaryClient,c);qw(t,n,d.au);const h=new NP(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function CP(t,e,n){const s=Ne(t),i=s.Tu.get(e),r=s.Iu.get(i.targetId);if(r.length>1)return s.Iu.set(i.targetId,r.filter(o=>!Mf(o,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await Zg(s.localStore,i.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(i.targetId),n&&ny(s.remoteStore,i.targetId),n0(s,i.targetId)}).catch(dl)):(n0(s,i.targetId),await Zg(s.localStore,i.targetId,!0))}async function RP(t,e){const n=Ne(t),s=n.Tu.get(e),i=n.Iu.get(s.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ny(n.remoteStore,s.targetId))}async function IP(t,e,n){const s=LP(t);try{const i=await function(o,l){const c=Ne(o),d=nt.now(),h=l.reduce((y,S)=>y.add(S.key),Me());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=vi(),R=Me();return c.xs.getEntries(y,h).next(j=>{S=j,S.forEach((N,x)=>{x.isValidDocument()||(R=R.add(N))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,S)).next(j=>{f=j;const N=[];for(const x of l){const v=GO(x,f.get(x.key).overlayedDocument);v!=null&&N.push(new Mr(x.key,v,iA(v.value.mapValue),as.exists(!0)))}return c.mutationQueue.addMutationBatch(y,d,N,l)}).next(j=>{m=j;const N=j.applyToLocalDocumentSet(f,R);return c.documentOverlayCache.saveOverlays(y,j.batchId,N)})}).then(()=>({batchId:m.batchId,changes:pA(f)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let d=o.du[o.currentUser.toKey()];d||(d=new ut(De)),d=d.insert(l,c),o.du[o.currentUser.toKey()]=d}(s,i.batchId,n),await Ru(s,i.changes),await Bf(s.remoteStore)}catch(i){const r=oy(i,"Failed to persist write");n.reject(r)}}async function WA(t,e){const n=Ne(t);try{const s=await $V(n.localStore,e);e.targetChanges.forEach((i,r)=>{const o=n.Au.get(r);o&&(Fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Fe(o.hu,14607):i.removedDocuments.size>0&&(Fe(o.hu,42227),o.hu=!1))}),await Ru(n,s,e)}catch(s){await dl(s)}}function Qw(t,e,n){const s=Ne(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const i=[];s.Tu.forEach((r,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=Ne(o);c.onlineState=l;let d=!1;c.queries.forEach((h,f)=>{for(const m of f.ba)m.va(l)&&(d=!0)}),d&&uy(c)}(s.eventManager,e),i.length&&s.Pu.J_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function kP(t,e,n){const s=Ne(t);s.sharedClientState.updateQueryState(e,"rejected",n);const i=s.Au.get(e),r=i&&i.key;if(r){let o=new ut(fe.comparator);o=o.insert(r,ln.newNoDocument(r,_e.min()));const l=Me().add(r),c=new Lf(_e.min(),new Map,new ut(De),o,l);await WA(s,c),s.Ru=s.Ru.remove(r),s.Au.delete(e),fy(s)}else await Zg(s.localStore,e,!1).then(()=>n0(s,e,n)).catch(dl)}async function DP(t,e){const n=Ne(t),s=e.batch.batchId;try{const i=await FV(n.localStore,e);ZA(n,s,null),JA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ru(n,i)}catch(i){await dl(i)}}async function MP(t,e,n){const s=Ne(t);try{const i=await function(o,l){const c=Ne(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,l).next(f=>(Fe(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(s.localStore,e);ZA(s,e,n),JA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ru(s,i)}catch(i){await dl(i)}}function JA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function ZA(t,e,n){const s=Ne(t);let i=s.du[s.currentUser.toKey()];if(i){const r=i.get(e);r&&(n?r.reject(n):r.resolve(),i=i.remove(e)),s.du[s.currentUser.toKey()]=i}}function n0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(s=>{t.Vu.containsKey(s)||ej(t,s)})}function ej(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(ny(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),fy(t))}function qw(t,e,n){for(const s of n)s instanceof qA?(t.Vu.addReference(s.key,e),OP(t,s)):s instanceof YA?(re(hy,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||ej(t,s.key)):xe(19791,{wu:s})}function OP(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(re(hy,"New document in limbo: "+n),t.Eu.add(s),fy(t))}function fy(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new fe(Xe.fromString(e)),s=t.fu.next();t.Au.set(s,new SP(n)),t.Ru=t.Ru.insert(n,s),FA(t.remoteStore,new tr(ks(Df(n.path)),s,"TargetPurposeLimboResolution",Rf.ce))}}async function Ru(t,e,n){const s=Ne(t),i=[],r=[],o=[];s.Tu.isEmpty()||(s.Tu.forEach((l,c)=>{o.push(s.pu(c,e,n).then(d=>{var h;if((d||n)&&s.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;s.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){i.push(d);const f=ey.Es(c.targetId,d);r.push(f)}}))}),await Promise.all(o),s.Pu.J_(i),await async function(c,d){const h=Ne(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Y.forEach(d,m=>Y.forEach(m.Ts,y=>h.persistence.referenceDelegate.addReference(f,m.targetId,y)).next(()=>Y.forEach(m.Is,y=>h.persistence.referenceDelegate.removeReference(f,m.targetId,y)))))}catch(f){if(!hl(f))throw f;re(ty,"Failed to update sequence numbers: "+f)}for(const f of d){const m=f.targetId;if(!f.fromCache){const y=h.vs.get(m),S=y.snapshotVersion,R=y.withLastLimboFreeSnapshotVersion(S);h.vs=h.vs.insert(m,R)}}}(s.localStore,r))}async function VP(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){re(hy,"User change. New user:",e.toKey());const s=await LA(n.localStore,e);n.currentUser=e,function(r,o){r.mu.forEach(l=>{l.forEach(c=>{c.reject(new se(G.CANCELLED,o))})}),r.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ru(n,s.Ns)}}function PP(t,e){const n=Ne(t),s=n.Au.get(e);if(s&&s.hu)return Me().add(s.key);{let i=Me();const r=n.Iu.get(e);if(!r)return i;for(const o of r){const l=n.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function tj(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kP.bind(null,e),e.Pu.J_=bP.bind(null,e.eventManager),e.Pu.yu=wP.bind(null,e.eventManager),e}function LP(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MP.bind(null,e),e}class Gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return BV(this.persistence,new LV,e.initialUser,this.serializer)}Cu(e){return new PA(Zx.Vi,this.serializer)}Du(e){return new qV}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gh.provider={build:()=>new Gh};class zP extends Gh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof $h,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new NV(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new PA(s=>$h.Vi(s,n),this.serializer)}}class s0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Qw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=VP.bind(null,this.syncEngine),await xP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new vP}()}createDatastore(e){const n=zf(e.databaseInfo.databaseId),s=ZV(e.databaseInfo);return iP(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,i,r,o,l){return new aP(s,i,r,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Qw(this.syncEngine,n,0),function(){return Bw.v()?new Bw:new YV}())}createSyncEngine(e,n){return function(i,r,o,l,c,d,h){const f=new TP(i,r,o,l,c,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const r=Ne(i);re(_a,"RemoteStore shutting down."),r.Ea.add(5),await Cu(r),r.Aa.shutdown(),r.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}s0.provider={build:()=>new s0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er="FirestoreClient";class UP{constructor(e,n,s,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=i,this.user=on.UNAUTHENTICATED,this.clientId=Bx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(s,async o=>{re(Er,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(re(Er,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=oy(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function mp(t,e){t.asyncQueue.verifyOperationInProgress(),re(Er,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async i=>{s.isEqual(i)||(await LA(e.localStore,i),s=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Yw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await BP(t);re(Er,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>$w(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>$w(e.remoteStore,i)),t._onlineComponents=e}async function BP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re(Er,"Using user provided OfflineComponentProvider");try{await mp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===G.FAILED_PRECONDITION||i.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;wa("Error using user provided cache. Falling back to memory cache: "+n),await mp(t,new Gh)}}else re(Er,"Using default OfflineComponentProvider"),await mp(t,new zP(void 0));return t._offlineComponents}async function nj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re(Er,"Using user provided OnlineComponentProvider"),await Yw(t,t._uninitializedComponentsProvider._online)):(re(Er,"Using default OnlineComponentProvider"),await Yw(t,new s0))),t._onlineComponents}function FP(t){return nj(t).then(e=>e.syncEngine)}async function Kh(t){const e=await nj(t),n=e.eventManager;return n.onListen=EP.bind(null,e.syncEngine),n.onUnlisten=CP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=RP.bind(null,e.syncEngine),n}function $P(t,e,n,s){const i=new my(s),r=new dy(e,i,n);return t.asyncQueue.enqueueAndForget(async()=>ly(await Kh(t),r)),()=>{i.Nu(),t.asyncQueue.enqueueAndForget(async()=>cy(await Kh(t),r))}}function HP(t,e,n={}){const s=new oi;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,l,c,d){const h=new my({next:m=>{h.Nu(),o.enqueueAndForget(()=>cy(r,f));const y=m.docs.has(l);!y&&m.fromCache?d.reject(new se(G.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&c&&c.source==="server"?d.reject(new se(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new dy(Df(l.path),h,{includeMetadataChanges:!0,Ka:!0});return ly(r,f)}(await Kh(t),t.asyncQueue,e,n,s)),s.promise}function GP(t,e,n={}){const s=new oi;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,l,c,d){const h=new my({next:m=>{h.Nu(),o.enqueueAndForget(()=>cy(r,f)),m.fromCache&&c.source==="server"?d.reject(new se(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new dy(l,h,{includeMetadataChanges:!0,Ka:!0});return ly(r,f)}(await Kh(t),t.asyncQueue,e,n,s)),s.promise}function KP(t,e){const n=new oi;return t.asyncQueue.enqueueAndForget(async()=>IP(await FP(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP="ComponentProvider",Xw=new Map;function qP(t,e,n,s,i){return new mO(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,sj(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij="firestore.googleapis.com",Ww=!0;class Jw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ij,this.ssl=Ww}else this.host=e.host,this.ssl=e.ssl??Ww;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wV)throw new se(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sj(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new se(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,i){return s.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ff{constructor(e,n,s,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Q6;switch(s.type){case"firstParty":return new W6(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new se(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Xw.get(n);s&&(re(QP,"Removing Datastore"),Xw.delete(n),s.terminate())}(this),Promise.resolve()}}function YP(t,e,n,s={}){var d;t=An(t,Ff);const i=ol(e),r=t._getSettings(),o={...r,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(JT(`https://${l}`),ZT("Firestore",!0)),r.host!==ij&&r.host!==l&&wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...r,host:l,ssl:i,emulatorOptions:s};if(!pi(c,o)&&(t._setSettings(c),s.mockUserToken)){let h,f;if(typeof s.mockUserToken=="string")h=s.mockUserToken,f=on.MOCK_USER;else{h=nD(s.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const m=s.mockUserToken.sub||s.mockUserToken.user_id;if(!m)throw new se(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new on(m)}t._authCredentials=new q6(new KE(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ka(this.firestore,e,this._query)}}class pt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Tu(n,pt._jsonSchema))return new pt(e,s||null,new fe(Xe.fromString(n.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:At("string",pt._jsonSchemaVersion),referencePath:At("string")};class gr extends ka{constructor(e,n,s){super(e,n,Df(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new fe(e))}withConverter(e){return new gr(this.firestore,e,this._path)}}function kt(t,e,...n){if(t=Ct(t),QE("collection","path",e),t instanceof Ff){const s=Xe.fromString(e,...n);return dw(s),new gr(t,null,s)}{if(!(t instanceof pt||t instanceof gr))throw new se(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Xe.fromString(e,...n));return dw(s),new gr(t.firestore,null,s)}}function Ce(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=Bx.newId()),QE("doc","path",e),t instanceof Ff){const s=Xe.fromString(e,...n);return uw(s),new pt(t,null,new fe(s))}{if(!(t instanceof pt||t instanceof gr))throw new se(G.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Xe.fromString(e,...n));return uw(s),new pt(t.firestore,t instanceof gr?t.converter:null,new fe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="AsyncQueue";class e_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new UA(this,"async_queue_retry"),this._c=()=>{const s=fp();s&&re(Zw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=fp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=fp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new oi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!hl(e))throw e;re(Zw,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,yi("INTERNAL UNHANDLED ERROR: ",t_(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=ay.createAndSchedule(this,e,n,s,r=>this.hc(r));return this.tc.push(i),i}uc(){this.nc&&xe(47125,{Pc:t_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function t_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class bi extends Ff{constructor(e,n,s,i){super(e,n,s,i),this.type="firestore",this._queue=new e_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new e_(e),this._firestoreClient=void 0,await e}}}function XP(t,e){const n=typeof t=="object"?t:sE(),s=typeof t=="string"?t:Vh,i=Cx(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const r=eD("firestore");r&&YP(i,...r)}return i}function $f(t){if(t._terminated)throw new se(G.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||WP(t),t._firestoreClient}function WP(t){var s,i,r,o;const e=t._freezeSettings(),n=qP(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new UP(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ss(tn.fromBase64String(e))}catch(n){throw new se(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ss(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ss._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tu(e,ss._jsonSchema))return ss.fromBase64String(e.bytes)}}ss._jsonSchemaVersion="firestore/bytes/1.0",ss._jsonSchema={type:At("string",ss._jsonSchemaVersion),bytes:At("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ms._jsonSchemaVersion}}static fromJSON(e){if(Tu(e,Ms._jsonSchema))return new Ms(e.latitude,e.longitude)}}Ms._jsonSchemaVersion="firestore/geoPoint/1.0",Ms._jsonSchema={type:At("string",Ms._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,i){if(s.length!==i.length)return!1;for(let r=0;r<s.length;++r)if(s[r]!==i[r])return!1;return!0}(this._values,e._values)}toJSON(){return{type:bs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tu(e,bs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new bs(e.vectorValues);throw new se(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bs._jsonSchemaVersion="firestore/vectorValue/1.0",bs._jsonSchema={type:At("string",bs._jsonSchemaVersion),vectorValues:At("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=/^__.*__$/;class ZP{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Mr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Au(e,this.data,n,this.fieldTransforms)}}class rj{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Mr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function aj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{dataSource:t})}}class Hf{constructor(e,n,s,i,r,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=i,r===void 0&&this.validatePath(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Hf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Qh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(aj(this.dataSource)&&JP.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class eL{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||zf(e)}createContext(e,n,s,i=!1){return new Hf({dataSource:e,methodName:n,targetDoc:s,path:Jt.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gf(t){const e=t._freezeSettings(),n=zf(t._databaseId);return new eL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oj(t,e,n,s,i,r={}){const o=t.createContext(r.merge||r.mergeFields?2:0,e,n,i);yy("Data must be an object, but it was:",o,s);const l=cj(s,o);let c,d;if(r.merge)c=new Pn(o.fieldMask),d=o.fieldTransforms;else if(r.mergeFields){const h=[];for(const f of r.mergeFields){const m=Qo(e,f,n);if(!o.contains(m))throw new se(G.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);hj(h,m)||h.push(m)}c=new Pn(h),d=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=o.fieldTransforms;return new ZP(new Tn(l),c,d)}class Kf extends Iu{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kf}}function lj(t,e,n){return new Hf({dataSource:3,targetDoc:e.settings.targetDoc,methodName:t._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class gy extends Iu{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=lj(this,e,!0),s=this.Ac.map(r=>Da(r,n)),i=new $o(s);return new _A(e.path,i)}isEqual(e){return e instanceof gy&&pi(this.Ac,e.Ac)}}class xy extends Iu{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=lj(this,e,!0),s=this.Ac.map(r=>Da(r,n)),i=new Ho(s);return new _A(e.path,i)}isEqual(e){return e instanceof xy&&pi(this.Ac,e.Ac)}}function tL(t,e,n,s){const i=t.createContext(1,e,n);yy("Data must be an object, but it was:",i,s);const r=[],o=Tn.empty();Dr(s,(c,d)=>{const h=dj(e,c,n);d=Ct(d);const f=i.childContextForFieldPath(h);if(d instanceof Kf)r.push(h);else{const m=Da(d,f);m!=null&&(r.push(h),o.set(h,m))}});const l=new Pn(r);return new rj(o,l,i.fieldTransforms)}function nL(t,e,n,s,i,r){const o=t.createContext(1,e,n),l=[Qo(e,s,n)],c=[i];if(r.length%2!=0)throw new se(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<r.length;m+=2)l.push(Qo(e,r[m])),c.push(r[m+1]);const d=[],h=Tn.empty();for(let m=l.length-1;m>=0;--m)if(!hj(d,l[m])){const y=l[m];let S=c[m];S=Ct(S);const R=o.childContextForFieldPath(y);if(S instanceof Kf)d.push(y);else{const j=Da(S,R);j!=null&&(d.push(y),h.set(y,j))}}const f=new Pn(d);return new rj(h,f,o.fieldTransforms)}function sL(t,e,n,s=!1){return Da(n,t.createContext(s?4:3,e))}function Da(t,e){if(uj(t=Ct(t)))return yy("Unsupported field value:",e,t),cj(t,e);if(t instanceof Iu)return function(s,i){if(!aj(i.dataSource))throw i.createError(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${s._methodName}() is not currently supported inside arrays`);const r=s._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(s,i){const r=[];let o=0;for(const l of s){let c=Da(l,i.childContextForArray(o));c==null&&(c={nullValue:"NULL_VALUE"}),r.push(c),o++}return{arrayValue:{values:r}}}(t,e)}return function(s,i){if((s=Ct(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return zO(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const r=nt.fromDate(s);return{timestampValue:Fh(i.serializer,r)}}if(s instanceof nt){const r=new nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Fh(i.serializer,r)}}if(s instanceof Ms)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ss)return{bytesValue:jA(i.serializer,s._byteString)};if(s instanceof pt){const r=i.databaseId,o=s.firestore._databaseId;if(!o.isEqual(r))throw i.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Wx(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof bs)return function(o,l){const c=o instanceof bs?o.toArray():o;return{mapValue:{fields:{[nA]:{stringValue:sA},[Ph]:{arrayValue:{values:c.map(h=>{if(typeof h!="number")throw l.createError("VectorValues must only contain numeric values.");return Qx(l.serializer,h)})}}}}}}(s,i);if(OA(s))return s._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Cf(s)}`)}(t,e)}function cj(t,e){const n={};return XE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Dr(t,(s,i)=>{const r=Da(i,e.childContextForField(s));r!=null&&(n[s]=r)}),{mapValue:{fields:n}}}function uj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof Ms||t instanceof ss||t instanceof pt||t instanceof Iu||t instanceof bs||OA(t))}function yy(t,e,n){if(!uj(n)||!qE(n)){const s=Cf(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function Qo(t,e,n){if((e=Ct(e))instanceof py)return e._internalPath;if(typeof e=="string")return dj(t,e);throw Qh("Field path arguments must be of type string or ",t,!1,void 0,n)}const iL=new RegExp("[~\\*/\\[\\]]");function dj(t,e,n){if(e.search(iL)>=0)throw Qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new py(...e.split("."))._internalPath}catch{throw Qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qh(t,e,n,s,i){const r=s&&!s.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(r||o)&&(c+=" (found",r&&(c+=` in field ${s}`),o&&(c+=` in document ${i}`),c+=")"),new se(G.INVALID_ARGUMENT,l+t+c)}function hj(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{convertValue(e,n="none"){switch(Sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Dr(e,(i,r)=>{s[i]=this.convertValue(r,n)}),s}convertVectorValue(e){var s,i,r;const n=(r=(i=(s=e.fields)==null?void 0:s[Ph].arrayValue)==null?void 0:i.values)==null?void 0:r.map(o=>xt(o.doubleValue));return new bs(n)}convertGeoPoint(e){return new Ms(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=kf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(qc(e));default:return null}}convertTimestamp(e){const n=_r(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Xe.fromString(e);Fe(MA(s),9688,{name:e});const i=new Yc(s.get(1),s.get(3)),r=new fe(s.popFirst(5));return i.isEqual(n)||yi(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy extends rL{constructor(e){super(),this.firestore=e}convertBytes(e){return new ss(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}function aL(...t){return new gy("arrayUnion",t)}function pp(...t){return new xy("arrayRemove",t)}const n_="@firebase/firestore",s_="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t){return function(n,s){if(typeof n!="object"||n===null)return!1;const i=n;for(const r of s)if(r in i&&typeof i[r]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e,n,s,i,r){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Qo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oL extends fj{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class by{}class lL extends by{}function ms(t,e,...n){let s=[];e instanceof by&&s.push(e),s=s.concat(n),function(r){const o=r.filter(c=>c instanceof wy).length,l=r.filter(c=>c instanceof Qf).length;if(o>1||o>0&&l>0)throw new se(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const i of s)t=i._apply(t);return t}class Qf extends lL{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Qf(e,n,s)}_apply(e){const n=this._parse(e);return pj(e._query,n),new ka(e.firestore,e.converter,Qg(e._query,n))}_parse(e){const n=Gf(e.firestore);return function(r,o,l,c,d,h,f){let m;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new se(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){a_(f,h);const S=[];for(const R of f)S.push(r_(c,r,R));m={arrayValue:{values:S}}}else m=r_(c,r,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||a_(f,h),m=sL(l,o,f,h==="in"||h==="not-in");return Tt.create(d,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ps(t,e,n){const s=e,i=Qo("where",t);return Qf._create(i,s,n)}class wy extends by{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wy(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:ws.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,r){let o=i;const l=r.getFlattenedFilters();for(const c of l)pj(o,c),o=Qg(o,c)}(e._query,n),new ka(e.firestore,e.converter,Qg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function r_(t,e,n){if(typeof(n=Ct(n))=="string"){if(n==="")throw new se(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dA(e)&&n.indexOf("/")!==-1)throw new se(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Xe.fromString(n));if(!fe.isDocumentKey(s))throw new se(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return vw(t,new fe(s))}if(n instanceof pt)return vw(t,n._key);throw new se(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cf(n)}.`)}function a_(t,e){if(!Array.isArray(t)||t.length===0)throw new se(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pj(t,e){const n=function(i,r){for(const o of i)for(const l of o.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function gj(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Wl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class la extends fj{constructor(e,n,s,i,r,o){super(e,n,s,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Qo("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=la._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:At("string",la._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class Gd extends la{data(e={}){return super.data(e)}}class ca{constructor(e,n,s,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Wl(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Gd(this._firestore,this._userDataWriter,s.key,s,new Wl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new Gd(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Wl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||l.type!==3).map(l=>{const c=new Gd(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Wl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:cL(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ca._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],i=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),s.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),i.push(r.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ca._jsonSchemaVersion="firestore/querySnapshot/1.0",ca._jsonSchema={type:At("string",ca._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(t){t=An(t,pt);const e=An(t.firestore,bi),n=$f(e);return HP(n,t._key).then(s=>xj(e,t,s))}function zl(t){t=An(t,ka);const e=An(t.firestore,bi),n=$f(e),s=new vy(e);return mj(t._query),GP(n,t._query).then(i=>new ca(e,s,t,i))}function Bi(t,e,n){t=An(t,pt);const s=An(t.firestore,bi),i=gj(t.converter,e,n),r=Gf(s);return qf(s,[oj(r,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,as.none())])}function Gt(t,e,n,...s){t=An(t,pt);const i=An(t.firestore,bi),r=Gf(i);let o;return o=typeof(e=Ct(e))=="string"||e instanceof py?nL(r,"updateDoc",t._key,e,n,s):tL(r,"updateDoc",t._key,e),qf(i,[o.toMutation(t._key,as.exists(!0))])}function Pi(t){return qf(An(t.firestore,bi),[new qx(t._key,as.none())])}function Ba(t,e){const n=An(t.firestore,bi),s=Ce(t),i=gj(t.converter,e),r=Gf(t.firestore);return qf(n,[oj(r,"addDoc",s._key,i,t.converter!==null,{}).toMutation(s._key,as.exists(!1))]).then(()=>s)}function Fa(t,...e){var d,h,f;t=Ct(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||i_(e[s])||(n=e[s++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(i_(e[s])){const m=e[s];e[s]=(d=m.next)==null?void 0:d.bind(m),e[s+1]=(h=m.error)==null?void 0:h.bind(m),e[s+2]=(f=m.complete)==null?void 0:f.bind(m)}let r,o,l;if(t instanceof pt)o=An(t.firestore,bi),l=Df(t._key.path),r={next:m=>{e[s]&&e[s](xj(o,t,m))},error:e[s+1],complete:e[s+2]};else{const m=An(t,ka);o=An(m.firestore,bi),l=m._query;const y=new vy(o);r={next:S=>{e[s]&&e[s](new ca(o,y,m,S))},error:e[s+1],complete:e[s+2]},mj(t._query)}const c=$f(o);return $P(c,l,i,r)}function qf(t,e){const n=$f(t);return KP(n,e)}function xj(t,e,n){const s=n.docs.get(e._key),i=new vy(t);return new la(t,i,e._key,s,new Wl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){K6(ll),Lo(new xa("firestore",(s,{instanceIdentifier:i,options:r})=>{const o=s.getProvider("app").getImmediate(),l=new bi(new Y6(s.getProvider("auth-internal")),new J6(o,s.getProvider("app-check-internal")),pO(o,i),o);return r={useFetchStreams:n,...r},l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),mr(n_,s_,e),mr(n_,s_,"esm2020")})();const uL={apiKey:"AIzaSyDhlPxmMc9R471kObm-4ZWceT6O1xvCmVs",authDomain:"englishmaster-pro.web.app",projectId:"englishmaster-pro",storageBucket:"englishmaster-pro.firebasestorage.app",messagingSenderId:"165102982425",appId:"1:165102982425:web:f0185ec54947ccbccf6188"},yj=nE(uL),Qs=H6(yj),he=XP(yj),vj=I.createContext(null);function ot(){const t=I.useContext(vj);if(!t)throw new Error("useAuth must be inside AuthProvider");return t}function dL({children:t}){const[e,n]=I.useState(null),[s,i]=I.useState(null),[r,o]=I.useState(!0);I.useEffect(()=>{const N=localStorage.getItem("em_active_session");if(N)try{const v=JSON.parse(N);v.user&&v.profile&&(n(v.user),i(v.profile),o(!1))}catch{console.warn("Failed to parse saved session")}return kM(Qs,async v=>{if(v){console.log("Auth state changed: User logged in",v.uid),n(v);try{const E=await ea(Ce(he,"users",v.uid));if(E.exists()){const M=E.data();i(M),localStorage.setItem(`profile_${v.uid}`,JSON.stringify(M)),localStorage.setItem("em_active_session",JSON.stringify({user:v,profile:M}))}else{console.warn("No Firestore profile found for user:",v.uid);const M=localStorage.getItem(`profile_${v.uid}`);M&&i(JSON.parse(M))}}catch(E){console.error("Could not fetch profile in onAuthStateChanged:",E.message);const M=localStorage.getItem(`profile_${v.uid}`);M&&i(JSON.parse(M))}}else n(null),i(null),localStorage.removeItem("em_active_session");o(!1)})},[]);const l=async(N,x)=>{try{console.log("Attempting login for:",N);const v=await W1(Qs,N,x);console.log("Firebase Auth success:",v.user.uid);const E=async()=>{const M=Ce(he,"users",v.user.uid),L=await ea(M);if(L.exists()){let T=L.data();N.toLowerCase()==="vidacristiana21@gmail.com"&&T.role!=="teacher"&&(console.warn("Correcting role for admin account..."),T.role="teacher",await Bi(M,{role:"teacher"},{merge:!0}).catch(p=>console.warn("Failed to update admin role:",p))),i(T),localStorage.setItem(`profile_${v.user.uid}`,JSON.stringify(T)),localStorage.setItem("em_active_session",JSON.stringify({user:v.user,profile:T}))}else console.warn("No profile found for user:",v.user.uid)};return await Promise.race([E(),new Promise(M=>setTimeout(M,3e3))]).catch(M=>console.error("Profile fetch error/timeout:",M)),v.user}catch(v){console.error("Firebase Login Error:",v.code,v.message);let E=v.message;throw v.code==="auth/user-not-found"||v.code==="auth/wrong-password"||v.code==="auth/invalid-credential"?E="Invalid email or password. Please try again.":v.code==="auth/too-many-requests"&&(E="Too many failed attempts. Please try again later."),new Error(E)}},c=async(N,x,v,E)=>{try{console.log("Starting registration for:",N);const M=await X1(Qs,N,x);console.log("User created:",M.user.uid),await lp(M.user,{displayName:v}).catch(T=>console.warn("Update profile failed:",T));const L={uid:M.user.uid,email:N,displayName:v,role:E,createdAt:new Date().toISOString(),avatar:null,preferences:{darkMode:!0,notifications:!0,language:"en"}};return Bi(Ce(he,"users",M.user.uid),L).then(()=>console.log("Profile saved to Firestore")).catch(T=>console.error("Firestore profile save failed:",T.message)),localStorage.setItem(`profile_${M.user.uid}`,JSON.stringify(L)),localStorage.setItem("em_active_session",JSON.stringify({user:M.user,profile:L})),n(M.user),i(L),M.user}catch(M){console.error("Firebase Registration Error:",M.code,M.message);let L=M.message;throw M.code==="auth/email-already-in-use"?L="This email is already registered. Please Sign In instead.":M.code==="auth/weak-password"?L="Password should be at least 6 characters.":M.code==="auth/invalid-email"&&(L="Please enter a valid email address."),new Error(L)}},d=async(N,x)=>{const v=Math.random().toString(36).substring(2,8).toUpperCase();if(!e)throw new Error("Please log in as a teacher.");try{const E=Ce(he,"pre_registered",N.toLowerCase()),M={email:N.toLowerCase(),name:x,code:v,createdAt:new Date().toISOString(),createdBy:e.uid},L=new Promise((T,p)=>setTimeout(()=>p(new Error("Request timed out. Please check your internet connection.")),1e4));return await Promise.race([Bi(E,M),L]),v}catch(E){throw console.error("Error pre-registering student:",E),new Error("Failed to generate student code: "+E.message)}},h=async(N,x)=>{const v=N.trim().toLowerCase(),E=x.trim().toUpperCase();try{console.log("Student login attempt:",v);const M=await W1(Qs,v,E);return console.log("Student auth success (returning student)"),M.user}catch(M){if(console.log("Auth failed, checking if first-time student:",M.code),M.code==="auth/user-not-found"||M.code==="auth/invalid-credential"){const L=query(collection(he,"users"),where("email","==",v));if(!(await getDocs(L)).empty)throw console.log("Student already has a profile, invalid code."),new Error("Invalid Access Code. Please check and try again.");try{const p=await ea(Ce(he,"pre_registered",v));if(p.exists()){const w=p.data();if(w.code===E){console.log("First-time student found! Creating account...");const A=await X1(Qs,v,E);await lp(A.user,{displayName:w.name});const k={uid:A.user.uid,email:v,displayName:w.name,role:"student",createdAt:new Date().toISOString(),avatar:null,preferences:{darkMode:!0,notifications:!0,language:"en"}};return await Bi(Ce(he,"users",A.user.uid),k),n(A.user),i(k),A.user}else throw new Error("Invalid Access Code. Please check the code your teacher gave you.")}else throw new Error("Student not found. Please verify the email or ask your teacher to register you.")}catch(p){throw console.error("Database check failed:",p),p}}throw M.code==="auth/wrong-password"?new Error("Invalid Access Code. Please check and try again."):new Error(M.message)}},f=async N=>{const x=new Ws,v=await ZM(Qs,x),E=await ea(Ce(he,"users",v.user.uid)).catch(()=>null);if(E!=null&&E.exists())i(E.data());else{const M={uid:v.user.uid,email:v.user.email,displayName:v.user.displayName,role:N,createdAt:new Date().toISOString(),avatar:v.user.photoURL,preferences:{darkMode:!0,notifications:!0,language:"en"}};try{await Bi(Ce(he,"users",v.user.uid),M)}catch(L){console.warn("Could not save profile:",L.message)}localStorage.setItem(`profile_${v.user.uid}`,JSON.stringify(M)),localStorage.setItem("em_active_session",JSON.stringify({user:v.user,profile:M})),i(M)}return v.user},m=async()=>{try{await DM(Qs)}catch{}n(null),i(null),localStorage.removeItem("em_active_session")},y=N=>{const x={uid:N==="teacher"?"demo-teacher":"demo-student-1",email:`demo-${N}@englishmaster.pro`,displayName:N==="teacher"?"Prof. Anderson":"Alex Student"},v={...x,role:N,createdAt:new Date().toISOString(),avatar:null,preferences:{darkMode:!0,notifications:!0,language:"en"}};n(x),i(v),localStorage.setItem(`profile_${x.uid}`,JSON.stringify(v)),localStorage.setItem("em_active_session",JSON.stringify({user:x,profile:v})),o(!1)},S=async N=>{if(!e)throw new Error("No active user");const x={...s,...N};i(x);try{await Bi(Ce(he,"users",e.uid),x,{merge:!0})}catch(v){console.warn("Could not save to Firestore:",v.message)}if(localStorage.setItem(`profile_${e.uid}`,JSON.stringify(x)),localStorage.setItem("em_active_session",JSON.stringify({user:e,profile:x})),N.displayName&&Qs.currentUser)try{await lp(Qs.currentUser,{displayName:N.displayName})}catch{}},R=window.location.hostname!=="localhost"&&!window.location.hostname.includes("127.0.0.1"),j={user:e,userProfile:s,loading:r,login:l,register:c,loginWithGoogle:f,logout:m,demoLogin:y,updateUserData:S,isProduction:R,isTeacher:(s==null?void 0:s.role)==="teacher",isStudent:(s==null?void 0:s.role)==="student",preRegisterStudent:d,loginWithStudentCode:h};return a.jsx(vj.Provider,{value:j,children:t})}const bj=I.createContext(null);function hn(){const t=I.useContext(bj);if(!t)throw new Error("useClasses must be inside ClassProvider");return t}function hL(){const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let n=0;n<6;n++)e+=t[Math.floor(Math.random()*t.length)];return e}function fL({children:t}){const{user:e,userProfile:n,isTeacher:s,isStudent:i}=ot(),[r,o]=I.useState([]),[l,c]=I.useState([]),[d,h]=I.useState([]),[f,m]=I.useState([]),[y,S]=I.useState([]),[R,j]=I.useState(!0);I.useEffect(()=>{if(!e){o([]),c([]),h([]),m([]),j(!1);return}let Q;s?Q=ms(kt(he,"classes"),ps("teacherId","==",e.uid)):Q=ms(kt(he,"classes"),ps("students","array-contains",e.uid));const X=Fa(Q,ae=>{const de=ae.docs.map(le=>({id:le.id,...le.data()}));o(de),j(!1)}),oe=Fa(ms(kt(he,"users"),ps("role","==","student")),ae=>{const de=ae.docs.map(le=>({id:le.id,...le.data(),status:"active"}));Fa(kt(he,"pre_registered"),le=>{const ie=le.docs.map(ve=>({id:ve.id,...ve.data(),displayName:ve.data().name,status:"pending",joinedAt:ve.data().createdAt}));S([...de,...ie])})});return()=>{X(),oe()}},[e,s]),I.useEffect(()=>{if(r.length===0){c([]),m([]);return}const Q=r.map(ae=>ae.id),X=[];for(let ae=0;ae<Q.length;ae+=10)X.push(Q.slice(ae,ae+10));const oe=[];return X.forEach(ae=>{const de=ms(kt(he,"assignments"),ps("classId","in",ae));oe.push(Fa(de,ie=>{c(ve=>[...ve.filter(Ee=>!ae.includes(Ee.classId)),...ie.docs.map(Ee=>({id:Ee.id,...Ee.data()}))])}));const le=ms(kt(he,"announcements"),ps("classId","in",ae));oe.push(Fa(le,ie=>{m(ve=>[...ve.filter(Ee=>!ae.includes(Ee.classId)),...ie.docs.map(Ee=>({id:Ee.id,...Ee.data()}))])}))}),()=>oe.forEach(ae=>ae())},[r]),I.useEffect(()=>{if(!e)return;let Q;return s?Q=kt(he,"submissions"):Q=ms(kt(he,"submissions"),ps("studentId","==",e.uid)),Fa(Q,oe=>{h(oe.docs.map(ae=>({id:ae.id,...ae.data()})))})},[e,s]);const N=async Q=>{const X={...Q,teacherId:e.uid,teacherName:(n==null?void 0:n.displayName)||"Teacher",code:hL(),createdAt:new Date().toISOString(),students:[],archived:!1};return{id:(await Ba(kt(he,"classes"),X)).id,...X}},x=async(Q,X)=>{await Gt(Ce(he,"classes",Q),X)},v=async Q=>{await Pi(Ce(he,"classes",Q));const X=ms(kt(he,"assignments"),ps("classId","==",Q)),oe=await zl(X);for(const le of oe.docs)await P(le.id);const ae=ms(kt(he,"announcements"),ps("classId","==",Q)),de=await zl(ae);for(const le of de.docs)await Pi(Ce(he,"announcements",le.id))},E=async Q=>{await Gt(Ce(he,"classes",Q),{archived:!0,archivedAt:new Date().toISOString()})},M=async Q=>{await Gt(Ce(he,"classes",Q),{archived:!1,archivedAt:null})},L=async(Q,X)=>{if(!X)throw new Error("You must be logged in to join a class");if(!Q)throw new Error("Please enter a class code");const oe=ms(kt(he,"classes"),ps("code","==",Q.trim().toUpperCase())),ae=await zl(oe);if(ae.empty)throw new Error("Class not found. Please check the code.");const de=ae.docs[0],le={id:de.id,...de.data()},ie=Array.isArray(le.students)?le.students:[];return ie.includes(X)?le:(await Gt(Ce(he,"classes",de.id),{students:[...ie,X]}),{...le,students:[...ie,X]})},T=async(Q,X)=>{await Gt(Ce(he,"classes",Q),{students:pp(X)})},p=async Q=>{const X=ms(kt(he,"classes"),ps("students","array-contains",Q)),ae=(await zl(X)).docs.map(de=>Gt(Ce(he,"classes",de.id),{students:pp(Q)}));await Promise.all(ae)},w=async(Q,X)=>{const oe=Ce(he,"classes",Q),ae=await ea(oe);if(!ae.exists())throw new Error("Class not found");const de=ae.data().students||[],le=[...new Set([...de,...X])];await Gt(oe,{students:le})},A=async(Q,X)=>{await Gt(Ce(he,"classes",Q),{students:pp(X)})},k=async Q=>{if(Q)try{Q.status==="pending"?await Pi(Ce(he,"pre_registered",Q.email.toLowerCase())):(await Pi(Ce(he,"users",Q.id)),await p(Q.id))}catch(X){throw console.error("Error deleting student:",X),X}},C=async(Q,X,oe)=>{try{oe?await Gt(Ce(he,"pre_registered",Q),X):await Gt(Ce(he,"users",Q),X)}catch(ae){throw console.error("Error updating student:",ae),ae}},b=async Q=>{const X={...Q,createdAt:new Date().toISOString(),status:"active"};return{id:(await Ba(kt(he,"assignments"),X)).id,...X}},O=async(Q,X)=>{await Gt(Ce(he,"assignments",Q),{...X,updatedAt:new Date().toISOString()})},P=async Q=>{await Pi(Ce(he,"assignments",Q));const X=ms(kt(he,"submissions"),ps("assignmentId","==",Q)),ae=(await zl(X)).docs.map(de=>Pi(Ce(he,"submissions",de.id)));await Promise.all(ae)},V=async Q=>{const X=l.find(Pe=>Pe.id===Q);if(!X)throw new Error("Assignment not found");const{id:oe,createdAt:ae,updatedAt:de,...le}=X,ie={...le,title:`${le.title} (Copy)`,createdAt:new Date().toISOString(),status:"active"};return{id:(await Ba(kt(he,"assignments"),ie)).id,...ie}},z=async(Q,X)=>{await Gt(Ce(he,"assignments",Q),{dueDate:new Date(X).toISOString(),updatedAt:new Date().toISOString()})},U=Q=>{var le;const X=l.find(ie=>ie.id===Q);if(!X)return{total:0,submitted:0,rate:0};const oe=r.find(ie=>ie.id===X.classId),ae=((le=oe==null?void 0:oe.students)==null?void 0:le.length)||0,de=d.filter(ie=>ie.assignmentId===Q).length;return{total:ae,submitted:de,rate:ae>0?Math.round(de/ae*100):0}},ee=async Q=>{const X={...Q,submittedAt:new Date().toISOString()};return{id:(await Ba(kt(he,"submissions"),X)).id,...X}},$=async(Q,X)=>{await Gt(Ce(he,"submissions",Q),{...X,gradedAt:X.grade!==void 0?new Date().toISOString():null})},W=async Q=>{const X=Q.map(({id:oe,grade:ae,feedback:de})=>Gt(Ce(he,"submissions",oe),{grade:ae,feedback:de||"",status:"graded",gradedAt:new Date().toISOString()}));await Promise.all(X)},we=async Q=>{const X={...Q,createdAt:new Date().toISOString(),pinned:!1,readBy:[]};return{id:(await Ba(kt(he,"announcements"),X)).id,...X}},ue=async Q=>{await Pi(Ce(he,"announcements",Q))},ye=async(Q,X)=>{await Gt(Ce(he,"announcements",Q),{pinned:X})},J=async(Q,X)=>{await Gt(Ce(he,"announcements",Q),{readBy:aL(X)})},Te=async(Q,X)=>{const oe={...X,classId:Q,createdAt:new Date().toISOString(),uploadedBy:e.uid};return{id:(await Ba(kt(he,"materials"),oe)).id,...oe}},Z=async Q=>{await Pi(Ce(he,"materials",Q))},ce=Q=>{const X=r.find(oe=>oe.id===Q);return X?y.filter(oe=>{var ae;return(ae=X.students)==null?void 0:ae.includes(oe.id)}):[]},q=Q=>l.filter(X=>X.classId===Q),me=Q=>f.filter(X=>X.classId===Q),Je=Q=>d.filter(X=>X.studentId===Q),Ye=Q=>d.filter(X=>X.assignmentId===Q),$t=Q=>r.filter(X=>{var oe;return(oe=X.students)==null?void 0:oe.includes(Q)}),nn=Q=>{var ve;const X=l.filter(Pe=>Pe.classId===Q),oe=r.find(Pe=>Pe.id===Q),ae=((ve=oe==null?void 0:oe.students)==null?void 0:ve.length)||0,de=X.length*ae,le=d.filter(Pe=>X.some(Ee=>Ee.id===Pe.assignmentId)).length,ie=d.filter(Pe=>X.some(Ee=>Ee.id===Pe.assignmentId)&&Pe.grade!=null).length;return{totalExpected:de,totalSubmitted:le,totalGraded:ie,studentCount:ae,assignmentCount:X.length}},sm={classes:r,assignments:l,submissions:d,announcements:f,allStudents:y,loading:R,addClass:N,updateClass:x,deleteClass:v,archiveClass:E,unarchiveClass:M,joinClass:L,leaveClass:A,removeStudentFromClass:T,removeStudentFromAllClasses:p,bulkAddStudentsToClass:w,deleteStudent:k,updateStudent:C,addAssignment:b,updateAssignment:O,deleteAssignment:P,duplicateAssignment:V,reassignDueDate:z,getAssignmentCompletionRate:U,submitAssignment:ee,updateSubmission:$,bulkGradeSubmissions:W,addAnnouncement:we,deleteAnnouncement:ue,pinAnnouncement:ye,markAnnouncementRead:J,addClassMaterial:Te,deleteClassMaterial:Z,getClassStudents:ce,getClassAssignments:q,getClassAnnouncements:me,getStudentSubmissions:Je,getAssignmentSubmissions:Ye,getStudentClasses:$t,getClassSubmissionStats:nn,getStudentProgress:Q=>{const X=d.filter(Ee=>Ee.studentId===Q),ae=r.filter(Ee=>{var Le;return(Le=Ee.students)==null?void 0:Le.includes(Q)}).map(Ee=>Ee.id),de=l.filter(Ee=>ae.includes(Ee.classId)),le=X.length,ie=de.length,ve=X.filter(Ee=>Ee.grade!=null),Pe=ve.length>0?Math.round(ve.reduce((Ee,Le)=>{const bt=l.find(hs=>hs.id===Le.assignmentId),Fs=(bt==null?void 0:bt.totalPoints)||100;return Ee+Le.grade/Fs*100},0)/ve.length):0;return{completed:le,total:ie,completionRate:ie>0?Math.round(le/ie*100):0,avgGrade:Pe}},getOverdueAssignments:Q=>{const X=new Date,ae=r.filter(ie=>{var ve;return(ve=ie.students)==null?void 0:ve.includes(Q)}).map(ie=>ie.id),le=d.filter(ie=>ie.studentId===Q).map(ie=>ie.assignmentId);return l.filter(ie=>ae.includes(ie.classId)&&!le.includes(ie.id)&&new Date(ie.dueDate)<X)},getPendingAssignments:Q=>{const X=new Date,ae=r.filter(ie=>{var ve;return(ve=ie.students)==null?void 0:ve.includes(Q)}).map(ie=>ie.id),le=d.filter(ie=>ie.studentId===Q).map(ie=>ie.assignmentId);return l.filter(ie=>ae.includes(ie.classId)&&!le.includes(ie.id)&&new Date(ie.dueDate)>=X)},exportClassGrades:Q=>{const X=r.find(le=>le.id===Q);if(!X)return"";const oe=l.filter(le=>le.classId===Q),ae=y.filter(le=>{var ie;return(ie=X.students)==null?void 0:ie.includes(le.id)});let de="Student,"+oe.map(le=>le.title).join(",")+`,Average
`;return ae.forEach(le=>{const ie=oe.map(Ee=>{const Le=d.find(bt=>bt.assignmentId===Ee.id&&bt.studentId===le.id);return(Le==null?void 0:Le.grade)!=null?Le.grade:"N/A"}),ve=ie.filter(Ee=>Ee!=="N/A"),Pe=ve.length>0?Math.round(ve.reduce((Ee,Le)=>Ee+Le,0)/ve.length):"N/A";de+=`${le.displayName},${ie.join(",")},${Pe}
`}),de},getLeaderboard:Q=>{const X=r.find(de=>de.id===Q);if(!X)return[];const oe=l.filter(de=>de.classId===Q);return y.filter(de=>{var le;return(le=X.students)==null?void 0:le.includes(de.id)}).map(de=>{const le=d.filter(Le=>oe.some(bt=>bt.id===Le.assignmentId)&&Le.studentId===de.id),ie=le.filter(Le=>Le.grade!=null),ve=ie.reduce((Le,bt)=>Le+(bt.grade||0),0),Pe=ie.reduce((Le,bt)=>{const Fs=oe.find(hs=>hs.id===bt.assignmentId);return Le+((Fs==null?void 0:Fs.totalPoints)||100)},0),Ee=Pe>0?Math.round(ve/Pe*100):0;return{id:de.id,name:de.displayName,avg:Ee,totalPoints:ve,submitted:le.length,total:oe.length}}).sort((de,le)=>le.avg-de.avg)},getClassAnalytics:Q=>{const X=nn(Q),oe=l.filter(ve=>ve.classId===Q),de=d.filter(ve=>oe.some(Pe=>Pe.id===ve.assignmentId)).filter(ve=>ve.grade!=null),le={A:0,B:0,C:0,D:0,F:0};de.forEach(ve=>{const Pe=oe.find(bt=>bt.id===ve.assignmentId),Ee=(Pe==null?void 0:Pe.totalPoints)||100,Le=ve.grade/Ee*100;Le>=90?le.A++:Le>=80?le.B++:Le>=70?le.C++:Le>=60?le.D++:le.F++});const ie=de.length>0?Math.round(de.reduce((ve,Pe)=>{const Ee=oe.find(bt=>bt.id===Pe.assignmentId),Le=(Ee==null?void 0:Ee.totalPoints)||100;return ve+Pe.grade/Le*100},0)/de.length):0;return{...X,gradeDistribution:le,avgGrade:ie,totalGradedSubmissions:de.length}},getStudentStreak:Q=>{const X=d.filter(ie=>ie.studentId===Q&&ie.submittedAt).sort((ie,ve)=>new Date(ve.submittedAt)-new Date(ie.submittedAt));if(X.length===0)return 0;let oe=1,ae=new Date(X[0].submittedAt);ae.setHours(0,0,0,0);const de=new Date;if(de.setHours(0,0,0,0),Math.floor((de-ae)/(1e3*60*60*24))>1)return 0;for(let ie=1;ie<X.length;ie++){const ve=new Date(X[ie].submittedAt);ve.setHours(0,0,0,0);const Pe=Math.floor((ae-ve)/(1e3*60*60*24));if(Pe===1)oe++,ae=ve;else if(Pe>1)break}return oe}};return a.jsx(bj.Provider,{value:sm,children:t})}const _y=I.createContext({});function Ny(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const Yf=I.createContext(null),Sy=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class mL extends I.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function pL({children:t,isPresent:e}){const n=I.useId(),s=I.useRef(null),i=I.useRef({width:0,height:0,top:0,left:0}),{nonce:r}=I.useContext(Sy);return I.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:d}=i.current;if(e||!s.current||!o||!l)return;s.current.dataset.motionPopId=n;const h=document.createElement("style");return r&&(h.nonce=r),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),a.jsx(mL,{isPresent:e,childRef:s,sizeRef:i,children:I.cloneElement(t,{ref:s})})}const gL=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:r,mode:o})=>{const l=Ny(xL),c=I.useId(),d=I.useCallback(f=>{l.set(f,!0);for(const m of l.values())if(!m)return;s&&s()},[l,s]),h=I.useMemo(()=>({id:c,initial:e,isPresent:n,custom:i,onExitComplete:d,register:f=>(l.set(f,!1),()=>l.delete(f))}),r?[Math.random(),d]:[n,d]);return I.useMemo(()=>{l.forEach((f,m)=>l.set(m,!1))},[n]),I.useEffect(()=>{!n&&!l.size&&s&&s()},[n]),o==="popLayout"&&(t=a.jsx(pL,{isPresent:n,children:t})),a.jsx(Yf.Provider,{value:h,children:t})};function xL(){return new Map}function wj(t=!0){const e=I.useContext(Yf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=e,r=I.useId();I.useEffect(()=>{t&&i(r)},[t]);const o=I.useCallback(()=>t&&s&&s(r),[r,s,t]);return!n&&s?[!1,o]:[!0]}const xd=t=>t.key||"";function o_(t){const e=[];return I.Children.forEach(t,n=>{I.isValidElement(n)&&e.push(n)}),e}const Ty=typeof window<"u",_j=Ty?I.useLayoutEffect:I.useEffect,Gn=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:r="sync",propagate:o=!1})=>{const[l,c]=wj(o),d=I.useMemo(()=>o_(t),[t]),h=o&&!l?[]:d.map(xd),f=I.useRef(!0),m=I.useRef(d),y=Ny(()=>new Map),[S,R]=I.useState(d),[j,N]=I.useState(d);_j(()=>{f.current=!1,m.current=d;for(let E=0;E<j.length;E++){const M=xd(j[E]);h.includes(M)?y.delete(M):y.get(M)!==!0&&y.set(M,!1)}},[j,h.length,h.join("-")]);const x=[];if(d!==S){let E=[...d];for(let M=0;M<j.length;M++){const L=j[M],T=xd(L);h.includes(T)||(E.splice(M,0,L),x.push(L))}r==="wait"&&x.length&&(E=x),N(o_(E)),R(d);return}const{forceRender:v}=I.useContext(_y);return a.jsx(a.Fragment,{children:j.map(E=>{const M=xd(E),L=o&&!l?!1:d===j||h.includes(M),T=()=>{if(y.has(M))y.set(M,!0);else return;let p=!0;y.forEach(w=>{w||(p=!1)}),p&&(v==null||v(),N(m.current),o&&(c==null||c()),s&&s())};return a.jsx(gL,{isPresent:L,initial:!f.current||n?void 0:!1,custom:L?void 0:e,presenceAffectsLayout:i,mode:r,onExitComplete:L?void 0:T,children:E},M)})})},Fn=t=>t;let Nj=Fn;function Ey(t){let e;return()=>(e===void 0&&(e=t()),e)}const qo=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},li=t=>t*1e3,ci=t=>t/1e3,yL={useManualTiming:!1};function vL(t){let e=new Set,n=new Set,s=!1,i=!1;const r=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){r.has(d)&&(c.schedule(d),t()),d(o)}const c={schedule:(d,h=!1,f=!1)=>{const y=f&&s?e:n;return h&&r.add(d),y.has(d)||y.add(d),d},cancel:d=>{n.delete(d),r.delete(d)},process:d=>{if(o=d,s){i=!0;return}s=!0,[e,n]=[n,e],e.forEach(l),e.clear(),s=!1,i&&(i=!1,c.process(d))}};return c}const yd=["read","resolveKeyframes","update","preRender","render","postRender"],bL=40;function Sj(t,e){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,o=yd.reduce((N,x)=>(N[x]=vL(r),N),{}),{read:l,resolveKeyframes:c,update:d,preRender:h,render:f,postRender:m}=o,y=()=>{const N=performance.now();n=!1,i.delta=s?1e3/60:Math.max(Math.min(N-i.timestamp,bL),1),i.timestamp=N,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),h.process(i),f.process(i),m.process(i),i.isProcessing=!1,n&&e&&(s=!1,t(y))},S=()=>{n=!0,s=!0,i.isProcessing||t(y)};return{schedule:yd.reduce((N,x)=>{const v=o[x];return N[x]=(E,M=!1,L=!1)=>(n||S(),v.schedule(E,M,L)),N},{}),cancel:N=>{for(let x=0;x<yd.length;x++)o[yd[x]].cancel(N)},state:i,steps:o}}const{schedule:it,cancel:Ar,state:Kt,steps:gp}=Sj(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fn,!0),Tj=I.createContext({strict:!1}),l_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yo={};for(const t in l_)Yo[t]={isEnabled:e=>l_[t].some(n=>!!e[n])};function wL(t){for(const e in t)Yo[e]={...Yo[e],...t[e]}}const _L=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||_L.has(t)}let Ej=t=>!qh(t);function NL(t){t&&(Ej=e=>e.startsWith("on")?!qh(e):t(e))}try{NL(require("@emotion/is-prop-valid").default)}catch{}function SL(t,e,n){const s={};for(const i in t)i==="values"&&typeof t.values=="object"||(Ej(i)||n===!0&&qh(i)||!e&&!qh(i)||t.draggable&&i.startsWith("onDrag"))&&(s[i]=t[i]);return s}function TL(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Xf=I.createContext({});function Wc(t){return typeof t=="string"||Array.isArray(t)}function Wf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Ay=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jy=["initial",...Ay];function Jf(t){return Wf(t.animate)||jy.some(e=>Wc(t[e]))}function Aj(t){return!!(Jf(t)||t.variants)}function EL(t,e){if(Jf(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Wc(n)?n:void 0,animate:Wc(s)?s:void 0}}return t.inherit!==!1?e:{}}function AL(t){const{initial:e,animate:n}=EL(t,I.useContext(Xf));return I.useMemo(()=>({initial:e,animate:n}),[c_(e),c_(n)])}function c_(t){return Array.isArray(t)?t.join(" "):t}const jL=Symbol.for("motionComponentSymbol");function lo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function CL(t,e,n){return I.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):lo(n)&&(n.current=s))},[e])}const Cy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),RL="framerAppearId",jj="data-"+Cy(RL),{schedule:Ry}=Sj(queueMicrotask,!1),Cj=I.createContext({});function IL(t,e,n,s,i){var r,o;const{visualElement:l}=I.useContext(Xf),c=I.useContext(Tj),d=I.useContext(Yf),h=I.useContext(Sy).reducedMotion,f=I.useRef(null);s=s||c.renderer,!f.current&&s&&(f.current=s(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const m=f.current,y=I.useContext(Cj);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&kL(f.current,n,i,y);const S=I.useRef(!1);I.useInsertionEffect(()=>{m&&S.current&&m.update(n,d)});const R=n[jj],j=I.useRef(!!R&&!(!((r=window.MotionHandoffIsComplete)===null||r===void 0)&&r.call(window,R))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,R)));return _j(()=>{m&&(S.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),Ry.render(m.render),j.current&&m.animationState&&m.animationState.animateChanges())}),I.useEffect(()=>{m&&(!j.current&&m.animationState&&m.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)===null||N===void 0||N.call(window,R)}),j.current=!1))}),m}function kL(t,e,n,s){const{layoutId:i,layout:r,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Rj(t.parent)),t.projection.setOptions({layoutId:i,layout:r,alwaysMeasureLayout:!!o||l&&lo(l),visualElement:t,animationType:typeof r=="string"?r:"both",initialPromotionConfig:s,layoutScroll:c,layoutRoot:d})}function Rj(t){if(t)return t.options.allowProjection!==!1?t.projection:Rj(t.parent)}function DL({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:i}){var r,o;t&&wL(t);function l(d,h){let f;const m={...I.useContext(Sy),...d,layoutId:ML(d)},{isStatic:y}=m,S=AL(d),R=s(d,y);if(!y&&Ty){OL();const j=VL(m);f=j.MeasureLayout,S.visualElement=IL(i,R,m,e,j.ProjectionNode)}return a.jsxs(Xf.Provider,{value:S,children:[f&&S.visualElement?a.jsx(f,{visualElement:S.visualElement,...m}):null,n(i,d,CL(R,S.visualElement,h),R,y,S.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(o=(r=i.displayName)!==null&&r!==void 0?r:i.name)!==null&&o!==void 0?o:""})`}`;const c=I.forwardRef(l);return c[jL]=i,c}function ML({layoutId:t}){const e=I.useContext(_y).id;return e&&t!==void 0?e+"-"+t:t}function OL(t,e){I.useContext(Tj).strict}function VL(t){const{drag:e,layout:n}=Yo;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const PL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Iy(t){return typeof t!="string"||t.includes("-")?!1:!!(PL.indexOf(t)>-1||/[A-Z]/u.test(t))}function u_(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function ky(t,e,n,s){if(typeof e=="function"){const[i,r]=u_(s);e=e(n!==void 0?n:t.custom,i,r)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,r]=u_(s);e=e(n!==void 0?n:t.custom,i,r)}return e}const i0=t=>Array.isArray(t),LL=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),zL=t=>i0(t)?t[t.length-1]||0:t,un=t=>!!(t&&t.getVelocity);function Kd(t){const e=un(t)?t.get():t;return LL(e)?e.toValue():e}function UL({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},s,i,r){const o={latestValues:BL(s,i,r,t),renderState:e()};return n&&(o.onMount=l=>n({props:s,current:l,...o}),o.onUpdate=l=>n(l)),o}const Ij=t=>(e,n)=>{const s=I.useContext(Xf),i=I.useContext(Yf),r=()=>UL(t,e,s,i);return n?r():Ny(r)};function BL(t,e,n,s){const i={},r=s(t,{});for(const m in r)i[m]=Kd(r[m]);let{initial:o,animate:l}=t;const c=Jf(t),d=Aj(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?l:o;if(f&&typeof f!="boolean"&&!Wf(f)){const m=Array.isArray(f)?f:[f];for(let y=0;y<m.length;y++){const S=ky(t,m[y]);if(S){const{transitionEnd:R,transition:j,...N}=S;for(const x in N){let v=N[x];if(Array.isArray(v)){const E=h?v.length-1:0;v=v[E]}v!==null&&(i[x]=v)}for(const x in R)i[x]=R[x]}}}return i}const ml=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ma=new Set(ml),kj=t=>e=>typeof e=="string"&&e.startsWith(t),Dj=kj("--"),FL=kj("var(--"),Dy=t=>FL(t)?$L.test(t.split("/*")[0].trim()):!1,$L=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Mj=(t,e)=>e&&typeof t=="number"?e.transform(t):t,wi=(t,e,n)=>n>e?e:n<t?t:n,pl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Jc={...pl,transform:t=>wi(0,1,t)},vd={...pl,default:1},ku=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Li=ku("deg"),Os=ku("%"),pe=ku("px"),HL=ku("vh"),GL=ku("vw"),d_={...Os,parse:t=>Os.parse(t)/100,transform:t=>Os.transform(t*100)},KL={borderWidth:pe,borderTopWidth:pe,borderRightWidth:pe,borderBottomWidth:pe,borderLeftWidth:pe,borderRadius:pe,radius:pe,borderTopLeftRadius:pe,borderTopRightRadius:pe,borderBottomRightRadius:pe,borderBottomLeftRadius:pe,width:pe,maxWidth:pe,height:pe,maxHeight:pe,top:pe,right:pe,bottom:pe,left:pe,padding:pe,paddingTop:pe,paddingRight:pe,paddingBottom:pe,paddingLeft:pe,margin:pe,marginTop:pe,marginRight:pe,marginBottom:pe,marginLeft:pe,backgroundPositionX:pe,backgroundPositionY:pe},QL={rotate:Li,rotateX:Li,rotateY:Li,rotateZ:Li,scale:vd,scaleX:vd,scaleY:vd,scaleZ:vd,skew:Li,skewX:Li,skewY:Li,distance:pe,translateX:pe,translateY:pe,translateZ:pe,x:pe,y:pe,z:pe,perspective:pe,transformPerspective:pe,opacity:Jc,originX:d_,originY:d_,originZ:pe},h_={...pl,transform:Math.round},My={...KL,...QL,zIndex:h_,size:pe,fillOpacity:Jc,strokeOpacity:Jc,numOctaves:h_},qL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},YL=ml.length;function XL(t,e,n){let s="",i=!0;for(let r=0;r<YL;r++){const o=ml[r],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=Mj(l,My[o]);if(!c){i=!1;const h=qL[o]||o;s+=`${h}(${d}) `}n&&(e[o]=d)}}return s=s.trim(),n?s=n(e,i?"":s):i&&(s="none"),s}function Oy(t,e,n){const{style:s,vars:i,transformOrigin:r}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(Ma.has(c)){o=!0;continue}else if(Dj(c)){i[c]=d;continue}else{const h=Mj(d,My[c]);c.startsWith("origin")?(l=!0,r[c]=h):s[c]=h}}if(e.transform||(o||n?s.transform=XL(e,t.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:h=0}=r;s.transformOrigin=`${c} ${d} ${h}`}}const WL={offset:"stroke-dashoffset",array:"stroke-dasharray"},JL={offset:"strokeDashoffset",array:"strokeDasharray"};function ZL(t,e,n=1,s=0,i=!0){t.pathLength=1;const r=i?WL:JL;t[r.offset]=pe.transform(-s);const o=pe.transform(e),l=pe.transform(n);t[r.array]=`${o} ${l}`}function f_(t,e,n){return typeof t=="string"?t:pe.transform(e+n*t)}function e9(t,e,n){const s=f_(e,t.x,t.width),i=f_(n,t.y,t.height);return`${s} ${i}`}function Vy(t,{attrX:e,attrY:n,attrScale:s,originX:i,originY:r,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},h,f){if(Oy(t,d,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:y,dimensions:S}=t;m.transform&&(S&&(y.transform=m.transform),delete m.transform),S&&(i!==void 0||r!==void 0||y.transform)&&(y.transformOrigin=e9(S,i!==void 0?i:.5,r!==void 0?r:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),s!==void 0&&(m.scale=s),o!==void 0&&ZL(m,o,l,c,!1)}const Py=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Oj=()=>({...Py(),attrs:{}}),Ly=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Vj(t,{style:e,vars:n},s,i){Object.assign(t.style,e,i&&i.getProjectionStyles(s));for(const r in n)t.style.setProperty(r,n[r])}const Pj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Lj(t,e,n,s){Vj(t,e,void 0,s);for(const i in e.attrs)t.setAttribute(Pj.has(i)?i:Cy(i),e.attrs[i])}const Yh={};function t9(t){Object.assign(Yh,t)}function zj(t,{layout:e,layoutId:n}){return Ma.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Yh[t]||t==="opacity")}function zy(t,e,n){var s;const{style:i}=t,r={};for(const o in i)(un(i[o])||e.style&&un(e.style[o])||zj(o,t)||((s=n==null?void 0:n.getValue(o))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(r[o]=i[o]);return r}function Uj(t,e,n){const s=zy(t,e,n);for(const i in t)if(un(t[i])||un(e[i])){const r=ml.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[r]=t[i]}return s}function n9(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const m_=["x","y","width","height","cx","cy","r"],s9={useVisualState:Ij({scrapeMotionValuesFromProps:Uj,createRenderState:Oj,onUpdate:({props:t,prevProps:e,current:n,renderState:s,latestValues:i})=>{if(!n)return;let r=!!t.drag;if(!r){for(const l in i)if(Ma.has(l)){r=!0;break}}if(!r)return;let o=!e;if(e)for(let l=0;l<m_.length;l++){const c=m_[l];t[c]!==e[c]&&(o=!0)}o&&it.read(()=>{n9(n,s),it.render(()=>{Vy(s,i,Ly(n.tagName),t.transformTemplate),Lj(n,s)})})}})},i9={useVisualState:Ij({scrapeMotionValuesFromProps:zy,createRenderState:Py})};function Bj(t,e,n){for(const s in e)!un(e[s])&&!zj(s,n)&&(t[s]=e[s])}function r9({transformTemplate:t},e){return I.useMemo(()=>{const n=Py();return Oy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function a9(t,e){const n=t.style||{},s={};return Bj(s,n,t),Object.assign(s,r9(t,e)),s}function o9(t,e){const n={},s=a9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}function l9(t,e,n,s){const i=I.useMemo(()=>{const r=Oj();return Vy(r,e,Ly(s),t.transformTemplate),{...r.attrs,style:{...r.style}}},[e]);if(t.style){const r={};Bj(r,t.style,t),i.style={...r,...i.style}}return i}function c9(t=!1){return(n,s,i,{latestValues:r},o)=>{const c=(Iy(n)?l9:o9)(s,r,o,n),d=SL(s,typeof n=="string",t),h=n!==I.Fragment?{...d,...c,ref:i}:{},{children:f}=s,m=I.useMemo(()=>un(f)?f.get():f,[f]);return I.createElement(n,{...h,children:m})}}function u9(t,e){return function(s,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...Iy(s)?s9:i9,preloadedFeatures:t,useRender:c9(i),createVisualElement:e,Component:s};return DL(o)}}function Fj(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function Zf(t,e,n){const s=t.getProps();return ky(s,e,n!==void 0?n:s.custom,t)}const d9=Ey(()=>window.ScrollTimeline!==void 0);class h9{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e,n){const s=this.animations.map(i=>{if(d9()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{s.forEach((i,r)=>{i&&i(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class f9 extends h9{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Uy(t,e){return t?t[e]||t.default||t:void 0}const r0=2e4;function $j(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<r0;)e+=n,s=t.next(e);return e>=r0?1/0:e}function By(t){return typeof t=="function"}function p_(t,e){t.timeline=e,t.onfinish=null}const Fy=t=>Array.isArray(t)&&typeof t[0]=="number",m9={linearEasing:void 0};function p9(t,e){const n=Ey(t);return()=>{var s;return(s=m9[e])!==null&&s!==void 0?s:n()}}const Xh=p9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hj=(t,e,n=10)=>{let s="";const i=Math.max(Math.round(e/n),2);for(let r=0;r<i;r++)s+=t(qo(0,i-1,r))+", ";return`linear(${s.substring(0,s.length-2)})`};function Gj(t){return!!(typeof t=="function"&&Xh()||!t||typeof t=="string"&&(t in a0||Xh())||Fy(t)||Array.isArray(t)&&t.every(Gj))}const Jl=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,a0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jl([0,.65,.55,1]),circOut:Jl([.55,0,1,.45]),backIn:Jl([.31,.01,.66,-.59]),backOut:Jl([.33,1.53,.69,.99])};function Kj(t,e){if(t)return typeof t=="function"&&Xh()?Hj(t,e):Fy(t)?Jl(t):Array.isArray(t)?t.map(n=>Kj(n,e)||a0.easeOut):a0[t]}const gs={x:!1,y:!1};function Qj(){return gs.x||gs.y}function g9(t,e,n){var s;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const r=(s=void 0)!==null&&s!==void 0?s:i.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}function qj(t,e){const n=g9(t),s=new AbortController,i={passive:!0,...e,signal:s.signal};return[n,i,()=>s.abort()]}function g_(t){return e=>{e.pointerType==="touch"||Qj()||t(e)}}function x9(t,e,n={}){const[s,i,r]=qj(t,n),o=g_(l=>{const{target:c}=l,d=e(l);if(typeof d!="function"||!c)return;const h=g_(f=>{d(f),c.removeEventListener("pointerleave",h)});c.addEventListener("pointerleave",h,i)});return s.forEach(l=>{l.addEventListener("pointerenter",o,i)}),r}const Yj=(t,e)=>e?t===e?!0:Yj(t,e.parentElement):!1,$y=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,y9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function v9(t){return y9.has(t.tagName)||t.tabIndex!==-1}const Zl=new WeakSet;function x_(t){return e=>{e.key==="Enter"&&t(e)}}function xp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const b9=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=x_(()=>{if(Zl.has(n))return;xp(n,"down");const i=x_(()=>{xp(n,"up")}),r=()=>xp(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",r,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function y_(t){return $y(t)&&!Qj()}function w9(t,e,n={}){const[s,i,r]=qj(t,n),o=l=>{const c=l.currentTarget;if(!y_(l)||Zl.has(c))return;Zl.add(c);const d=e(l),h=(y,S)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),!(!y_(y)||!Zl.has(c))&&(Zl.delete(c),typeof d=="function"&&d(y,{success:S}))},f=y=>{h(y,n.useGlobalTarget||Yj(c,y.target))},m=y=>{h(y,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",m,i)};return s.forEach(l=>{!v9(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),l.addEventListener("focus",d=>b9(d,i),i)}),r}function _9(t){return t==="x"||t==="y"?gs[t]?null:(gs[t]=!0,()=>{gs[t]=!1}):gs.x||gs.y?null:(gs.x=gs.y=!0,()=>{gs.x=gs.y=!1})}const Xj=new Set(["width","height","top","left","right","bottom",...ml]);let Qd;function N9(){Qd=void 0}const Vs={now:()=>(Qd===void 0&&Vs.set(Kt.isProcessing||yL.useManualTiming?Kt.timestamp:performance.now()),Qd),set:t=>{Qd=t,queueMicrotask(N9)}};function Hy(t,e){t.indexOf(e)===-1&&t.push(e)}function Gy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ky{constructor(){this.subscriptions=[]}add(e){return Hy(this.subscriptions,e),()=>Gy(this.subscriptions,e)}notify(e,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,s);else for(let r=0;r<i;r++){const o=this.subscriptions[r];o&&o(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Wj(t,e){return e?t*(1e3/e):0}const v_=30,S9=t=>!isNaN(parseFloat(t));class T9{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,i=!0)=>{const r=Vs.now();this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Vs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=S9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ky);const s=this.events[e].add(n);return e==="change"?()=>{s(),it.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Vs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>v_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,v_);return Wj(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zc(t,e){return new T9(t,e)}function E9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Zc(n))}function A9(t,e){const n=Zf(t,e);let{transitionEnd:s={},transition:i={},...r}=n||{};r={...r,...s};for(const o in r){const l=zL(r[o]);E9(t,o,l)}}function j9(t){return!!(un(t)&&t.add)}function o0(t,e){const n=t.getValue("willChange");if(j9(n))return n.add(e)}function Jj(t){return t.props[jj]}const Zj=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,C9=1e-7,R9=12;function I9(t,e,n,s,i){let r,o,l=0;do o=e+(n-e)/2,r=Zj(o,s,i)-t,r>0?n=o:e=o;while(Math.abs(r)>C9&&++l<R9);return o}function Du(t,e,n,s){if(t===e&&n===s)return Fn;const i=r=>I9(r,0,1,t,n);return r=>r===0||r===1?r:Zj(i(r),e,s)}const eC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,tC=t=>e=>1-t(1-e),nC=Du(.33,1.53,.69,.99),Qy=tC(nC),sC=eC(Qy),iC=t=>(t*=2)<1?.5*Qy(t):.5*(2-Math.pow(2,-10*(t-1))),qy=t=>1-Math.sin(Math.acos(t)),rC=tC(qy),aC=eC(qy),oC=t=>/^0[^.\s]+$/u.test(t);function k9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||oC(t):!0}const _c=t=>Math.round(t*1e5)/1e5,Yy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function D9(t){return t==null}const M9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xy=(t,e)=>n=>!!(typeof n=="string"&&M9.test(n)&&n.startsWith(t)||e&&!D9(n)&&Object.prototype.hasOwnProperty.call(n,e)),lC=(t,e,n)=>s=>{if(typeof s!="string")return s;const[i,r,o,l]=s.match(Yy);return{[t]:parseFloat(i),[e]:parseFloat(r),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},O9=t=>wi(0,255,t),yp={...pl,transform:t=>Math.round(O9(t))},ta={test:Xy("rgb","red"),parse:lC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+yp.transform(t)+", "+yp.transform(e)+", "+yp.transform(n)+", "+_c(Jc.transform(s))+")"};function V9(t){let e="",n="",s="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,s+=s,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const l0={test:Xy("#"),parse:V9,transform:ta.transform},co={test:Xy("hsl","hue"),parse:lC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Os.transform(_c(e))+", "+Os.transform(_c(n))+", "+_c(Jc.transform(s))+")"},an={test:t=>ta.test(t)||l0.test(t)||co.test(t),parse:t=>ta.test(t)?ta.parse(t):co.test(t)?co.parse(t):l0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ta.transform(t):co.transform(t)},P9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function L9(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Yy))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(P9))===null||n===void 0?void 0:n.length)||0)>0}const cC="number",uC="color",z9="var",U9="var(",b_="${}",B9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eu(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},i=[];let r=0;const l=e.replace(B9,c=>(an.test(c)?(s.color.push(r),i.push(uC),n.push(an.parse(c))):c.startsWith(U9)?(s.var.push(r),i.push(z9),n.push(c)):(s.number.push(r),i.push(cC),n.push(parseFloat(c))),++r,b_)).split(b_);return{values:n,split:l,indexes:s,types:i}}function dC(t){return eu(t).values}function hC(t){const{split:e,types:n}=eu(t),s=e.length;return i=>{let r="";for(let o=0;o<s;o++)if(r+=e[o],i[o]!==void 0){const l=n[o];l===cC?r+=_c(i[o]):l===uC?r+=an.transform(i[o]):r+=i[o]}return r}}const F9=t=>typeof t=="number"?0:t;function $9(t){const e=dC(t);return hC(t)(e.map(F9))}const jr={test:L9,parse:dC,createTransformer:hC,getAnimatableNone:$9},H9=new Set(["brightness","contrast","saturate","opacity"]);function G9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Yy)||[];if(!s)return t;const i=n.replace(s,"");let r=H9.has(e)?1:0;return s!==n&&(r*=100),e+"("+r+i+")"}const K9=/\b([a-z-]*)\(.*?\)/gu,c0={...jr,getAnimatableNone:t=>{const e=t.match(K9);return e?e.map(G9).join(" "):t}},Q9={...My,color:an,backgroundColor:an,outlineColor:an,fill:an,stroke:an,borderColor:an,borderTopColor:an,borderRightColor:an,borderBottomColor:an,borderLeftColor:an,filter:c0,WebkitFilter:c0},Wy=t=>Q9[t];function fC(t,e){let n=Wy(t);return n!==c0&&(n=jr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const q9=new Set(["auto","none","0"]);function Y9(t,e,n){let s=0,i;for(;s<t.length&&!i;){const r=t[s];typeof r=="string"&&!q9.has(r)&&eu(r).values.length&&(i=t[s]),s++}if(i&&n)for(const r of e)t[r]=fC(n,i)}const w_=t=>t===pl||t===pe,__=(t,e)=>parseFloat(t.split(", ")[e]),N_=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const i=s.match(/^matrix3d\((.+)\)$/u);if(i)return __(i[1],e);{const r=s.match(/^matrix\((.+)\)$/u);return r?__(r[1],t):0}},X9=new Set(["x","y","z"]),W9=ml.filter(t=>!X9.has(t));function J9(t){const e=[];return W9.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Xo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:N_(4,13),y:N_(5,14)};Xo.translateX=Xo.x;Xo.translateY=Xo.y;const ua=new Set;let u0=!1,d0=!1;function mC(){if(d0){const t=Array.from(ua).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const i=J9(s);i.length&&(n.set(s,i),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([r,o])=>{var l;(l=s.getValue(r))===null||l===void 0||l.set(o)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}d0=!1,u0=!1,ua.forEach(t=>t.complete()),ua.clear()}function pC(){ua.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(d0=!0)})}function Z9(){pC(),mC()}class Jy{constructor(e,n,s,i,r,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=i,this.element=r,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ua.add(this),u0||(u0=!0,it.read(pC),it.resolveKeyframes(mC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:i}=this;for(let r=0;r<e.length;r++)if(e[r]===null)if(r===0){const o=i==null?void 0:i.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(s&&n){const c=s.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),i&&o===void 0&&i.set(e[0])}else e[r]=e[r-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ua.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ua.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const gC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),ez=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tz(t){const e=ez.exec(t);if(!e)return[,];const[,n,s,i]=e;return[`--${n??s}`,i]}function xC(t,e,n=1){const[s,i]=tz(t);if(!s)return;const r=window.getComputedStyle(e).getPropertyValue(s);if(r){const o=r.trim();return gC(o)?parseFloat(o):o}return Dy(i)?xC(i,e,n+1):i}const yC=t=>e=>e.test(t),nz={test:t=>t==="auto",parse:t=>t},vC=[pl,pe,Os,Li,GL,HL,nz],S_=t=>vC.find(yC(t));class bC extends Jy{constructor(e,n,s,i,r){super(e,n,s,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),Dy(d))){const h=xC(d,n.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Xj.has(s)||e.length!==2)return;const[i,r]=e,o=S_(i),l=S_(r);if(o!==l)if(w_(o)&&w_(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let i=0;i<e.length;i++)k9(e[i])&&s.push(i);s.length&&Y9(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xo[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(s,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:s,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const r=n.getValue(s);r&&r.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Xo[s](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,d])=>{n.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const T_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(jr.test(t)||t==="0")&&!t.startsWith("url("));function sz(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function iz(t,e,n,s){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const r=t[t.length-1],o=T_(i,e),l=T_(r,e);return!o||!l?!1:sz(t)||(n==="spring"||By(n))&&s}const rz=t=>t!==null;function em(t,{repeat:e,repeatType:n="loop"},s){const i=t.filter(rz),r=e&&n!=="loop"&&e%2===1?0:i.length-1;return!r||s===void 0?i[r]:s}const az=40;class wC{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Vs.now(),this.options={autoplay:e,delay:n,type:s,repeat:i,repeatDelay:r,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>az?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Z9(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Vs.now(),this.hasAttemptedResolve=!0;const{name:s,type:i,velocity:r,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!iz(e,s,i,r))if(o)this.options.duration=0;else{c&&c(em(e,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const lt=(t,e,n)=>t+(e-t)*n;function vp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function oz({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let i=0,r=0,o=0;if(!e)i=r=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;i=vp(c,l,t+1/3),r=vp(c,l,t),o=vp(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:s}}function Wh(t,e){return n=>n>0?e:t}const bp=(t,e,n)=>{const s=t*t,i=n*(e*e-s)+s;return i<0?0:Math.sqrt(i)},lz=[l0,ta,co],cz=t=>lz.find(e=>e.test(t));function E_(t){const e=cz(t);if(!e)return!1;let n=e.parse(t);return e===co&&(n=oz(n)),n}const A_=(t,e)=>{const n=E_(t),s=E_(e);if(!n||!s)return Wh(t,e);const i={...n};return r=>(i.red=bp(n.red,s.red,r),i.green=bp(n.green,s.green,r),i.blue=bp(n.blue,s.blue,r),i.alpha=lt(n.alpha,s.alpha,r),ta.transform(i))},uz=(t,e)=>n=>e(t(n)),Mu=(...t)=>t.reduce(uz),h0=new Set(["none","hidden"]);function dz(t,e){return h0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function hz(t,e){return n=>lt(t,e,n)}function Zy(t){return typeof t=="number"?hz:typeof t=="string"?Dy(t)?Wh:an.test(t)?A_:pz:Array.isArray(t)?_C:typeof t=="object"?an.test(t)?A_:fz:Wh}function _C(t,e){const n=[...t],s=n.length,i=t.map((r,o)=>Zy(r)(r,e[o]));return r=>{for(let o=0;o<s;o++)n[o]=i[o](r);return n}}function fz(t,e){const n={...t,...e},s={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(s[i]=Zy(t[i])(t[i],e[i]));return i=>{for(const r in s)n[r]=s[r](i);return n}}function mz(t,e){var n;const s=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const o=e.types[r],l=t.indexes[o][i[o]],c=(n=t.values[l])!==null&&n!==void 0?n:0;s[r]=c,i[o]++}return s}const pz=(t,e)=>{const n=jr.createTransformer(e),s=eu(t),i=eu(e);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?h0.has(t)&&!i.values.length||h0.has(e)&&!s.values.length?dz(t,e):Mu(_C(mz(s,i),i.values),n):Wh(t,e)};function NC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?lt(t,e,n):Zy(t)(t,e)}const gz=5;function SC(t,e,n){const s=Math.max(e-gz,0);return Wj(n-t(s),e-s)}const ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wp=.001;function xz({duration:t=ft.duration,bounce:e=ft.bounce,velocity:n=ft.velocity,mass:s=ft.mass}){let i,r,o=1-e;o=wi(ft.minDamping,ft.maxDamping,o),t=wi(ft.minDuration,ft.maxDuration,ci(t)),o<1?(i=d=>{const h=d*o,f=h*t,m=h-n,y=f0(d,o),S=Math.exp(-f);return wp-m/y*S},r=d=>{const f=d*o*t,m=f*n+n,y=Math.pow(o,2)*Math.pow(d,2)*t,S=Math.exp(-f),R=f0(Math.pow(d,2),o);return(-i(d)+wp>0?-1:1)*((m-y)*S)/R}):(i=d=>{const h=Math.exp(-d*t),f=(d-n)*t+1;return-wp+h*f},r=d=>{const h=Math.exp(-d*t),f=(n-d)*(t*t);return h*f});const l=5/t,c=vz(i,r,l);if(t=li(t),isNaN(c))return{stiffness:ft.stiffness,damping:ft.damping,duration:t};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:t}}}const yz=12;function vz(t,e,n){let s=n;for(let i=1;i<yz;i++)s=s-t(s)/e(s);return s}function f0(t,e){return t*Math.sqrt(1-e*e)}const bz=["duration","bounce"],wz=["stiffness","damping","mass"];function j_(t,e){return e.some(n=>t[n]!==void 0)}function _z(t){let e={velocity:ft.velocity,stiffness:ft.stiffness,damping:ft.damping,mass:ft.mass,isResolvedFromDuration:!1,...t};if(!j_(t,wz)&&j_(t,bz))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,r=2*wi(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ft.mass,stiffness:i,damping:r}}else{const n=xz(t);e={...e,...n,mass:ft.mass},e.isResolvedFromDuration=!0}return e}function TC(t=ft.visualDuration,e=ft.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:i}=n;const r=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:r},{stiffness:c,damping:d,mass:h,duration:f,velocity:m,isResolvedFromDuration:y}=_z({...n,velocity:-ci(n.velocity||0)}),S=m||0,R=d/(2*Math.sqrt(c*h)),j=o-r,N=ci(Math.sqrt(c/h)),x=Math.abs(j)<5;s||(s=x?ft.restSpeed.granular:ft.restSpeed.default),i||(i=x?ft.restDelta.granular:ft.restDelta.default);let v;if(R<1){const M=f0(N,R);v=L=>{const T=Math.exp(-R*N*L);return o-T*((S+R*N*j)/M*Math.sin(M*L)+j*Math.cos(M*L))}}else if(R===1)v=M=>o-Math.exp(-N*M)*(j+(S+N*j)*M);else{const M=N*Math.sqrt(R*R-1);v=L=>{const T=Math.exp(-R*N*L),p=Math.min(M*L,300);return o-T*((S+R*N*j)*Math.sinh(p)+M*j*Math.cosh(p))/M}}const E={calculatedDuration:y&&f||null,next:M=>{const L=v(M);if(y)l.done=M>=f;else{let T=0;R<1&&(T=M===0?li(S):SC(v,M,L));const p=Math.abs(T)<=s,w=Math.abs(o-L)<=i;l.done=p&&w}return l.value=l.done?o:L,l},toString:()=>{const M=Math.min($j(E),r0),L=Hj(T=>E.next(M*T).value,M,30);return M+"ms "+L}};return E}function C_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:h}){const f=t[0],m={done:!1,value:f},y=p=>l!==void 0&&p<l||c!==void 0&&p>c,S=p=>l===void 0?c:c===void 0||Math.abs(l-p)<Math.abs(c-p)?l:c;let R=n*e;const j=f+R,N=o===void 0?j:o(j);N!==j&&(R=N-f);const x=p=>-R*Math.exp(-p/s),v=p=>N+x(p),E=p=>{const w=x(p),A=v(p);m.done=Math.abs(w)<=d,m.value=m.done?N:A};let M,L;const T=p=>{y(m.value)&&(M=p,L=TC({keyframes:[m.value,S(m.value)],velocity:SC(v,p,m.value),damping:i,stiffness:r,restDelta:d,restSpeed:h}))};return T(0),{calculatedDuration:null,next:p=>{let w=!1;return!L&&M===void 0&&(w=!0,E(p),T(p)),M!==void 0&&p>=M?L.next(p-M):(!w&&E(p),m)}}}const Nz=Du(.42,0,1,1),Sz=Du(0,0,.58,1),EC=Du(.42,0,.58,1),Tz=t=>Array.isArray(t)&&typeof t[0]!="number",Ez={linear:Fn,easeIn:Nz,easeInOut:EC,easeOut:Sz,circIn:qy,circInOut:aC,circOut:rC,backIn:Qy,backInOut:sC,backOut:nC,anticipate:iC},R_=t=>{if(Fy(t)){Nj(t.length===4);const[e,n,s,i]=t;return Du(e,n,s,i)}else if(typeof t=="string")return Ez[t];return t};function Az(t,e,n){const s=[],i=n||NC,r=t.length-1;for(let o=0;o<r;o++){let l=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Fn:e;l=Mu(c,l)}s.push(l)}return s}function jz(t,e,{clamp:n=!0,ease:s,mixer:i}={}){const r=t.length;if(Nj(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[r-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=Az(e,s,i),c=l.length,d=h=>{if(o&&h<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const m=qo(t[f],t[f+1],h);return l[f](m)};return n?h=>d(wi(t[0],t[r-1],h)):d}function Cz(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const i=qo(0,e,s);t.push(lt(n,1,i))}}function Rz(t){const e=[0];return Cz(e,t.length-1),e}function Iz(t,e){return t.map(n=>n*e)}function kz(t,e){return t.map(()=>e||EC).splice(0,t.length-1)}function Jh({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const i=Tz(s)?s.map(R_):R_(s),r={done:!1,value:e[0]},o=Iz(n&&n.length===e.length?n:Rz(e),t),l=jz(o,e,{ease:Array.isArray(i)?i:kz(e,i)});return{calculatedDuration:t,next:c=>(r.value=l(c),r.done=c>=t,r)}}const Dz=t=>{const e=({timestamp:n})=>t(n);return{start:()=>it.update(e,!0),stop:()=>Ar(e),now:()=>Kt.isProcessing?Kt.timestamp:Vs.now()}},Mz={decay:C_,inertia:C_,tween:Jh,keyframes:Jh,spring:TC},Oz=t=>t/100;class ev extends wC{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:s,element:i,keyframes:r}=this.options,o=(i==null?void 0:i.KeyframeResolver)||Jy,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(r,l,n,s,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:r,velocity:o=0}=this.options,l=By(n)?n:Mz[n]||Jh;let c,d;l!==Jh&&typeof e[0]!="number"&&(c=Mu(Oz,NC(e[0],e[1])),e=[0,100]);const h=l({...this.options,keyframes:e});r==="mirror"&&(d=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=$j(h));const{calculatedDuration:f}=h,m=f+i,y=m*(s+1)-i;return{generator:h,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:m,totalDuration:y}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:s}=this;if(!s){const{keyframes:p}=this.options;return{done:!0,value:p[p.length-1]}}const{finalKeyframe:i,generator:r,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:h,resolvedDuration:f}=s;if(this.startTime===null)return r.next(0);const{delay:m,repeat:y,repeatType:S,repeatDelay:R,onUpdate:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const N=this.currentTime-m*(this.speed>=0?1:-1),x=this.speed>=0?N<0:N>h;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let v=this.currentTime,E=r;if(y){const p=Math.min(this.currentTime,h)/f;let w=Math.floor(p),A=p%1;!A&&p>=1&&(A=1),A===1&&w--,w=Math.min(w,y+1),!!(w%2)&&(S==="reverse"?(A=1-A,R&&(A-=R/f)):S==="mirror"&&(E=o)),v=wi(0,1,A)*f}const M=x?{done:!1,value:c[0]}:E.next(v);l&&(M.value=l(M.value));let{done:L}=M;!x&&d!==null&&(L=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return T&&i!==void 0&&(M.value=em(c,this.options,i)),j&&j(M.value),T&&this.finish(),M}get duration(){const{resolved:e}=this;return e?ci(e.calculatedDuration):0}get time(){return ci(this.currentTime)}set time(e){e=li(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ci(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Dz,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Vz=new Set(["opacity","clipPath","filter","transform"]);function Pz(t,e,n,{delay:s=0,duration:i=300,repeat:r=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[e]:n};c&&(d.offset=c);const h=Kj(l,i);return Array.isArray(h)&&(d.easing=h),t.animate(d,{delay:s,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"})}const Lz=Ey(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Zh=10,zz=2e4;function Uz(t){return By(t.type)||t.type==="spring"||!Gj(t.ease)}function Bz(t,e){const n=new ev({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:t[0]};const i=[];let r=0;for(;!s.done&&r<zz;)s=n.sample(r),i.push(s.value),r+=Zh;return{times:void 0,keyframes:i,duration:r-Zh,ease:"linear"}}const AC={anticipate:iC,backInOut:sC,circInOut:aC};function Fz(t){return t in AC}class I_ extends wC{constructor(e){super(e);const{name:n,motionValue:s,element:i,keyframes:r}=this.options;this.resolver=new bC(r,(o,l)=>this.onKeyframesResolved(o,l),n,s,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:s=300,times:i,ease:r,type:o,motionValue:l,name:c,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof r=="string"&&Xh()&&Fz(r)&&(r=AC[r]),Uz(this.options)){const{onComplete:f,onUpdate:m,motionValue:y,element:S,...R}=this.options,j=Bz(e,R);e=j.keyframes,e.length===1&&(e[1]=e[0]),s=j.duration,i=j.times,r=j.ease,o="keyframes"}const h=Pz(l.owner.current,c,e,{...this.options,duration:s,times:i,ease:r});return h.startTime=d??this.calcStartTime(),this.pendingTimeline?(p_(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;l.set(em(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:s,times:i,type:o,ease:r,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ci(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ci(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=li(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Fn;const{animation:s}=n;p_(s,e)}return Fn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:s,duration:i,type:r,ease:o,times:l}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:h,onComplete:f,element:m,...y}=this.options,S=new ev({...y,keyframes:s,duration:i,type:r,ease:o,times:l,isGenerator:!0}),R=li(this.time);d.setWithVelocity(S.sample(R-Zh).value,S.sample(R).value,Zh)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:s,repeatDelay:i,repeatType:r,damping:o,type:l}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=n.owner.getProps();return Lz()&&s&&Vz.has(s)&&!c&&!d&&!i&&r!=="mirror"&&o!==0&&l!=="inertia"}}const $z={type:"spring",stiffness:500,damping:25,restSpeed:10},Hz=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Gz={type:"keyframes",duration:.8},Kz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Qz=(t,{keyframes:e})=>e.length>2?Gz:Ma.has(t)?t.startsWith("scale")?Hz(e[1]):$z:Kz;function qz({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:r,repeatType:o,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}const tv=(t,e,n,s={},i,r)=>o=>{const l=Uy(s,t)||{},c=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-li(c);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:r?void 0:i};qz(l)||(h={...h,...Qz(t,h)}),h.duration&&(h.duration=li(h.duration)),h.repeatDelay&&(h.repeatDelay=li(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(f=!0)),f&&!r&&e.get()!==void 0){const m=em(h.keyframes,l);if(m!==void 0)return it.update(()=>{h.onUpdate(m),h.onComplete()}),new f9([])}return!r&&I_.supports(h)?new I_(h):new ev(h)};function Yz({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function jC(t,e,{delay:n=0,transitionOverride:s,type:i}={}){var r;let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;s&&(o=s);const d=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const f in c){const m=t.getValue(f,(r=t.latestValues[f])!==null&&r!==void 0?r:null),y=c[f];if(y===void 0||h&&Yz(h,f))continue;const S={delay:n,...Uy(o||{},f)};let R=!1;if(window.MotionHandoffAnimation){const N=Jj(t);if(N){const x=window.MotionHandoffAnimation(N,f,it);x!==null&&(S.startTime=x,R=!0)}}o0(t,f),m.start(tv(f,m,y,t.shouldReduceMotion&&Xj.has(f)?{type:!1}:S,t,R));const j=m.animation;j&&d.push(j)}return l&&Promise.all(d).then(()=>{it.update(()=>{l&&A9(t,l)})}),d}function m0(t,e,n={}){var s;const i=Zf(t,e,n.type==="exit"?(s=t.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const o=i?()=>Promise.all(jC(t,i,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:m}=r;return Xz(t,e,h+d,f,m,n)}:()=>Promise.resolve(),{when:c}=r;if(c){const[d,h]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>h())}else return Promise.all([o(),l(n.delay)])}function Xz(t,e,n=0,s=0,i=1,r){const o=[],l=(t.variantChildren.size-1)*s,c=i===1?(d=0)=>d*s:(d=0)=>l-d*s;return Array.from(t.variantChildren).sort(Wz).forEach((d,h)=>{d.notify("AnimationStart",e),o.push(m0(d,e,{...r,delay:n+c(h)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function Wz(t,e){return t.sortNodePosition(e)}function Jz(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const i=e.map(r=>m0(t,r,n));s=Promise.all(i)}else if(typeof e=="string")s=m0(t,e,n);else{const i=typeof e=="function"?Zf(t,e,n.custom):e;s=Promise.all(jC(t,i,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const Zz=jy.length;function CC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?CC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Zz;n++){const s=jy[n],i=t.props[s];(Wc(i)||i===!1)&&(e[s]=i)}return e}const e8=[...Ay].reverse(),t8=Ay.length;function n8(t){return e=>Promise.all(e.map(({animation:n,options:s})=>Jz(t,n,s)))}function s8(t){let e=n8(t),n=k_(),s=!0;const i=c=>(d,h)=>{var f;const m=Zf(t,h,c==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(m){const{transition:y,transitionEnd:S,...R}=m;d={...d,...R,...S}}return d};function r(c){e=c(t)}function o(c){const{props:d}=t,h=CC(t.parent)||{},f=[],m=new Set;let y={},S=1/0;for(let j=0;j<t8;j++){const N=e8[j],x=n[N],v=d[N]!==void 0?d[N]:h[N],E=Wc(v),M=N===c?x.isActive:null;M===!1&&(S=j);let L=v===h[N]&&v!==d[N]&&E;if(L&&s&&t.manuallyAnimateOnMount&&(L=!1),x.protectedKeys={...y},!x.isActive&&M===null||!v&&!x.prevProp||Wf(v)||typeof v=="boolean")continue;const T=i8(x.prevProp,v);let p=T||N===c&&x.isActive&&!L&&E||j>S&&E,w=!1;const A=Array.isArray(v)?v:[v];let k=A.reduce(i(N),{});M===!1&&(k={});const{prevResolvedValues:C={}}=x,b={...C,...k},O=z=>{p=!0,m.has(z)&&(w=!0,m.delete(z)),x.needsAnimating[z]=!0;const U=t.getValue(z);U&&(U.liveStyle=!1)};for(const z in b){const U=k[z],ee=C[z];if(y.hasOwnProperty(z))continue;let $=!1;i0(U)&&i0(ee)?$=!Fj(U,ee):$=U!==ee,$?U!=null?O(z):m.add(z):U!==void 0&&m.has(z)?O(z):x.protectedKeys[z]=!0}x.prevProp=v,x.prevResolvedValues=k,x.isActive&&(y={...y,...k}),s&&t.blockInitialAnimation&&(p=!1),p&&(!(L&&T)||w)&&f.push(...A.map(z=>({animation:z,options:{type:N}})))}if(m.size){const j={};m.forEach(N=>{const x=t.getBaseTarget(N),v=t.getValue(N);v&&(v.liveStyle=!0),j[N]=x??null}),f.push({animation:j})}let R=!!f.length;return s&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(R=!1),s=!1,R?e(f):Promise.resolve()}function l(c,d){var h;if(n[c].isActive===d)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(c,d)}),n[c].isActive=d;const f=o(c);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:r,getState:()=>n,reset:()=>{n=k_(),s=!0}}}function i8(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Fj(e,t):!1}function Fr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function k_(){return{animate:Fr(!0),whileInView:Fr(),whileHover:Fr(),whileTap:Fr(),whileDrag:Fr(),whileFocus:Fr(),exit:Fr()}}class Or{constructor(e){this.isMounted=!1,this.node=e}update(){}}class r8 extends Or{constructor(e){super(e),e.animationState||(e.animationState=s8(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Wf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let a8=0;class o8 extends Or{constructor(){super(...arguments),this.id=a8++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const l8={animation:{Feature:r8},exit:{Feature:o8}};function tu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Ou(t){return{point:{x:t.pageX,y:t.pageY}}}const c8=t=>e=>$y(e)&&t(e,Ou(e));function Nc(t,e,n,s){return tu(t,e,c8(n),s)}const D_=(t,e)=>Math.abs(t-e);function u8(t,e){const n=D_(t.x,e.x),s=D_(t.y,e.y);return Math.sqrt(n**2+s**2)}class RC{constructor(e,n,{transformPagePoint:s,contextWindow:i,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Np(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,y=u8(f.offset,{x:0,y:0})>=3;if(!m&&!y)return;const{point:S}=f,{timestamp:R}=Kt;this.history.push({...S,timestamp:R});const{onStart:j,onMove:N}=this.handlers;m||(j&&j(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=_p(m,this.transformPagePoint),it.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:y,onSessionEnd:S,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Np(f.type==="pointercancel"?this.lastMoveEventInfo:_p(m,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,j),S&&S(f,j)},!$y(e))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=s,this.contextWindow=i||window;const o=Ou(e),l=_p(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=Kt;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,Np(l,this.history)),this.removeListeners=Mu(Nc(this.contextWindow,"pointermove",this.handlePointerMove),Nc(this.contextWindow,"pointerup",this.handlePointerUp),Nc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ar(this.updatePoint)}}function _p(t,e){return e?{point:e(t.point)}:t}function M_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Np({point:t},e){return{point:t,delta:M_(t,IC(e)),offset:M_(t,d8(e)),velocity:h8(e,.1)}}function d8(t){return t[0]}function IC(t){return t[t.length-1]}function h8(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const i=IC(t);for(;n>=0&&(s=t[n],!(i.timestamp-s.timestamp>li(e)));)n--;if(!s)return{x:0,y:0};const r=ci(i.timestamp-s.timestamp);if(r===0)return{x:0,y:0};const o={x:(i.x-s.x)/r,y:(i.y-s.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const kC=1e-4,f8=1-kC,m8=1+kC,DC=.01,p8=0-DC,g8=0+DC;function Kn(t){return t.max-t.min}function x8(t,e,n){return Math.abs(t-e)<=n}function O_(t,e,n,s=.5){t.origin=s,t.originPoint=lt(e.min,e.max,t.origin),t.scale=Kn(n)/Kn(e),t.translate=lt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=f8&&t.scale<=m8||isNaN(t.scale))&&(t.scale=1),(t.translate>=p8&&t.translate<=g8||isNaN(t.translate))&&(t.translate=0)}function Sc(t,e,n,s){O_(t.x,e.x,n.x,s?s.originX:void 0),O_(t.y,e.y,n.y,s?s.originY:void 0)}function V_(t,e,n){t.min=n.min+e.min,t.max=t.min+Kn(e)}function y8(t,e,n){V_(t.x,e.x,n.x),V_(t.y,e.y,n.y)}function P_(t,e,n){t.min=e.min-n.min,t.max=t.min+Kn(e)}function Tc(t,e,n){P_(t.x,e.x,n.x),P_(t.y,e.y,n.y)}function v8(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?lt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?lt(n,t,s.max):Math.min(t,n)),t}function L_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function b8(t,{top:e,left:n,bottom:s,right:i}){return{x:L_(t.x,n,i),y:L_(t.y,e,s)}}function z_(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function w8(t,e){return{x:z_(t.x,e.x),y:z_(t.y,e.y)}}function _8(t,e){let n=.5;const s=Kn(t),i=Kn(e);return i>s?n=qo(e.min,e.max-s,t.min):s>i&&(n=qo(t.min,t.max-i,e.min)),wi(0,1,n)}function N8(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const p0=.35;function S8(t=p0){return t===!1?t=0:t===!0&&(t=p0),{x:U_(t,"left","right"),y:U_(t,"top","bottom")}}function U_(t,e,n){return{min:B_(t,e),max:B_(t,n)}}function B_(t,e){return typeof t=="number"?t:t[e]||0}const F_=()=>({translate:0,scale:1,origin:0,originPoint:0}),uo=()=>({x:F_(),y:F_()}),$_=()=>({min:0,max:0}),gt=()=>({x:$_(),y:$_()});function Yn(t){return[t("x"),t("y")]}function MC({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function T8({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function E8(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Sp(t){return t===void 0||t===1}function g0({scale:t,scaleX:e,scaleY:n}){return!Sp(t)||!Sp(e)||!Sp(n)}function Yr(t){return g0(t)||OC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function OC(t){return H_(t.x)||H_(t.y)}function H_(t){return t&&t!=="0%"}function ef(t,e,n){const s=t-n,i=e*s;return n+i}function G_(t,e,n,s,i){return i!==void 0&&(t=ef(t,i,s)),ef(t,n,s)+e}function x0(t,e=0,n=1,s,i){t.min=G_(t.min,e,n,s,i),t.max=G_(t.max,e,n,s,i)}function VC(t,{x:e,y:n}){x0(t.x,e.translate,e.scale,e.originPoint),x0(t.y,n.translate,n.scale,n.originPoint)}const K_=.999999999999,Q_=1.0000000000001;function A8(t,e,n,s=!1){const i=n.length;if(!i)return;e.x=e.y=1;let r,o;for(let l=0;l<i;l++){r=n[l],o=r.projectionDelta;const{visualElement:c}=r.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&r.options.layoutScroll&&r.scroll&&r!==r.root&&fo(t,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,VC(t,o)),s&&Yr(r.latestValues)&&fo(t,r.latestValues))}e.x<Q_&&e.x>K_&&(e.x=1),e.y<Q_&&e.y>K_&&(e.y=1)}function ho(t,e){t.min=t.min+e,t.max=t.max+e}function q_(t,e,n,s,i=.5){const r=lt(t.min,t.max,i);x0(t,e,n,r,s)}function fo(t,e){q_(t.x,e.x,e.scaleX,e.scale,e.originX),q_(t.y,e.y,e.scaleY,e.scale,e.originY)}function PC(t,e){return MC(E8(t.getBoundingClientRect(),e))}function j8(t,e,n){const s=PC(t,n),{scroll:i}=e;return i&&(ho(s.x,i.offset.x),ho(s.y,i.offset.y)),s}const LC=({current:t})=>t?t.ownerDocument.defaultView:null,C8=new WeakMap;class R8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ou(h).point)},r=(h,f)=>{const{drag:m,dragPropagation:y,onDragStart:S}=this.getProps();if(m&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_9(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yn(j=>{let N=this.getAxisMotionValue(j).get()||0;if(Os.test(N)){const{projection:x}=this.visualElement;if(x&&x.layout){const v=x.layout.layoutBox[j];v&&(N=Kn(v)*(parseFloat(N)/100))}}this.originPoint[j]=N}),S&&it.postRender(()=>S(h,f)),o0(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:S,onDrag:R}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:j}=f;if(y&&this.currentDirection===null){this.currentDirection=I8(j),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",f.point,j),this.updateAxis("y",f.point,j),this.visualElement.render(),R&&R(h,f)},l=(h,f)=>this.stop(h,f),c=()=>Yn(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new RC(e,{onSessionStart:i,onStart:r,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:LC(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:r}=this.getProps();r&&it.postRender(()=>r(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:i}=this.getProps();if(!s||!bd(e,i,this.currentDirection))return;const r=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=v8(o,this.constraints[e],this.elastic[e])),r.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,r=this.constraints;n&&lo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=b8(i.layoutBox,n):this.constraints=!1,this.elastic=S8(s),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Yn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=N8(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!lo(e))return!1;const s=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=j8(s,i.root,this.visualElement.getTransformPagePoint());let o=w8(i.layout.layoutBox,r);if(n){const l=n(T8(o));this.hasMutatedConstraints=!!l,l&&(o=MC(l))}return o}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Yn(h=>{if(!bd(h,n,this.currentDirection))return;let f=c&&c[h]||{};o&&(f={min:0,max:0});const m=i?200:1e6,y=i?40:1e7,S={type:"inertia",velocity:s?e[h]:0,bounceStiffness:m,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...r,...f};return this.startAxisValueAnimation(h,S)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return o0(this.visualElement,e),s.start(tv(e,s,0,n,this.visualElement,!1))}stopAnimation(){Yn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Yn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Yn(n=>{const{drag:s}=this.getProps();if(!bd(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];r.set(e[n]-lt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!lo(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Yn(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=_8({min:c,max:c},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Yn(o=>{if(!bd(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(lt(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;C8.set(this.visualElement,this);const e=this.visualElement.current,n=Nc(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();lo(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),it.read(s);const o=tu(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Yn(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=c[h].translate,f.set(f.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),n(),r(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:o=p0,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:r,dragElastic:o,dragMomentum:l}}}function bd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function I8(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class k8 extends Or{constructor(e){super(e),this.removeGroupControls=Fn,this.removeListeners=Fn,this.controls=new R8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Y_=t=>(e,n)=>{t&&it.postRender(()=>t(e,n))};class D8 extends Or{constructor(){super(...arguments),this.removePointerDownListener=Fn}onPointerDown(e){this.session=new RC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:Y_(e),onStart:Y_(n),onMove:s,onEnd:(r,o)=>{delete this.session,i&&it.postRender(()=>i(r,o))}}}mount(){this.removePointerDownListener=Nc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function X_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ul={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(pe.test(t))t=parseFloat(t);else return t;const n=X_(t,e.target.x),s=X_(t,e.target.y);return`${n}% ${s}%`}},M8={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,i=jr.parse(t);if(i.length>5)return s;const r=jr.createTransformer(t),o=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const d=lt(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),r(i)}};class O8 extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:r}=e;t9(V8),r&&(n.group&&n.group.add(r),s&&s.register&&i&&s.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),qd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:i,isPresent:r}=this.props,o=s.projection;return o&&(o.isPresent=r,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?o.promote():o.relegate()||it.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ry.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function zC(t){const[e,n]=wj(),s=I.useContext(_y);return a.jsx(O8,{...t,layoutGroup:s,switchLayoutGroup:I.useContext(Cj),isPresent:e,safeToRemove:n})}const V8={borderRadius:{...Ul,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ul,borderTopRightRadius:Ul,borderBottomLeftRadius:Ul,borderBottomRightRadius:Ul,boxShadow:M8};function P8(t,e,n){const s=un(t)?t:Zc(t);return s.start(tv("",s,e,n)),s.animation}function L8(t){return t instanceof SVGElement&&t.tagName!=="svg"}const z8=(t,e)=>t.depth-e.depth;class U8{constructor(){this.children=[],this.isDirty=!1}add(e){Hy(this.children,e),this.isDirty=!0}remove(e){Gy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(z8),this.isDirty=!1,this.children.forEach(e)}}function B8(t,e){const n=Vs.now(),s=({timestamp:i})=>{const r=i-n;r>=e&&(Ar(s),t(r-e))};return it.read(s,!0),()=>Ar(s)}const UC=["TopLeft","TopRight","BottomLeft","BottomRight"],F8=UC.length,W_=t=>typeof t=="string"?parseFloat(t):t,J_=t=>typeof t=="number"||pe.test(t);function $8(t,e,n,s,i,r){i?(t.opacity=lt(0,n.opacity!==void 0?n.opacity:1,H8(s)),t.opacityExit=lt(e.opacity!==void 0?e.opacity:1,0,G8(s))):r&&(t.opacity=lt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let o=0;o<F8;o++){const l=`border${UC[o]}Radius`;let c=Z_(e,l),d=Z_(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||J_(c)===J_(d)?(t[l]=Math.max(lt(W_(c),W_(d),s),0),(Os.test(d)||Os.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=lt(e.rotate||0,n.rotate||0,s))}function Z_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const H8=BC(0,.5,rC),G8=BC(.5,.95,Fn);function BC(t,e,n){return s=>s<t?0:s>e?1:n(qo(t,e,s))}function e2(t,e){t.min=e.min,t.max=e.max}function qn(t,e){e2(t.x,e.x),e2(t.y,e.y)}function t2(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function n2(t,e,n,s,i){return t-=e,t=ef(t,1/n,s),i!==void 0&&(t=ef(t,1/i,s)),t}function K8(t,e=0,n=1,s=.5,i,r=t,o=t){if(Os.test(e)&&(e=parseFloat(e),e=lt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=lt(r.min,r.max,s);t===r&&(l-=e),t.min=n2(t.min,e,n,l,i),t.max=n2(t.max,e,n,l,i)}function s2(t,e,[n,s,i],r,o){K8(t,e[n],e[s],e[i],e.scale,r,o)}const Q8=["x","scaleX","originX"],q8=["y","scaleY","originY"];function i2(t,e,n,s){s2(t.x,e,Q8,n?n.x:void 0,s?s.x:void 0),s2(t.y,e,q8,n?n.y:void 0,s?s.y:void 0)}function r2(t){return t.translate===0&&t.scale===1}function FC(t){return r2(t.x)&&r2(t.y)}function a2(t,e){return t.min===e.min&&t.max===e.max}function Y8(t,e){return a2(t.x,e.x)&&a2(t.y,e.y)}function o2(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function $C(t,e){return o2(t.x,e.x)&&o2(t.y,e.y)}function l2(t){return Kn(t.x)/Kn(t.y)}function c2(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class X8{constructor(){this.members=[]}add(e){Hy(this.members,e),e.scheduleRender()}remove(e){if(Gy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const r=this.members[i];if(r.isPresent!==!1){s=r;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function W8(t,e,n){let s="";const i=t.x.translate/e.x,r=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||r||o)&&(s=`translate3d(${i}px, ${r}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:h,rotateX:f,rotateY:m,skewX:y,skewY:S}=n;d&&(s=`perspective(${d}px) ${s}`),h&&(s+=`rotate(${h}deg) `),f&&(s+=`rotateX(${f}deg) `),m&&(s+=`rotateY(${m}deg) `),y&&(s+=`skewX(${y}deg) `),S&&(s+=`skewY(${S}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const Xr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ec=typeof window<"u"&&window.MotionDebug!==void 0,Tp=["","X","Y","Z"],J8={visibility:"hidden"},u2=1e3;let Z8=0;function Ep(t,e,n,s){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),s&&(s[t]=0))}function HC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Jj(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:r}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",it,!(i||r))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&HC(s)}function GC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=Z8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ec&&(Xr.totalNodes=Xr.resolvedTargetDeltas=Xr.recalculatedProjection=0),this.nodes.forEach(nU),this.nodes.forEach(oU),this.nodes.forEach(lU),this.nodes.forEach(sU),ec&&window.MotionDebug.record(Xr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new U8)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Ky),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=L8(o),this.instance=o;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),t){let f;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=B8(m,250),qd.hasAnimatedSinceResize&&(qd.hasAnimatedSinceResize=!1,this.nodes.forEach(h2))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:y,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||h.getDefaultTransition()||fU,{onLayoutAnimationStart:j,onLayoutAnimationComplete:N}=h.getProps(),x=!this.targetLayout||!$C(this.targetLayout,S)||y,v=!m&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||m&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,v);const E={...Uy(R,"layout"),onPlay:j,onComplete:N};(h.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else m||h2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ar(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cU),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&HC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(d2);return}this.isUpdating||this.nodes.forEach(rU),this.isUpdating=!1,this.nodes.forEach(aU),this.nodes.forEach(eU),this.nodes.forEach(tU),this.clearAllSnapshots();const l=Vs.now();Kt.delta=wi(0,1e3/60,l-Kt.timestamp),Kt.timestamp=l,Kt.isProcessing=!0,gp.update.process(Kt),gp.preRender.process(Kt),gp.render.process(Kt),Kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ry.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iU),this.sharedNodes.forEach(uU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,it.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){it.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!FC(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&(l||Yr(this.latestValues)||h)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),mU(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return gt();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(pU))){const{scroll:h}=this.root;h&&(ho(c.x,h.offset.x),ho(c.y,h.offset.y))}return c}removeElementScroll(o){var l;const c=gt();if(qn(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:f,options:m}=h;h!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&qn(c,o),ho(c.x,f.offset.x),ho(c.y,f.offset.y))}return c}applyTransform(o,l=!1){const c=gt();qn(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&fo(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Yr(h.latestValues)&&fo(c,h.latestValues)}return Yr(this.latestValues)&&fo(c,this.latestValues),c}removeTransform(o){const l=gt();qn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Yr(d.latestValues))continue;g0(d.latestValues)&&d.updateSnapshot();const h=gt(),f=d.measurePageBox();qn(h,f),i2(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return Yr(this.latestValues)&&i2(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Kt.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),Tc(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=gt(),this.targetWithTransforms=gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),y8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qn(this.target,this.layout.layoutBox),VC(this.target,this.targetDelta)):qn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),Tc(this.relativeTargetOrigin,this.target,y.target),qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ec&&Xr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||g0(this.parent.latestValues)||OC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Kt.timestamp&&(d=!1),d)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;qn(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;A8(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=gt());const{target:S}=l;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(t2(this.prevProjectionDelta.x,this.projectionDelta.x),t2(this.prevProjectionDelta.y,this.projectionDelta.y)),Sc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==y||!c2(this.projectionDelta.x,this.prevProjectionDelta.x)||!c2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),ec&&Xr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=uo(),this.projectionDelta=uo(),this.projectionDeltaWithTransform=uo()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},f=uo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=gt(),y=c?c.source:void 0,S=this.layout?this.layout.source:void 0,R=y!==S,j=this.getStack(),N=!j||j.members.length<=1,x=!!(R&&!N&&this.options.crossfade===!0&&!this.path.some(hU));this.animationProgress=0;let v;this.mixTargetDelta=E=>{const M=E/1e3;f2(f.x,o.x,M),f2(f.y,o.y,M),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tc(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dU(this.relativeTarget,this.relativeTargetOrigin,m,M),v&&Y8(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=gt()),qn(v,this.relativeTarget)),R&&(this.animationValues=h,$8(h,d,this.latestValues,M,x,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ar(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=it.update(()=>{qd.hasAnimatedSinceResize=!0,this.currentAnimation=P8(0,u2,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(u2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&KC(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||gt();const f=Kn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const m=Kn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}qn(l,c),fo(l,h),Sc(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new X8),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Ep("z",o,d,this.animationValues);for(let h=0;h<Tp.length;h++)Ep(`rotate${Tp[h]}`,o,d,this.animationValues),Ep(`skew${Tp[h]}`,o,d,this.animationValues);o.render();for(const h in d)o.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return J8;const d={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Kd(o==null?void 0:o.pointerEvents)||"",d.transform=h?h(this.latestValues,""):"none",d;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const R={};return this.options.layoutId&&(R.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,R.pointerEvents=Kd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Yr(this.latestValues)&&(R.transform=h?h({},""):"none",this.hasProjected=!1),R}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),d.transform=W8(this.projectionDeltaWithTransform,this.treeScale,m),h&&(d.transform=h(m,d.transform));const{x:y,y:S}=this.projectionDelta;d.transformOrigin=`${y.origin*100}% ${S.origin*100}% 0`,f.animationValues?d.opacity=f===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const R in Yh){if(m[R]===void 0)continue;const{correct:j,applyTo:N}=Yh[R],x=d.transform==="none"?m[R]:j(m[R],f);if(N){const v=N.length;for(let E=0;E<v;E++)d[N[E]]=x}else d[R]=x}return this.options.layoutId&&(d.pointerEvents=f===this?Kd(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(d2),this.root.sharedNodes.clear()}}}function eU(t){t.updateLayout()}function tU(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=t.layout,{animationType:r}=t.options,o=n.source!==t.layout.source;r==="size"?Yn(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],y=Kn(m);m.min=s[f].min,m.max=m.min+y}):KC(r,n.layoutBox,s)&&Yn(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],y=Kn(s[f]);m.max=m.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+y)});const l=uo();Sc(l,s,n.layoutBox);const c=uo();o?Sc(c,t.applyTransform(i,!0),n.measuredBox):Sc(c,s,n.layoutBox);const d=!FC(l);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:y}=f;if(m&&y){const S=gt();Tc(S,n.layoutBox,m.layoutBox);const R=gt();Tc(R,s,y.layoutBox),$C(S,R)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=R,t.relativeTargetOrigin=S,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function nU(t){ec&&Xr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function sU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function iU(t){t.clearSnapshot()}function d2(t){t.clearMeasurements()}function rU(t){t.isLayoutDirty=!1}function aU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function h2(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function oU(t){t.resolveTargetDelta()}function lU(t){t.calcProjection()}function cU(t){t.resetSkewAndRotation()}function uU(t){t.removeLeadSnapshot()}function f2(t,e,n){t.translate=lt(e.translate,0,n),t.scale=lt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function m2(t,e,n,s){t.min=lt(e.min,n.min,s),t.max=lt(e.max,n.max,s)}function dU(t,e,n,s){m2(t.x,e.x,n.x,s),m2(t.y,e.y,n.y,s)}function hU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const fU={duration:.45,ease:[.4,0,.1,1]},p2=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),g2=p2("applewebkit/")&&!p2("chrome/")?Math.round:Fn;function x2(t){t.min=g2(t.min),t.max=g2(t.max)}function mU(t){x2(t.x),x2(t.y)}function KC(t,e,n){return t==="position"||t==="preserve-aspect"&&!x8(l2(e),l2(n),.2)}function pU(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const gU=GC({attachResizeListener:(t,e)=>tu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ap={current:void 0},QC=GC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ap.current){const t=new gU({});t.mount(window),t.setOptions({layoutScroll:!0}),Ap.current=t}return Ap.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),xU={pan:{Feature:D8},drag:{Feature:k8,ProjectionNode:QC,MeasureLayout:zC}};function y2(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,r=s[i];r&&it.postRender(()=>r(e,Ou(e)))}class yU extends Or{mount(){const{current:e}=this.node;e&&(this.unmount=x9(e,n=>(y2(this.node,n,"Start"),s=>y2(this.node,s,"End"))))}unmount(){}}class vU extends Or{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mu(tu(this.node.current,"focus",()=>this.onFocus()),tu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function v2(t,e,n){const{props:s}=t;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),r=s[i];r&&it.postRender(()=>r(e,Ou(e)))}class bU extends Or{mount(){const{current:e}=this.node;e&&(this.unmount=w9(e,n=>(v2(this.node,n,"Start"),(s,{success:i})=>v2(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const y0=new WeakMap,jp=new WeakMap,wU=t=>{const e=y0.get(t.target);e&&e(t)},_U=t=>{t.forEach(wU)};function NU({root:t,...e}){const n=t||document;jp.has(n)||jp.set(n,{});const s=jp.get(n),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver(_U,{root:t,...e})),s[i]}function SU(t,e,n){const s=NU(e);return y0.set(t,n),s.observe(t),()=>{y0.delete(t),s.unobserve(t)}}const TU={some:0,all:1};class EU extends Or{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:r}=e,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:TU[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,r&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),m=d?h:f;m&&m(c)};return SU(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(AU(e,n))&&this.startObserver()}unmount(){}}function AU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const jU={inView:{Feature:EU},tap:{Feature:bU},focus:{Feature:vU},hover:{Feature:yU}},CU={layout:{ProjectionNode:QC,MeasureLayout:zC}},v0={current:null},qC={current:!1};function RU(){if(qC.current=!0,!!Ty)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>v0.current=t.matches;t.addListener(e),e()}else v0.current=!1}const IU=[...vC,an,jr],kU=t=>IU.find(yC(t)),b2=new WeakMap;function DU(t,e,n){for(const s in e){const i=e[s],r=n[s];if(un(i))t.addValue(s,i);else if(un(r))t.addValue(s,Zc(i,{owner:t}));else if(r!==i)if(t.hasValue(s)){const o=t.getValue(s);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(s);t.addValue(s,Zc(o!==void 0?o:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const w2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class MU{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:r,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Jy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Vs.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,it.render(this.render,!1,!0))};const{latestValues:c,renderState:d,onUpdate:h}=o;this.onUpdate=h,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!r,this.isControllingVariants=Jf(n),this.isVariantNode=Aj(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in m){const S=m[y];c[y]!==void 0&&un(S)&&S.set(c[y],!1)}}mount(e){this.current=e,b2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),qC.current||RU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:v0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){b2.delete(this.current),this.projection&&this.projection.unmount(),Ar(this.notifyUpdate),Ar(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ma.has(e),i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&it.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),r=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),r(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Yo){const n=Yo[e];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[e]&&i&&s(this.props)&&(this.features[e]=new i(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<w2.length;s++){const i=w2[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r="on"+i,o=e[r];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=DU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Zc(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){var s;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(gC(i)||oC(i))?i=parseFloat(i):!kU(i)&&jr.test(n)&&(i=fC(e,n)),this.setBaseTarget(e,un(i)?i.get():i)),un(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const o=ky(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(s&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!un(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ky),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class YC extends MU{constructor(){super(...arguments),this.KeyframeResolver=bC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;un(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function OU(t){return window.getComputedStyle(t)}class VU extends YC{constructor(){super(...arguments),this.type="html",this.renderInstance=Vj}readValueFromInstance(e,n){if(Ma.has(n)){const s=Wy(n);return s&&s.default||0}else{const s=OU(e),i=(Dj(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return PC(e,n)}build(e,n,s){Oy(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return zy(e,n,s)}}class PU extends YC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ma.has(n)){const s=Wy(n);return s&&s.default||0}return n=Pj.has(n)?n:Cy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return Uj(e,n,s)}build(e,n,s){Vy(e,n,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,s,i){Lj(e,n,s,i)}mount(e){this.isSVGTag=Ly(e.tagName),super.mount(e)}}const LU=(t,e)=>Iy(t)?new PU(e):new VU(e,{allowProjection:t!==I.Fragment}),zU=u9({...l8,...jU,...xU,...CU},LU),H=TL(zU);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=t=>{const e=BU(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:r,iconNode:o,...l},c)=>I.createElement("svg",{ref:c,...FU,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:XC("lucide",i),...!r&&!$U(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,h])=>I.createElement(d,h)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=(t,e)=>{const n=I.forwardRef(({className:s,...i},r)=>I.createElement(HU,{ref:r,iconNode:e,className:XC(`lucide-${UU(_2(t))}`,`lucide-${t}`,s),...i}));return n.displayName=_2(t),n};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]],KU=ne("archive-restore",GU);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],N2=ne("archive",QU);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],YU=ne("arrow-left",qU);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],b0=ne("arrow-right",XU);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Oa=ne("award",WU);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],tc=ne("bell",JU);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],jt=ne("book-open",ZU);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],S2=ne("brain",e7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],WC=ne("calendar-days",t7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],nv=ne("calendar",n7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],_i=ne("chart-column",s7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],JC=ne("chart-pie",i7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],a7=ne("check-check",r7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],da=ne("check",o7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],c7=ne("chevron-down",l7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Wr=ne("chevron-left",u7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],nu=ne("chevron-right",d7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],f7=ne("circle-alert",h7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Rt=ne("circle-check",m7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],su=ne("circle-x",p7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],os=ne("clipboard-list",g7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Qn=ne("clock",x7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],iu=ne("copy",y7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],w0=ne("crown",v7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ZC=ne("database",b7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],e4=ne("download",w7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],N7=ne("eye-off",_7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],t4=ne("eye",S7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],_0=ne("file-check",T7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],tm=ne("file-text",E7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Ec=ne("flame",A7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],C7=ne("folder-open",j7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],I7=ne("gamepad-2",R7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],D7=ne("globe",k7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],sv=ne("graduation-cap",M7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],n4=ne("grip-vertical",O7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],P7=ne("inbox",V7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],z7=ne("info",L7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],B7=ne("languages",U7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],s4=ne("layers",F7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],i4=ne("layout-dashboard",$7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],G7=ne("link-2",H7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],r4=ne("list-ordered",K7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],q7=ne("lock",Q7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],a4=ne("log-out",Y7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],W7=ne("mail",X7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Z7=ne("medal",J7);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],tB=ne("megaphone",eB);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],sB=ne("message-square",nB);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],rB=ne("moon",iB);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],oB=ne("palette",aB);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],tf=ne("pen-line",lB);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],o4=ne("pen-tool",cB);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],T2=ne("pin",uB);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yt=ne("plus",dB);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ls=ne("rotate-ccw",hB);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ni=ne("search",fB);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],l4=ne("send",mB);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],c4=ne("settings",pB);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],xB=ne("shield",gB);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],nm=ne("shuffle",yB);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ru=ne("sparkles",vB);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],u4=ne("star",bB);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],na=ne("target",wB);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"M12 20h-1a2 2 0 0 1-2-2 2 2 0 0 1-2 2H6",key:"1528k5"}],["path",{d:"M13 8h7a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-7",key:"13ksps"}],["path",{d:"M5 16H4a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2h1",key:"1n9rhb"}],["path",{d:"M6 4h1a2 2 0 0 1 2 2 2 2 0 0 1 2-2h1",key:"1mj8rg"}],["path",{d:"M9 6v12",key:"velyjx"}]],Yd=ne("text-cursor-input",_B);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Cp=ne("timer",NB);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Na=ne("trash-2",SB);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Vu=ne("trending-up",TB);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Si=ne("triangle-alert",EB);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Pu=ne("trophy",AB);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],d4=ne("type",jB);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],RB=ne("user-minus",CB);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],kB=ne("user-plus",IB);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],h4=ne("user",DB);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],jn=ne("users",MB);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cn=ne("x",OB);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],au=ne("zap",VB),f4=I.createContext(null);function us(){const t=I.useContext(f4);if(!t)throw new Error("useToast must be inside ToastProvider");return t}const PB={success:Rt,error:su,warning:Si,info:z7},LB={success:{bg:"bg-neon-green/10",border:"border-neon-green/30",text:"text-neon-green",shadow:"shadow-[0_0_30px_rgba(0,255,136,0.1)]"},error:{bg:"bg-red-500/10",border:"border-red-500/30",text:"text-red-400",shadow:"shadow-[0_0_30px_rgba(239,68,68,0.1)]"},warning:{bg:"bg-neon-orange/10",border:"border-neon-orange/30",text:"text-neon-orange",shadow:"shadow-[0_0_30px_rgba(255,165,0,0.1)]"},info:{bg:"bg-neon-blue/10",border:"border-neon-blue/30",text:"text-neon-blue",shadow:"shadow-[0_0_30px_rgba(0,209,255,0.1)]"}};let zB=0;function UB({children:t}){const[e,n]=I.useState([]),s=I.useCallback((d,h="info",f=4e3)=>{const m=++zB;return n(y=>[...y,{id:m,message:d,type:h}]),f>0&&setTimeout(()=>{n(y=>y.filter(S=>S.id!==m))},f),m},[]),i=I.useCallback(d=>{n(h=>h.filter(f=>f.id!==d))},[]),r=I.useCallback((d,h)=>s(d,"success",h),[s]),o=I.useCallback((d,h)=>s(d,"error",h),[s]),l=I.useCallback((d,h)=>s(d,"warning",h),[s]),c=I.useCallback((d,h)=>s(d,"info",h),[s]);return a.jsxs(f4.Provider,{value:{addToast:s,removeToast:i,success:r,error:o,warning:l,info:c},children:[t,a.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-3 max-w-sm w-full pointer-events-none",style:{maxWidth:"380px"},children:a.jsx(Gn,{mode:"popLayout",children:e.map(d=>{const h=PB[d.type],f=LB[d.type];return a.jsxs(H.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,x:100,scale:.9},transition:{type:"spring",stiffness:400,damping:30},className:`pointer-events-auto flex items-start gap-3 px-4 py-3.5 rounded-xl border backdrop-blur-2xl ${f.bg} ${f.border} ${f.shadow}`,children:[a.jsx(h,{size:18,className:`${f.text} mt-0.5 shrink-0`}),a.jsx("p",{className:"text-sm text-white/90 font-medium flex-1 leading-relaxed",children:d.message}),a.jsx("button",{onClick:()=>i(d.id),className:"text-white/30 hover:text-white/60 transition-colors shrink-0 mt-0.5",children:a.jsx(cn,{size:14})})]},d.id)})})})]})}const m4=I.createContext(null);function BB(){const t=I.useContext(m4);if(!t)throw new Error("useNotifications must be inside NotificationProvider");return t}function FB({children:t}){const{user:e,isTeacher:n,isStudent:s}=ot(),{classes:i,assignments:r,submissions:o,announcements:l}=hn(),[c,d]=I.useState(new Set),[h,f]=I.useState([]),[m,y]=I.useState(!0);I.useEffect(()=>{if(!e){d(new Set),f([]),y(!1);return}(async()=>{try{const E=Ce(he,"notification_reads",e.uid),M=await ea(E);M.exists()&&d(new Set(M.data().readIds||[]))}catch(E){console.error("Error loading read notifications:",E)}finally{y(!1)}})()},[e]),I.useEffect(()=>{if(!e||m)return;const v=[],E=new Date;if(s){l.forEach(w=>{var k,C,b;if(!((k=w.readBy)==null?void 0:k.includes(e.uid))){const O=i.find(P=>P.id===w.classId);v.push({id:`ann-${w.id}`,type:"announcement",title:"New Announcement",message:`${(O==null?void 0:O.name)||"Class"}: ${((C=w.content)==null?void 0:C.substring(0,80))||"New announcement posted"}${((b=w.content)==null?void 0:b.length)>80?"...":""}`,icon:"megaphone",color:"blue",createdAt:w.createdAt,link:`/classes/${w.classId}`,pinned:w.pinned})}});const T=i.map(w=>w.id),p=o.filter(w=>w.studentId===e.uid).map(w=>w.assignmentId);r.forEach(w=>{if(!T.includes(w.classId)||p.includes(w.id))return;const A=new Date(w.dueDate),k=(A-E)/(1e3*60*60);if(k>0&&k<=48){const C=i.find(O=>O.id===w.classId),b=Math.round(k);v.push({id:`due-${w.id}`,type:"due_soon",title:"Assignment Due Soon",message:`"${w.title}" in ${(C==null?void 0:C.name)||"class"} is due in ${b<24?`${b}h`:`${Math.round(b/24)}d`}`,icon:"clock",color:"orange",createdAt:new Date(A.getTime()-48*60*60*1e3).toISOString(),link:`/assignments/${w.id}`})}if(k<0){const C=i.find(b=>b.id===w.classId);v.push({id:`overdue-${w.id}`,type:"overdue",title:"Assignment Overdue",message:`"${w.title}" in ${(C==null?void 0:C.name)||"class"} was due ${$B(A)}`,icon:"alert",color:"red",createdAt:w.dueDate,link:`/assignments/${w.id}`})}}),o.forEach(w=>{if(w.studentId!==e.uid||w.grade==null)return;const A=r.find(O=>O.id===w.assignmentId);if(!A)return;const k=i.find(O=>O.id===A.classId),C=A.totalPoints||100,b=Math.round(w.grade/C*100);v.push({id:`grade-${w.id}`,type:"graded",title:"Assignment Graded",message:`"${A.title}" in ${(k==null?void 0:k.name)||"class"}: ${w.grade}/${C} (${b}%)`,icon:"star",color:b>=80?"green":b>=60?"orange":"red",createdAt:w.gradedAt||w.submittedAt,link:"/grades"})}),r.forEach(w=>{if(!T.includes(w.classId))return;const A=new Date(w.createdAt);if((E-A)/(1e3*60*60*24)<=7&&!p.includes(w.id)){const C=i.find(b=>b.id===w.classId);v.push({id:`new-${w.id}`,type:"new_assignment",title:"New Assignment",message:`"${w.title}" posted in ${(C==null?void 0:C.name)||"class"}`,icon:"book",color:"purple",createdAt:w.createdAt,link:`/assignments/${w.id}`})}})}else if(n){const T=o.filter(w=>w.grade==null),p=i.map(w=>w.id);T.forEach(w=>{const A=r.find(C=>C.id===w.assignmentId);if(!A||!p.includes(A.classId))return;const k=i.find(C=>C.id===A.classId);v.push({id:`sub-${w.id}`,type:"submission",title:"New Submission",message:`New submission for "${A.title}" in ${(k==null?void 0:k.name)||"class"}`,icon:"inbox",color:"blue",createdAt:w.submittedAt,link:"/assignments"})}),r.forEach(w=>{var P;if(!p.includes(w.classId)||new Date(w.dueDate)>E)return;const k=i.find(V=>V.id===w.classId),C=((P=k==null?void 0:k.students)==null?void 0:P.length)||0;if(C===0)return;const b=o.filter(V=>V.assignmentId===w.id).length;b/C*100<50&&v.push({id:`low-${w.id}`,type:"low_completion",title:"Low Completion Rate",message:`"${w.title}" in ${(k==null?void 0:k.name)||"class"}: only ${b}/${C} students submitted`,icon:"alert",color:"orange",createdAt:w.dueDate,link:"/assignments"})})}const M=new Map;v.forEach(T=>{M.has(T.id)||M.set(T.id,T)});const L=Array.from(M.values()).sort((T,p)=>new Date(p.createdAt)-new Date(T.createdAt));f(L)},[e,n,s,i,r,o,l,m]);const S=I.useCallback(async v=>{if(e){d(E=>{const M=new Set(E);return M.add(v),M});try{const E=Ce(he,"notification_reads",e.uid),M=await ea(E);if(M.exists()){const L=M.data().readIds||[];L.includes(v)||await Gt(E,{readIds:[...L,v]})}else await Bi(E,{readIds:[v],updatedAt:new Date().toISOString()})}catch(E){console.error("Error marking notification as read:",E)}}},[e]),R=I.useCallback(async()=>{if(!e)return;const v=h.map(E=>E.id);d(new Set(v));try{const E=Ce(he,"notification_reads",e.uid);await Bi(E,{readIds:v,updatedAt:new Date().toISOString()})}catch(E){console.error("Error marking all notifications as read:",E)}},[e,h]),j=I.useCallback(v=>c.has(v),[c]),N=h.filter(v=>!c.has(v.id)).length,x={notifications:h,unreadCount:N,markAsRead:S,markAllAsRead:R,isRead:j,loading:m};return a.jsx(m4.Provider,{value:x,children:t})}function $B(t){const e=new Date,n=new Date(t),s=e-n,i=Math.floor(s/(1e3*60)),r=Math.floor(s/(1e3*60*60)),o=Math.floor(s/(1e3*60*60*24));return i<60?`${i}m ago`:r<24?`${r}h ago`:o<7?`${o}d ago`:n.toLocaleDateString()}const HB=[{to:"/dashboard",icon:i4,label:"Dashboard"},{to:"/classes",icon:jt,label:"My Classes"},{to:"/students",icon:jn,label:"Students"},{to:"/assignments",icon:os,label:"Assignments"},{to:"/grades",icon:_i,label:"Gradebook"},{to:"/question-bank",icon:ZC,label:"Question Bank"},{to:"/reports",icon:JC,label:"Reports"},{to:"/settings",icon:c4,label:"Settings"}],GB=[{to:"/dashboard",icon:i4,label:"Dashboard"},{to:"/my-classes",icon:jt,label:"My Classes"},{to:"/assignments",icon:os,label:"Assignments"},{to:"/grades",icon:_i,label:"My Grades"},{to:"/calendar",icon:WC,label:"Calendar"},{to:"/achievements",icon:Pu,label:"Achievements"},{to:"/practice",icon:I7,label:"Practice"},{to:"/settings",icon:c4,label:"Settings"}];function KB({mobileOpen:t,onClose:e}){var d,h;const{userProfile:n,isTeacher:s,logout:i}=ot(),r=yn(),o=Ca(),l=s?HB:GB;I.useEffect(()=>{t&&e&&e()},[o.pathname]);const c=async()=>{await i(),r("/")};return a.jsxs("aside",{className:`fixed left-0 top-0 h-full z-40 transition-all duration-300 flex flex-col w-64
                bg-surface-950/95 backdrop-blur-2xl border-r border-white/[0.06]
                ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[a.jsxs("div",{className:"p-5 flex items-center justify-between border-b border-white/[0.06]",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-neon-blue to-neon-purple flex items-center justify-center flex-shrink-0",children:a.jsx(sv,{size:22,className:"text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"font-display font-bold text-base bg-gradient-to-r from-neon-blue to-neon-purple bg-clip-text text-transparent",children:"EnglishMaster"}),a.jsx("p",{className:"text-[10px] text-white/40 uppercase tracking-widest",children:"Pro"})]})]}),a.jsx("button",{onClick:e,className:"lg:hidden w-8 h-8 rounded-lg bg-white/[0.04] border border-white/10 flex items-center justify-center text-white/50 hover:text-white transition-colors",children:a.jsx(cn,{size:16})})]}),a.jsx("div",{className:"px-5 pt-4 pb-2",children:a.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-lg text-[10px] font-bold uppercase tracking-wider ${s?"bg-neon-purple/10 text-neon-purple border border-neon-purple/20":"bg-neon-green/10 text-neon-green border border-neon-green/20"}`,children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${s?"bg-neon-purple":"bg-neon-green"}`}),s?"Teacher":"Student"]})}),a.jsx("nav",{className:"flex-1 py-2 px-3 space-y-1 overflow-y-auto",children:l.map(f=>a.jsxs(Fk,{to:f.to,className:({isActive:m})=>`flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium transition-all duration-200
              ${m?"bg-neon-blue/10 text-neon-blue shadow-[inset_0_0_20px_rgba(0,209,255,0.05)]":"text-white/50 hover:text-white/80 hover:bg-white/[0.04]"}`,children:[a.jsx(f.icon,{size:20,className:"flex-shrink-0"}),a.jsx("span",{children:f.label})]},f.to))}),a.jsxs("div",{className:"p-3 border-t border-white/[0.06]",children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-white/[0.03]",children:[a.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-neon-blue to-neon-purple flex items-center justify-center text-white font-bold text-sm flex-shrink-0",children:((h=(d=n==null?void 0:n.displayName)==null?void 0:d[0])==null?void 0:h.toUpperCase())||"?"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-white truncate",children:n==null?void 0:n.displayName}),a.jsx("p",{className:"text-xs text-white/40 truncate",children:n==null?void 0:n.email})]})]}),a.jsxs("button",{onClick:c,className:"mt-2 w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm text-white/40 hover:text-red-400 hover:bg-red-500/10 transition-all duration-200",children:[a.jsx(a4,{size:18}),a.jsx("span",{children:"Sign Out"})]})]})]})}function QB(){const[t,e]=I.useState(!1);return a.jsxs("div",{className:"min-h-screen bg-surface-950 relative",children:[a.jsx("div",{className:"orb orb-1"}),a.jsx("div",{className:"orb orb-2"}),a.jsx("div",{className:"orb orb-3"}),a.jsx(KB,{mobileOpen:t,onClose:()=>e(!1)}),t&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 lg:hidden",onClick:()=>e(!1)}),a.jsxs("main",{className:"lg:ml-64 relative z-10 min-h-screen transition-all duration-300",children:[a.jsxs("div",{className:"lg:hidden sticky top-0 z-20 px-4 py-3 bg-surface-950/80 backdrop-blur-xl border-b border-white/[0.06] flex items-center gap-3",children:[a.jsx("button",{onClick:()=>e(!0),className:"w-10 h-10 rounded-xl bg-white/[0.04] border border-white/[0.08] flex items-center justify-center text-white/60 hover:text-white hover:border-neon-blue/30 transition-all",children:a.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",children:[a.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),a.jsx("line",{x1:"3",y1:"12",x2:"15",y2:"12"}),a.jsx("line",{x1:"3",y1:"18",x2:"18",y2:"18"})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-neon-blue to-neon-purple flex items-center justify-center",children:a.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M22 10v6M2 10l10-5 10 5-10 5z"}),a.jsx("path",{d:"M6 12v5c3 3 9 3 12 0v-5"})]})}),a.jsx("span",{className:"font-display font-bold text-sm bg-gradient-to-r from-neon-blue to-neon-purple bg-clip-text text-transparent",children:"EnglishMaster"})]})]}),a.jsx(jk,{})]})]})}function qB(){const t=yn(),{demoLogin:e}=ot(),[n,s]=I.useState(!1),[i,r]=I.useState(null),[o,l]=I.useState(!1),c=d=>{e(d),t("/dashboard")};return a.jsxs("div",{className:"min-h-screen bg-surface-950 relative overflow-hidden",children:[a.jsx("div",{className:"orb orb-1"}),a.jsx("div",{className:"orb orb-2"}),a.jsx("div",{className:"orb orb-3"}),a.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)",backgroundSize:"60px 60px"}}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("header",{className:"flex items-center justify-between px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-neon-blue to-neon-purple flex items-center justify-center",children:a.jsx(sv,{size:22,className:"text-white"})}),a.jsx("span",{className:"font-display font-bold text-lg bg-gradient-to-r from-neon-blue to-neon-purple bg-clip-text text-transparent",children:"EnglishMaster Pro"})]})}),a.jsxs("main",{className:"max-w-6xl mx-auto px-8 pt-16 pb-24",children:[a.jsxs(H.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"text-center mb-16",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-neon-blue/10 border border-neon-blue/20 mb-8",children:[a.jsx(ru,{size:14,className:"text-neon-blue"}),a.jsx("span",{className:"text-xs font-medium text-neon-blue",children:"Premium Class Management System"})]}),a.jsxs("h1",{className:"font-display text-5xl md:text-7xl font-extrabold mb-6 leading-tight",children:[a.jsx("span",{className:"text-white",children:"Master English"}),a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-neon-blue via-neon-purple to-neon-pink bg-clip-text text-transparent",children:"Like Never Before"})]}),a.jsx("p",{className:"text-lg text-white/50 max-w-2xl mx-auto mb-12 leading-relaxed",children:"The ultimate platform for teachers and students. Create classes, manage assignments, track progress, and achieve English fluency with a premium experience."}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[a.jsxs("button",{onClick:()=>{r("teacher"),s(!0)},className:"group relative w-72",children:[a.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-neon-blue to-neon-purple rounded-2xl opacity-60 blur group-hover:opacity-100 transition-all duration-300"}),a.jsxs("div",{className:"relative glass-card p-6 flex items-center gap-4 cursor-pointer hover:scale-[1.02] transition-transform",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-neon-blue/20 to-neon-blue/5 border border-neon-blue/20 flex items-center justify-center",children:a.jsx(jt,{className:"text-neon-blue",size:24})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-semibold text-white",children:"I'm a Teacher"}),a.jsx("p",{className:"text-xs text-white/40",children:"Create & manage classes"})]}),a.jsx(b0,{size:18,className:"text-white/30 ml-auto group-hover:text-neon-blue group-hover:translate-x-1 transition-all"})]})]}),a.jsxs("button",{onClick:()=>{r("student"),s(!0)},className:"group relative w-72",children:[a.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-neon-purple to-neon-pink rounded-2xl opacity-60 blur group-hover:opacity-100 transition-all duration-300"}),a.jsxs("div",{className:"relative glass-card p-6 flex items-center gap-4 cursor-pointer hover:scale-[1.02] transition-transform",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-neon-purple/20 to-neon-purple/5 border border-neon-purple/20 flex items-center justify-center",children:a.jsx(jn,{className:"text-neon-purple",size:24})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-semibold text-white",children:"I'm a Student"}),a.jsx("p",{className:"text-xs text-white/40",children:"Join & learn"})]}),a.jsx(b0,{size:18,className:"text-white/30 ml-auto group-hover:text-neon-purple group-hover:translate-x-1 transition-all"})]})]})]})]}),a.jsx(H.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-3xl mx-auto",children:[{value:"50+",label:"Features"},{value:"",label:"Students"},{value:"Real-time",label:"Grading"},{value:"Premium",label:"Experience"}].map((d,h)=>a.jsxs("div",{className:"glass-card p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-display font-bold bg-gradient-to-r from-neon-blue to-neon-purple bg-clip-text text-transparent",children:d.value}),a.jsx("p",{className:"text-xs text-white/40 mt-1",children:d.label})]},h))})]})]}),a.jsx(Gn,{children:n&&a.jsx(YB,{role:i,isRegister:o,setIsRegister:l,onClose:()=>{s(!1),l(!1)},onDemoLogin:c})})]})}function YB({role:t,isRegister:e,setIsRegister:n,onClose:s,onDemoLogin:i}){const{login:r,register:o,loginWithStudentCode:l,isProduction:c}=ot(),d=yn(),[h,f]=I.useState(""),[m,y]=I.useState(""),[S,R]=I.useState(""),[j,N]=I.useState(!1),[x,v]=I.useState(""),[E,M]=I.useState(!1);t==="student"&&e&&n(!1);const L=async T=>{T.preventDefault(),v(""),M(!0);try{t==="student"?await l(h,m):e?await o(h,m,S,t):await r(h,m),d("/dashboard")}catch(p){v(p.message||"Authentication failed"),M(!1)}};return a.jsxs(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:s}),a.jsxs(H.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"relative w-full max-w-md",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-neon-blue to-neon-purple rounded-3xl opacity-30 blur-xl"}),a.jsxs("div",{className:"relative glass-card p-8 rounded-2xl",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"w-14 h-14 mx-auto rounded-2xl bg-gradient-to-br from-neon-blue to-neon-purple flex items-center justify-center mb-4",children:t==="teacher"?a.jsx(jt,{className:"text-white",size:28}):a.jsx(jn,{className:"text-white",size:28})}),a.jsx("h2",{className:"text-2xl font-display font-bold text-white",children:e?"Create Account":"Welcome Back"}),a.jsx("p",{className:"text-sm text-white/40 mt-1 capitalize",children:t==="student"?"Enter your credentials":`Sign ${e?"up":"in"} as ${t}`})]}),x&&a.jsx("div",{className:"mb-4 p-3 rounded-xl bg-red-500/10 border border-red-500/20 text-sm text-red-400",children:x}),a.jsxs("form",{onSubmit:L,className:"space-y-4",children:[e&&t==="teacher"&&a.jsxs("div",{className:"relative",children:[a.jsx(h4,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/30"}),a.jsx("input",{type:"text",placeholder:"Full Name",value:S,onChange:T=>R(T.target.value),className:"input-glass pl-11",required:!0})]}),a.jsxs("div",{className:"relative",children:[a.jsx(W7,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/30"}),a.jsx("input",{type:"email",placeholder:"Email Address",value:h,onChange:T=>f(T.target.value),className:"input-glass pl-11",required:!0})]}),a.jsxs("div",{className:"relative",children:[a.jsx(q7,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/30"}),a.jsx("input",{type:j?"text":"password",placeholder:t==="student"?"Access Code (e.g. AB12CD)":"Password",value:m,onChange:T=>y(T.target.value),className:"input-glass pl-11 pr-11",required:!0,maxLength:t==="student"?6:void 0,style:t==="student"?{textTransform:"uppercase",letterSpacing:"2px"}:{}}),a.jsx("button",{type:"button",onClick:()=>N(!j),className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/30 hover:text-white/60",children:j?a.jsx(N7,{size:18}):a.jsx(t4,{size:18})})]}),a.jsx("button",{type:"submit",disabled:E,className:"btn-neon w-full",children:E?"Please wait...":e?"Create Account":t==="student"?"Enter Class":"Sign In"})]}),a.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[a.jsx("div",{className:"flex-1 h-px bg-white/10"}),a.jsx("span",{className:"text-xs text-white/30",children:"or"}),a.jsx("div",{className:"flex-1 h-px bg-white/10"})]}),!c&&a.jsxs("button",{onClick:()=>i(t),className:"mt-4 btn-ghost w-full text-center flex items-center justify-center gap-2",children:[a.jsx(ru,{size:16}),"Try Demo Mode"]}),t==="teacher"&&a.jsxs("p",{className:"mt-4 text-center text-sm text-white/40",children:[e?"Already have an account?":"Don't have an account?"," ",a.jsx("button",{onClick:()=>n(!e),className:"text-neon-blue hover:underline",children:e?"Sign In":"Register"})]}),t==="student"&&a.jsx("p",{className:"mt-4 text-center text-xs text-white/30",children:"Don't have a code? Ask your teacher to register you."})]})]})]})}const XB={megaphone:tB,clock:Qn,alert:Si,star:u4,book:jt,inbox:P7},E2={blue:{bg:"bg-neon-blue/10",border:"border-neon-blue/20",text:"text-neon-blue",dot:"bg-neon-blue",glow:"shadow-[0_0_12px_rgba(0,209,255,0.3)]"},purple:{bg:"bg-neon-purple/10",border:"border-neon-purple/20",text:"text-neon-purple",dot:"bg-neon-purple",glow:"shadow-[0_0_12px_rgba(168,85,247,0.3)]"},green:{bg:"bg-neon-green/10",border:"border-neon-green/20",text:"text-neon-green",dot:"bg-neon-green",glow:"shadow-[0_0_12px_rgba(0,255,136,0.3)]"},orange:{bg:"bg-neon-orange/10",border:"border-neon-orange/20",text:"text-neon-orange",dot:"bg-neon-orange",glow:"shadow-[0_0_12px_rgba(255,165,0,0.3)]"},red:{bg:"bg-red-500/10",border:"border-red-500/20",text:"text-red-400",dot:"bg-red-500",glow:"shadow-[0_0_12px_rgba(239,68,68,0.3)]"}};function WB(t){if(!t)return"";const e=new Date,n=new Date(t),s=e-n,i=Math.floor(s/(1e3*60)),r=Math.floor(s/(1e3*60*60)),o=Math.floor(s/(1e3*60*60*24));return i<1?"Just now":i<60?`${i}m ago`:r<24?`${r}h ago`:o<7?`${o}d ago`:n.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function JB(){const[t,e]=I.useState(!1),[n,s]=I.useState("all"),i=I.useRef(null),r=yn(),{notifications:o,unreadCount:l,markAsRead:c,markAllAsRead:d,isRead:h}=BB();I.useEffect(()=>{function y(S){i.current&&!i.current.contains(S.target)&&e(!1)}if(t)return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[t]),I.useEffect(()=>{function y(S){S.key==="Escape"&&e(!1)}if(t)return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[t]);const f=n==="unread"?o.filter(y=>!h(y.id)):o,m=y=>{c(y.id),y.link&&(r(y.link),e(!1))};return a.jsxs("div",{className:"relative",ref:i,children:[a.jsxs("button",{onClick:()=>e(!t),className:`relative w-10 h-10 rounded-xl flex items-center justify-center transition-all duration-300 ${t?"bg-neon-blue/20 border border-neon-blue/40 text-neon-blue shadow-[0_0_20px_rgba(0,209,255,0.2)]":"bg-white/[0.04] border border-white/[0.06] text-white/40 hover:text-white hover:border-neon-blue/30"}`,children:[a.jsx(tc,{size:18,className:t?"animate-wiggle":""}),a.jsx(Gn,{children:l>0&&a.jsx(H.span,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"absolute -top-1.5 -right-1.5 min-w-[20px] h-5 px-1 rounded-full bg-gradient-to-r from-neon-blue to-neon-purple text-[10px] font-bold flex items-center justify-center text-white shadow-[0_0_12px_rgba(0,209,255,0.4)]",children:l>99?"99+":l})})]}),a.jsx(Gn,{children:t&&a.jsxs(H.div,{initial:{opacity:0,y:-8,scale:.96},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-8,scale:.96},transition:{type:"spring",stiffness:400,damping:30},className:"absolute right-0 top-[calc(100%+8px)] w-[380px] max-h-[520px] rounded-2xl border border-white/[0.08] bg-surface-950/95 backdrop-blur-2xl shadow-2xl shadow-black/40 overflow-hidden z-50",children:[a.jsxs("div",{className:"px-5 pt-5 pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-neon-blue/20 to-neon-purple/20 border border-neon-blue/20 flex items-center justify-center",children:a.jsx(tc,{size:14,className:"text-neon-blue"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-white",children:"Notifications"}),a.jsx("p",{className:"text-[11px] text-white/30",children:l>0?`${l} unread`:"All caught up!"})]})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[l>0&&a.jsxs("button",{onClick:d,className:"flex items-center gap-1 px-2.5 py-1.5 rounded-lg text-[11px] font-medium text-neon-green/70 hover:text-neon-green hover:bg-neon-green/10 transition-all",title:"Mark all as read",children:[a.jsx(a7,{size:12}),a.jsx("span",{children:"Read all"})]}),a.jsx("button",{onClick:()=>e(!1),className:"w-7 h-7 rounded-lg flex items-center justify-center text-white/20 hover:text-white/50 hover:bg-white/5 transition-all",children:a.jsx(cn,{size:14})})]})]}),a.jsxs("div",{className:"flex gap-1 p-0.5 rounded-lg bg-white/[0.03] border border-white/[0.04]",children:[a.jsxs("button",{onClick:()=>s("all"),className:`flex-1 py-1.5 rounded-md text-[11px] font-medium transition-all ${n==="all"?"bg-white/[0.08] text-white shadow-sm":"text-white/30 hover:text-white/50"}`,children:["All (",o.length,")"]}),a.jsxs("button",{onClick:()=>s("unread"),className:`flex-1 py-1.5 rounded-md text-[11px] font-medium transition-all ${n==="unread"?"bg-white/[0.08] text-white shadow-sm":"text-white/30 hover:text-white/50"}`,children:["Unread (",l,")"]})]})]}),a.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-white/[0.06] to-transparent"}),a.jsx("div",{className:"overflow-y-auto max-h-[350px] notification-scroll",children:f.length===0?a.jsxs("div",{className:"py-12 text-center",children:[a.jsx("div",{className:"w-14 h-14 mx-auto mb-3 rounded-2xl bg-white/[0.03] border border-white/[0.06] flex items-center justify-center",children:a.jsx(tc,{size:22,className:"text-white/10"})}),a.jsx("p",{className:"text-sm text-white/20 font-medium",children:n==="unread"?"No unread notifications":"No notifications yet"}),a.jsx("p",{className:"text-[11px] text-white/10 mt-1",children:n==="unread"?"You're all caught up! ":"Check back later"})]}):a.jsx("div",{className:"py-1",children:f.map((y,S)=>{const R=XB[y.icon]||tc,j=E2[y.color]||E2.blue,N=h(y.id);return a.jsxs(H.button,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:S*.03},onClick:()=>m(y),className:`w-full text-left px-5 py-3.5 flex items-start gap-3 transition-all duration-200 relative group ${N?"opacity-50 hover:opacity-80":"hover:bg-white/[0.03]"}`,children:[!N&&a.jsx("span",{className:`absolute left-1.5 top-1/2 -translate-y-1/2 w-1.5 h-1.5 rounded-full ${j.dot} ${j.glow}`}),a.jsx("div",{className:`w-9 h-9 rounded-xl ${j.bg} border ${j.border} flex items-center justify-center shrink-0 mt-0.5`,children:a.jsx(R,{size:15,className:j.text})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:`text-xs font-semibold ${N?"text-white/40":"text-white/80"}`,children:y.title}),y.pinned&&a.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded bg-neon-orange/20 text-neon-orange font-bold",children:"PINNED"})]}),a.jsx("p",{className:`text-[11px] leading-relaxed mt-0.5 ${N?"text-white/20":"text-white/40"}`,children:y.message}),a.jsx("p",{className:"text-[10px] text-white/15 mt-1",children:WB(y.createdAt)})]}),!N&&a.jsx("button",{onClick:x=>{x.stopPropagation(),c(y.id)},className:"opacity-0 group-hover:opacity-100 w-7 h-7 rounded-lg flex items-center justify-center text-white/20 hover:text-neon-green hover:bg-neon-green/10 transition-all shrink-0 mt-1",title:"Mark as read",children:a.jsx(da,{size:12})})]},y.id)})})}),o.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-white/[0.06] to-transparent"}),a.jsx("div",{className:"px-5 py-3 flex items-center justify-center",children:a.jsxs("p",{className:"text-[11px] text-white/15",children:["Showing ",f.length," of ",o.length," notifications"]})})]})]})})]})}function Mt({title:t,subtitle:e,actions:n}){const[s,i]=I.useState(!1);return a.jsxs("header",{className:"sticky top-0 z-30 bg-surface-950/60 backdrop-blur-xl border-b border-white/[0.04]",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-display font-bold text-white",children:t}),e&&a.jsx("p",{className:"text-sm text-white/40 mt-0.5",children:e})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>i(!s),className:"w-10 h-10 rounded-xl bg-white/[0.04] border border-white/[0.06] flex items-center justify-center text-white/40 hover:text-white hover:border-neon-blue/30 transition-all",children:a.jsx(Ni,{size:18})}),a.jsx(JB,{}),n]})]}),s&&a.jsx("div",{className:"px-6 pb-4 animate-slide-down",children:a.jsxs("div",{className:"relative",children:[a.jsx(Ni,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/30"}),a.jsx("input",{autoFocus:!0,placeholder:"Search classes, students, assignments...",className:"input-glass pl-11",onKeyDown:r=>r.key==="Escape"&&i(!1)})]})})]})}function ZB(){var N;const{userProfile:t}=ot(),{classes:e,assignments:n,submissions:s,allStudents:i,announcements:r,getClassSubmissionStats:o}=hn(),l=yn(),c=e.filter(x=>!x.archived),d=new Set(c.flatMap(x=>x.students||[])).size,h=n.length,f=s.filter(x=>x.status==="pending"||x.grade==null&&x.status!=="graded"),m=s.sort((x,v)=>new Date(v.submittedAt)-new Date(x.submittedAt)).slice(0,6),y=s.filter(x=>x.grade!=null),S=y.length>0?Math.round(y.reduce((x,v)=>{const E=n.find(L=>L.id===v.assignmentId),M=(E==null?void 0:E.totalPoints)||100;return x+v.grade/M*100},0)/y.length):0;r.sort((x,v)=>new Date(v.createdAt)-new Date(x.createdAt)).slice(0,3);const R={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.08}}},j={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return a.jsxs("div",{className:"min-h-screen pb-20",children:[a.jsx(Mt,{title:`Hello, ${((N=t==null?void 0:t.displayName)==null?void 0:N.split(" ")[0])||"Teacher"}`,subtitle:`${new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}`,actions:a.jsxs("button",{onClick:()=>l("/classes"),className:"btn-neon text-sm px-4 py-2 flex items-center gap-2",children:[a.jsx(Yt,{size:16})," New Class"]})}),a.jsxs(H.div,{variants:R,initial:"hidden",animate:"show",className:"p-4 sm:p-6 space-y-6 max-w-7xl mx-auto",children:[a.jsx(H.div,{variants:j,className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[{icon:jt,label:"Classes",value:c.length,color:"neon-blue",glow:"rgba(0,209,255,0.08)"},{icon:jn,label:"Students",value:d,color:"neon-green",glow:"rgba(0,255,136,0.08)"},{icon:os,label:"Assignments",value:h,color:"neon-purple",glow:"rgba(139,92,246,0.08)"},{icon:_i,label:"Avg Grade",value:`${S}%`,color:"neon-orange",glow:"rgba(255,165,0,0.08)"}].map((x,v)=>a.jsxs("div",{className:"glass-card p-3 sm:p-5 group hover:scale-[1.02] transition-all cursor-pointer",style:{boxShadow:`0 0 30px ${x.glow}`},onClick:()=>l(v===0?"/classes":v===1?"/students":v===2?"/assignments":"/grades"),children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[a.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-xl bg-${x.color}/10 border border-${x.color}/20 flex items-center justify-center`,children:a.jsx(x.icon,{size:16,className:`text-${x.color}`})}),a.jsx("p",{className:"text-xs sm:text-sm text-white/40",children:x.label})]}),a.jsx("p",{className:`text-xl sm:text-3xl font-display font-black text-${x.color}`,children:x.value})]},v))}),f.length>0&&a.jsx(H.div,{variants:j,className:"glass-card p-4 border-l-4 border-l-neon-orange bg-neon-orange/5 cursor-pointer hover:bg-neon-orange/10 transition-colors",onClick:()=>l("/grades"),children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Si,{size:20,className:"text-neon-orange"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"text-neon-orange font-semibold text-sm",children:[f.length," submissions awaiting grading"]}),a.jsx("p",{className:"text-xs text-white/30 mt-0.5",children:"Click to open gradebook"})]}),a.jsx("span",{className:"px-3 py-1 rounded-lg bg-neon-orange/10 border border-neon-orange/20 text-neon-orange font-bold text-sm",children:f.length})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(H.div,{variants:j,className:"glass-card p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-base font-display font-bold text-white flex items-center gap-2",children:[a.jsx(_0,{size:18,className:"text-neon-blue"})," Recent Submissions"]}),a.jsx("button",{onClick:()=>l("/grades"),className:"text-xs text-neon-blue hover:text-neon-blue/80 transition-colors",children:"View All"})]}),m.length===0?a.jsx("p",{className:"text-sm text-white/30 text-center py-8",children:"No submissions yet"}):a.jsx("div",{className:"space-y-3",children:m.map(x=>{const v=n.find(L=>L.id===x.assignmentId),E=i.find(L=>L.id===x.studentId),M=x.grade!=null;return a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-white/[0.02] border border-white/[0.04]",children:[a.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center text-xs font-bold shrink-0 ${M?"bg-neon-green/10 text-neon-green border border-neon-green/20":"bg-neon-orange/10 text-neon-orange border border-neon-orange/20"}`,children:M?a.jsx(Rt,{size:16}):a.jsx(Qn,{size:16})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-white truncate",children:(E==null?void 0:E.displayName)||x.studentName||"Student"}),a.jsx("p",{className:"text-xs text-white/30 truncate",children:v==null?void 0:v.title})]}),a.jsx("div",{className:"text-right shrink-0",children:M?a.jsxs("span",{className:"text-sm font-bold text-neon-green",children:[x.grade,"/",(v==null?void 0:v.totalPoints)||100]}):a.jsx("span",{className:"text-xs text-neon-orange",children:"Pending"})})]},x.id)})})]}),a.jsxs(H.div,{variants:j,className:"glass-card p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-base font-display font-bold text-white flex items-center gap-2",children:[a.jsx(jt,{size:18,className:"text-neon-purple"})," Your Classes"]}),a.jsx("button",{onClick:()=>l("/classes"),className:"text-xs text-neon-blue hover:text-neon-blue/80 transition-colors",children:"Manage"})]}),c.length===0?a.jsx("p",{className:"text-sm text-white/30 text-center py-8",children:"Create your first class!"}):a.jsx("div",{className:"space-y-3",children:c.slice(0,5).map(x=>{var E;o(x.id);const v=n.filter(M=>M.classId===x.id);return a.jsxs("button",{onClick:()=>l(`/classes/${x.id}`),className:"w-full flex items-center gap-3 p-3 rounded-xl bg-white/[0.02] border border-white/[0.04] hover:border-neon-blue/20 transition-all text-left group",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-neon-blue/20 to-neon-purple/20 flex items-center justify-center shrink-0 border border-white/5",children:a.jsx(jt,{size:18,className:"text-neon-blue"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-white truncate",children:x.name}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/30 mt-0.5",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(jn,{size:10})," ",((E=x.students)==null?void 0:E.length)||0]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(os,{size:10})," ",v.length]})]})]}),a.jsx("div",{className:"text-right shrink-0",children:a.jsx("p",{className:"text-xs font-mono text-neon-blue/50",children:x.code})})]},x.id)})})]})]}),a.jsxs(H.div,{variants:j,children:[a.jsx("h3",{className:"text-sm text-white/30 uppercase tracking-wider mb-3",children:"Quick Actions"}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{icon:Yt,label:"New Class",action:()=>l("/classes"),color:"neon-blue"},{icon:os,label:"New Assignment",action:()=>l("/assignments"),color:"neon-green"},{icon:Oa,label:"Grade Work",action:()=>l("/grades"),color:"neon-purple"},{icon:jn,label:"Manage Students",action:()=>l("/students"),color:"neon-orange"}].map((x,v)=>a.jsxs("button",{onClick:x.action,className:"glass-card p-4 text-center hover:scale-[1.03] transition-all group",children:[a.jsx("div",{className:`w-10 h-10 mx-auto rounded-xl bg-${x.color}/10 border border-${x.color}/20 flex items-center justify-center mb-2 group-hover:scale-110 transition-transform`,children:a.jsx(x.icon,{size:20,className:`text-${x.color}`})}),a.jsx("p",{className:"text-xs sm:text-sm font-medium text-white/60 group-hover:text-white transition-colors",children:x.label})]},v))})]})]})]})}function eF(){const{classes:t,addClass:e,deleteClass:n,archiveClass:s,unarchiveClass:i,getClassAssignments:r}=hn(),{userProfile:o,isTeacher:l}=ot(),c=us(),d=yn(),[h,f]=I.useState(!1),[m,y]=I.useState(null),[S,R]=I.useState(""),[j,N]=I.useState(!1),[x,v]=I.useState(null),E=(C,b)=>{b==null||b.stopPropagation(),navigator.clipboard.writeText(C),y(C),c.success("Code copied!"),setTimeout(()=>y(null),2e3)},M=async(C,b)=>{b==null||b.stopPropagation();try{await n(C),c.success("Class deleted"),v(null)}catch{c.error("Failed to delete class")}},L=async(C,b,O)=>{O==null||O.stopPropagation();try{b?(await i(C),c.info("Class restored")):(await s(C),c.info("Class archived"))}catch{c.error("Failed to update class")}},T=I.useMemo(()=>t.filter(C=>{if(!j&&C.archived||j&&!C.archived)return!1;if(S){const b=S.toLowerCase();return C.name.toLowerCase().includes(b)||(C.description||"").toLowerCase().includes(b)}return!0}),[t,S,j]),p=t.filter(C=>C.archived).length,w={blue:{bg:"from-neon-blue to-blue-600"},purple:{bg:"from-neon-purple to-purple-600"},green:{bg:"from-neon-green to-emerald-600"},orange:{bg:"from-neon-orange to-amber-600"}},A={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.06}}},k={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return a.jsxs("div",{className:"min-h-screen pb-20",children:[a.jsx(Mt,{title:"My Classes",subtitle:`${t.filter(C=>!C.archived).length} active class${t.filter(C=>!C.archived).length!==1?"es":""}`,actions:l&&a.jsxs("button",{onClick:()=>f(!0),className:"btn-neon flex items-center gap-2 text-sm px-4 py-2",children:[a.jsx(Yt,{size:16})," Create"]})}),a.jsxs("div",{className:"p-4 sm:p-6 space-y-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:items-center",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(Ni,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/20"}),a.jsx("input",{value:S,onChange:C=>R(C.target.value),placeholder:"Search classes...",className:"input-glass pl-10 text-sm"})]}),p>0&&a.jsxs("button",{onClick:()=>N(!j),className:`flex items-center gap-2 px-3 py-2 rounded-xl text-xs transition-all ${j?"bg-neon-orange/10 border border-neon-orange/20 text-neon-orange":"bg-white/[0.04] border border-white/[0.08] text-white/40 hover:text-white/60"}`,children:[a.jsx(N2,{size:14})," ",j?`Archived (${p})`:`Show Archived (${p})`]})]}),a.jsxs(H.div,{variants:A,initial:"hidden",animate:"show",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-5",children:[T.map(C=>{var P;const b=w[C.color]||w.blue,O=r(C.id);return a.jsx(H.div,{variants:k,children:a.jsxs("div",{className:`glass-card group hover:border-white/10 cursor-pointer transition-all duration-300 overflow-hidden ${C.archived?"opacity-60":""}`,onClick:()=>d(`/classes/${C.id}`),children:[a.jsx("div",{className:`h-2 bg-gradient-to-r ${b.bg}`}),a.jsxs("div",{className:"p-4 sm:p-5",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3 gap-2",children:[a.jsx("div",{className:`w-10 h-10 sm:w-11 sm:h-11 rounded-xl bg-gradient-to-br ${b.bg} flex items-center justify-center shadow-lg shrink-0`,children:a.jsx(jt,{size:18,className:"text-white"})}),a.jsxs("button",{onClick:V=>E(C.code,V),className:"flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg bg-white/[0.04] border border-white/[0.06] text-xs text-white/50 hover:text-white hover:border-neon-blue/30 transition-all",children:[m===C.code?a.jsx(da,{size:12,className:"text-neon-green"}):a.jsx(iu,{size:12}),a.jsx("span",{className:"font-mono",children:C.code})]})]}),a.jsx("h3",{className:"font-semibold text-white mb-1 group-hover:text-neon-blue transition-colors line-clamp-1 text-sm sm:text-base",children:C.name}),a.jsx("p",{className:"text-xs sm:text-sm text-white/40 line-clamp-2 mb-4",children:C.description}),a.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-white/[0.04]",children:[a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[a.jsxs("span",{className:"flex items-center gap-1.5 text-xs text-white/40",children:[a.jsx(jn,{size:13})," ",((P=C.students)==null?void 0:P.length)||0]}),a.jsxs("span",{className:"flex items-center gap-1.5 text-xs text-white/40",children:[a.jsx(os,{size:13})," ",O.length]}),a.jsxs("span",{className:"flex items-center gap-1.5 text-xs text-white/40 hidden sm:flex",children:[a.jsx(Qn,{size:13})," ",C.level||"All"]})]}),a.jsxs("div",{className:"flex items-center gap-1",onClick:V=>V.stopPropagation(),children:[a.jsx("button",{onClick:V=>L(C.id,C.archived,V),className:"p-1.5 rounded-lg text-white/20 hover:text-neon-orange hover:bg-neon-orange/10 transition-all",title:C.archived?"Restore":"Archive",children:C.archived?a.jsx(KU,{size:14}):a.jsx(N2,{size:14})}),x===C.id?a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:V=>{V.stopPropagation(),v(null)},className:"text-[10px] text-white/40 px-1.5 py-1 rounded",children:"No"}),a.jsx("button",{onClick:V=>M(C.id,V),className:"text-[10px] text-red-400 bg-red-500/10 px-1.5 py-1 rounded font-bold",children:"Yes"})]}):a.jsx("button",{onClick:V=>{V.stopPropagation(),v(C.id)},className:"p-1.5 rounded-lg text-white/20 hover:text-red-400 hover:bg-red-500/10 transition-all",title:"Delete",children:a.jsx(Na,{size:14})})]})]})]})]})},C.id)}),l&&!j&&a.jsx(H.div,{variants:k,children:a.jsxs("button",{onClick:()=>f(!0),className:"w-full h-full min-h-[200px] rounded-2xl border-2 border-dashed border-white/10 hover:border-neon-blue/30 flex flex-col items-center justify-center gap-3 text-white/30 hover:text-neon-blue transition-all group",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/[0.04] group-hover:bg-neon-blue/10 flex items-center justify-center transition-all",children:a.jsx(Yt,{size:24})}),a.jsx("span",{className:"text-sm font-medium",children:"Create New Class"})]})})]}),T.length===0&&a.jsxs("div",{className:"text-center py-16 text-white/30",children:[a.jsx(jt,{size:48,className:"mx-auto mb-4 opacity-30"}),a.jsx("p",{className:"text-sm",children:j?"No archived classes":S?"No classes match your search":"No classes yet"})]})]})]}),a.jsx(Gn,{children:h&&a.jsx(tF,{onClose:()=>f(!1),onCreate:e})})]})}function tF({onClose:t,onCreate:e}){const n=us(),[s,i]=I.useState(""),[r,o]=I.useState(""),[l,c]=I.useState("Beginner"),[d,h]=I.useState(""),[f,m]=I.useState("blue"),[y,S]=I.useState(!1),[R,j]=I.useState(""),N=async x=>{x.preventDefault(),S(!0),j("");try{await e({name:s,description:r,level:l,schedule:d,color:f}),n.success("Class created!"),t()}catch{j("Failed to create class. Please try again."),n.error("Failed to create class"),S(!1)}};return a.jsxs(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),a.jsxs(H.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"relative w-full max-w-lg",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-neon-blue to-neon-purple rounded-3xl opacity-20 blur-xl"}),a.jsxs("div",{className:"relative glass-card p-5 sm:p-6 rounded-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-lg sm:text-xl font-display font-bold text-white",children:"Create New Class"}),a.jsx("button",{onClick:t,className:"p-2 rounded-lg text-white/40 hover:text-white hover:bg-white/10 transition-all",children:a.jsx(cn,{size:18})})]}),R&&a.jsx("div",{className:"mb-4 p-3 rounded-lg bg-red-500/10 border border-red-500/20 text-red-400 text-sm",children:R}),a.jsxs("form",{onSubmit:N,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/50 mb-1.5",children:"Class Name"}),a.jsx("input",{value:s,onChange:x=>i(x.target.value),placeholder:"e.g. English 201",className:"input-glass",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/50 mb-1.5",children:"Description"}),a.jsx("textarea",{value:r,onChange:x=>o(x.target.value),placeholder:"What will students learn?",className:"input-glass h-24 resize-none",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/50 mb-1.5",children:"Level"}),a.jsxs("select",{value:l,onChange:x=>c(x.target.value),className:"input-glass",children:[a.jsx("option",{value:"Beginner",children:"Beginner"}),a.jsx("option",{value:"Intermediate",children:"Intermediate"}),a.jsx("option",{value:"Advanced",children:"Advanced"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/50 mb-1.5",children:"Schedule"}),a.jsx("input",{value:d,onChange:x=>h(x.target.value),placeholder:"Mon, Wed 9 AM",className:"input-glass"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/50 mb-1.5",children:"Color Theme"}),a.jsx("div",{className:"flex gap-3",children:["blue","purple","green","orange"].map(x=>a.jsx("button",{type:"button",onClick:()=>m(x),className:`w-9 h-9 sm:w-10 sm:h-10 rounded-xl bg-gradient-to-br ${x==="blue"?"from-neon-blue to-blue-600":x==="purple"?"from-neon-purple to-purple-600":x==="green"?"from-neon-green to-emerald-600":"from-neon-orange to-amber-600"} ${f===x?"ring-2 ring-white ring-offset-2 ring-offset-surface-950":"opacity-50 hover:opacity-80"} transition-all`},x))})]}),a.jsx("button",{type:"submit",disabled:y,className:"btn-neon w-full mt-4 flex items-center justify-center gap-2",children:y?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-white/30 border-t-white animate-spin"})," Creating..."]}):"Create Class"})]})]})]})]})}function nF(){const{id:t}=UT(),e=yn(),{userProfile:n}=ot(),{classes:s,getClassStudents:i,getClassAssignments:r,getClassAnnouncements:o,addAnnouncement:l,deleteAnnouncement:c,pinAnnouncement:d,removeStudentFromClass:h,allStudents:f,updateClass:m,submissions:y,getClassAnalytics:S,exportClassGrades:R,getLeaderboard:j,getAssignmentCompletionRate:N}=hn(),x=us(),v=s.find(q=>q.id===t),[E,M]=I.useState("overview"),[L,T]=I.useState(!1),[p,w]=I.useState(""),[A,k]=I.useState(""),[C,b]=I.useState(!1),[O,P]=I.useState(null);if(!v)return a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("p",{className:"text-white/40",children:"Class not found"})});const V=i(t),z=r(t),U=o(t),ee=S(t),$=j(t),W=()=>{navigator.clipboard.writeText(v.code),T(!0),x.success("Class code copied!"),setTimeout(()=>T(!1),2e3)},we=()=>{if(!A.trim()){x.warning("Please enter a title");return}l({classId:t,title:A,content:p,author:(n==null?void 0:n.displayName)||"Teacher"}),k(""),w(""),x.success("Announcement posted!")},ue=async q=>{try{await h(t,q),x.success("Student removed from class"),P(null)}catch{x.error("Failed to remove student")}},ye=async q=>{try{await c(q),x.success("Announcement deleted")}catch{x.error("Failed to delete")}},J=async(q,me)=>{await d(q,!me),x.info(me?"Unpinned":"Pinned")},Te=()=>{const q=R(t),me=new Blob([q],{type:"text/csv"}),Je=URL.createObjectURL(me),Ye=document.createElement("a");Ye.href=Je,Ye.download=`${v.name}_grades.csv`,Ye.click(),URL.revokeObjectURL(Je),x.success("Grades exported!")},Z=["overview","students","assignments","announcements"],ce={blue:"from-neon-blue to-blue-600",purple:"from-neon-purple to-purple-600",green:"from-neon-green to-emerald-600",orange:"from-neon-orange to-amber-600"};return a.jsxs("div",{className:"min-h-screen pb-20",children:[a.jsx(Mt,{title:v.name,subtitle:`${v.level||""}  ${v.schedule||"No schedule"}`,actions:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:Te,className:"btn-ghost flex items-center gap-1.5 text-sm px-3 py-2",title:"Export Grades",children:[a.jsx(e4,{size:14})," CSV"]}),a.jsxs("button",{onClick:()=>e("/classes"),className:"btn-ghost flex items-center gap-2 text-sm px-3 py-2",children:[a.jsx(YU,{size:16})," Back"]})]})}),a.jsxs("div",{className:"p-4 sm:p-6 space-y-6 max-w-7xl mx-auto",children:[a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-card overflow-hidden",children:[a.jsxs("div",{className:`h-24 sm:h-32 bg-gradient-to-r ${ce[v.color]||ce.blue} relative`,children:[a.jsx("div",{className:"absolute inset-0 bg-black/20"}),a.jsxs("div",{className:"absolute bottom-3 sm:bottom-4 left-4 sm:left-6 flex items-center gap-3 sm:gap-4",children:[a.jsxs("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center",children:[a.jsx(jt,{size:24,className:"text-white sm:hidden"}),a.jsx(jt,{size:32,className:"text-white hidden sm:block"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-display font-bold text-white",children:v.name}),a.jsx("p",{className:"text-xs sm:text-sm text-white/70 line-clamp-1",children:v.description})]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-6 px-4 sm:px-6 py-3 sm:py-4 border-b border-white/[0.04]",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jn,{size:14,className:"text-neon-blue"}),a.jsxs("span",{className:"text-xs sm:text-sm text-white/60",children:[V.length," Students"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(os,{size:14,className:"text-neon-purple"}),a.jsxs("span",{className:"text-xs sm:text-sm text-white/60",children:[z.length," Assignments"]})]}),a.jsx("div",{className:"flex-1"}),a.jsxs("button",{onClick:W,className:"flex items-center gap-2 px-3 py-1.5 rounded-xl bg-neon-blue/10 border border-neon-blue/20 text-xs sm:text-sm text-neon-blue hover:bg-neon-blue/20 transition-all",children:[L?a.jsx(da,{size:14}):a.jsx(iu,{size:14}),a.jsx("span",{className:"hidden sm:inline",children:"Code:"})," ",v.code]})]}),a.jsx("div",{className:"flex gap-1 px-4 sm:px-6 py-2 overflow-x-auto",children:Z.map(q=>a.jsx("button",{onClick:()=>M(q),className:`px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium capitalize transition-all whitespace-nowrap
                                    ${E===q?"bg-neon-blue/10 text-neon-blue":"text-white/40 hover:text-white/60 hover:bg-white/[0.04]"}`,children:q},q))})]}),E==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"glass-card p-4 text-center",children:[a.jsxs("p",{className:"text-2xl sm:text-3xl font-display font-black text-neon-blue",children:[ee.avgGrade,"%"]}),a.jsx("p",{className:"text-[10px] text-white/30 uppercase",children:"Class Avg"})]}),a.jsxs("div",{className:"glass-card p-4 text-center",children:[a.jsx("p",{className:"text-2xl sm:text-3xl font-display font-black text-neon-green",children:ee.totalSubmitted}),a.jsx("p",{className:"text-[10px] text-white/30 uppercase",children:"Submitted"})]}),a.jsxs("div",{className:"glass-card p-4 text-center",children:[a.jsx("p",{className:"text-2xl sm:text-3xl font-display font-black text-neon-purple",children:ee.totalGraded}),a.jsx("p",{className:"text-[10px] text-white/30 uppercase",children:"Graded"})]}),a.jsxs("div",{className:"glass-card p-4 text-center",children:[a.jsx("p",{className:"text-2xl sm:text-3xl font-display font-black text-neon-orange",children:ee.totalExpected-ee.totalSubmitted}),a.jsx("p",{className:"text-[10px] text-white/30 uppercase",children:"Missing"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"glass-card p-5",children:[a.jsxs("h3",{className:"font-semibold text-white mb-3 flex items-center gap-2",children:[a.jsx(nv,{size:16,className:"text-neon-blue"})," Details"]}),a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-white/40",children:"Level"}),a.jsx("span",{className:"text-white",children:v.level||"Beginner"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-white/40",children:"Schedule"}),a.jsx("span",{className:"text-white",children:v.schedule||"TBD"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-white/40",children:"Created"}),a.jsx("span",{className:"text-white",children:new Date(v.createdAt).toLocaleDateString()})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-white/40",children:"Teacher"}),a.jsx("span",{className:"text-white",children:v.teacherName})]})]})]}),a.jsxs("div",{className:"glass-card p-5",children:[a.jsxs("h3",{className:"font-semibold text-white mb-3 flex items-center gap-2",children:[a.jsx(Oa,{size:16,className:"text-neon-purple"})," Leaderboard"]}),$.length===0?a.jsx("p",{className:"text-sm text-white/30 text-center py-6",children:"No grades yet"}):a.jsx("div",{className:"space-y-2",children:$.slice(0,5).map((q,me)=>a.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-white/[0.02]",children:[a.jsx("span",{className:`w-6 h-6 rounded-full text-xs font-bold flex items-center justify-center ${me===0?"bg-yellow-500/20 text-yellow-400":me===1?"bg-gray-400/20 text-gray-300":me===2?"bg-orange-500/20 text-orange-400":"bg-white/5 text-white/30"}`,children:me+1}),a.jsx("span",{className:"flex-1 text-sm text-white truncate",children:q.name}),a.jsxs("span",{className:`text-sm font-bold ${q.avg>=90?"text-neon-green":q.avg>=70?"text-neon-blue":"text-neon-orange"}`,children:[q.avg,"%"]})]},q.id))})]})]}),a.jsxs("div",{className:"glass-card p-5",children:[a.jsxs("h3",{className:"font-semibold text-white mb-3 flex items-center gap-2",children:[a.jsx(_i,{size:16,className:"text-neon-green"})," Grade Distribution"]}),a.jsx("div",{className:"flex items-end gap-3 h-24",children:Object.entries(ee.gradeDistribution||{}).map(([q,me])=>{const Je=Math.max(...Object.values(ee.gradeDistribution||{}),1),Ye=`${me/Je*100}%`,$t={A:"neon-green",B:"neon-blue",C:"neon-purple",D:"neon-orange",F:"red-400"};return a.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1 h-full",children:[a.jsx("span",{className:"text-[10px] text-white/30",children:me}),a.jsx("div",{className:"w-full flex-1 flex items-end",children:a.jsx("div",{className:`w-full rounded-t-md bg-${$t[q]}/20 border-t border-${$t[q]}/30`,style:{height:me>0?Ye:"2px"}})}),a.jsx("span",{className:`text-xs font-bold text-${$t[q]}`,children:q})]},q)})})]})]}),E==="students"&&a.jsxs("div",{className:"glass-card p-4 sm:p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-semibold text-white",children:["Enrolled Students (",V.length,")"]}),a.jsxs("button",{onClick:()=>b(!0),className:"px-3 py-2 rounded-xl bg-neon-blue/10 border border-neon-blue/20 text-xs text-neon-blue hover:bg-neon-blue/20 transition-all flex items-center gap-2",children:[a.jsx(kB,{size:14})," Add"]})]}),a.jsx("div",{className:"space-y-2",children:V.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(jn,{size:48,className:"mx-auto text-white/10 mb-4"}),a.jsx("p",{className:"text-white/40 text-sm",children:"No students enrolled yet."}),a.jsxs("p",{className:"text-xs text-white/20 mt-1",children:["Share code ",a.jsx("span",{className:"text-neon-blue font-mono",children:v.code})]})]}):V.map(q=>{var me;return a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 p-3 rounded-xl hover:bg-white/[0.03] transition-all group",children:[a.jsx("div",{className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-gradient-to-br from-neon-blue to-neon-purple flex items-center justify-center text-white font-bold text-xs sm:text-sm shrink-0",children:((me=q.displayName)==null?void 0:me[0])||"S"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-white truncate",children:q.displayName}),a.jsx("p",{className:"text-xs text-white/40 truncate",children:q.email})]}),O===q.id?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>P(null),className:"text-xs text-white/40 hover:text-white px-2 py-1 rounded-lg transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>ue(q.id),className:"text-xs text-red-400 bg-red-500/10 px-3 py-1 rounded-lg font-semibold hover:bg-red-500/20 transition-colors",children:"Remove"})]}):a.jsx("button",{onClick:()=>P(q.id),className:"p-2 rounded-lg text-white/20 hover:text-red-400 hover:bg-red-500/10 opacity-0 group-hover:opacity-100 transition-all",title:"Remove student",children:a.jsx(RB,{size:16})})]},q.id)})})]}),E==="assignments"&&a.jsxs("div",{className:"glass-card p-4 sm:p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-semibold text-white",children:["Assignments (",z.length,")"]}),a.jsxs("button",{onClick:()=>e("/assignments"),className:"btn-neon text-sm flex items-center gap-2",children:[a.jsx(Yt,{size:14})," New"]})]}),a.jsx("div",{className:"space-y-3",children:z.length===0?a.jsx("p",{className:"text-white/40 text-sm text-center py-8",children:"No assignments yet."}):z.map(q=>{const me=N(q.id);return a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-xl bg-white/[0.02] border border-white/[0.04] hover:border-white/10 transition-all",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-neon-purple/10 border border-neon-purple/20 flex items-center justify-center shrink-0",children:a.jsx(os,{size:18,className:"text-neon-purple"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-white text-sm truncate",children:q.title}),a.jsxs("p",{className:"text-xs text-white/40",children:[q.type,"  ",q.totalPoints," pts  ",me.rate,"% done"]})]}),a.jsxs("div",{className:"text-right shrink-0",children:[a.jsx("p",{className:"text-xs text-white/40",children:"Due"}),a.jsx("p",{className:"text-sm text-neon-orange",children:new Date(q.dueDate).toLocaleDateString()})]})]},q.id)})})]}),E==="announcements"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"glass-card p-4 sm:p-5",children:[a.jsxs("h3",{className:"font-semibold text-white mb-3 flex items-center gap-2",children:[a.jsx(sB,{size:16,className:"text-neon-blue"})," Post Announcement"]}),a.jsx("input",{value:A,onChange:q=>k(q.target.value),placeholder:"Announcement title...",className:"input-glass mb-3"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("textarea",{value:p,onChange:q=>w(q.target.value),placeholder:"Write your announcement...",className:"input-glass flex-1 h-20 resize-none"}),a.jsx("button",{onClick:we,className:"btn-neon self-end px-4",children:a.jsx(l4,{size:16})})]})]}),U.sort((q,me)=>(me.pinned?1:0)-(q.pinned?1:0)||new Date(me.createdAt)-new Date(q.createdAt)).map(q=>a.jsxs("div",{className:`glass-card p-4 sm:p-5 ${q.pinned?"border-l-4 border-l-neon-orange":""}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-2 gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[q.pinned&&a.jsx(T2,{size:12,className:"text-neon-orange shrink-0"}),a.jsx("h4",{className:"font-semibold text-white truncate",children:q.title})]}),a.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[a.jsx("button",{onClick:()=>J(q.id,q.pinned),className:`p-1.5 rounded-lg transition-all ${q.pinned?"text-neon-orange":"text-white/20 hover:text-neon-orange"} hover:bg-white/5`,title:q.pinned?"Unpin":"Pin",children:a.jsx(T2,{size:14})}),a.jsx("button",{onClick:()=>ye(q.id),className:"p-1.5 rounded-lg text-white/20 hover:text-red-400 hover:bg-red-500/10 transition-all",title:"Delete",children:a.jsx(Na,{size:14})}),a.jsx("span",{className:"text-xs text-white/30 ml-2",children:new Date(q.createdAt).toLocaleDateString()})]})]}),a.jsx("p",{className:"text-sm text-white/60",children:q.content}),a.jsxs("p",{className:"text-xs text-white/30 mt-2",children:[" ",q.author]})]},q.id))]})]}),a.jsx(Gn,{children:C&&a.jsx(sF,{cls:v,allStudents:f,onClose:()=>b(!1),onAdd:q=>{m(v.id,{students:[...v.students||[],q]}),x.success("Student added!")}})})]})}function sF({cls:t,allStudents:e,onClose:n,onAdd:s}){const[i,r]=I.useState(""),[o,l]=I.useState(!1),c=e.filter(h=>{var f,m;return(((f=h.displayName)==null?void 0:f.toLowerCase().includes(i.toLowerCase()))||((m=h.email)==null?void 0:m.toLowerCase().includes(i.toLowerCase())))&&!(t.students||[]).includes(h.id)}),d=()=>{navigator.clipboard.writeText(t.code),l(!0),setTimeout(()=>l(!1),2e3)};return a.jsxs(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:n}),a.jsxs(H.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative glass-card w-full max-w-lg overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-4 sm:p-6 border-b border-white/10 flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg sm:text-xl font-display font-bold text-white",children:"Add Student"}),a.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-white/10 text-white/40 hover:text-white transition-colors",children:a.jsx(cn,{size:20})})]}),a.jsxs("div",{className:"p-4 sm:p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-white/40 mb-2 uppercase tracking-wider font-bold",children:"Share Class Code"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"flex-1 p-3 rounded-xl bg-white/[0.04] border border-white/[0.06] text-center font-mono text-xl sm:text-2xl text-neon-blue tracking-widest",children:t.code}),a.jsx("button",{onClick:d,className:"p-3 sm:p-4 rounded-xl bg-neon-blue/10 border border-neon-blue/20 text-neon-blue hover:bg-neon-blue/20 transition-all flex items-center justify-center",children:o?a.jsx(da,{size:20}):a.jsx(iu,{size:20})})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Ni,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/20"}),a.jsx("input",{value:i,onChange:h=>r(h.target.value),placeholder:"Search by email or name...",className:"input-glass pl-10"})]}),a.jsx("div",{className:"max-h-60 overflow-y-auto space-y-1",children:c.length===0?a.jsx("p",{className:"text-center py-8 text-white/40 text-sm",children:"No students found."}):c.map(h=>{var f;return a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl hover:bg-white/[0.04] group transition-all",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center text-xs font-bold text-white shrink-0",children:((f=h.displayName)==null?void 0:f[0])||"S"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-white group-hover:text-neon-blue transition-colors truncate",children:h.displayName}),a.jsx("p",{className:"text-xs text-white/40 truncate",children:h.email})]}),a.jsx("button",{onClick:()=>{s(h.id),n()},className:"p-2 rounded-lg bg-neon-blue/10 text-neon-blue hover:bg-neon-blue/20 opacity-0 group-hover:opacity-100 transition-all",children:a.jsx(Yt,{size:16})})]},h.id)})})]})]})]})}function iF(){const{classes:t,allStudents:e,deleteStudent:n,updateStudent:s,getStudentClasses:i,getStudentProgress:r}=hn(),{preRegisterStudent:o}=ot(),l=us(),[c,d]=I.useState(""),[h,f]=I.useState(!1),[m,y]=I.useState(null),[S,R]=I.useState(null),[j,N]=I.useState(!1),[x,v]=I.useState(""),[E,M]=I.useState(""),[L,T]=I.useState(null),[p,w]=I.useState(!1),[A,k]=I.useState(""),[C,b]=I.useState(""),[O,P]=I.useState(""),V=e.filter(J=>(J.displayName||"").toLowerCase().includes(c.toLowerCase())||(J.email||"").toLowerCase().includes(c.toLowerCase())),z=J=>{y(J),b(J.displayName),P(J.email),k("")},U=async J=>{J.preventDefault(),N(!0);try{const Te=m.status==="pending",Z=Te?m.email.toLowerCase():m.id;await s(Z,{displayName:C,...Te?{name:C}:{}},Te),y(null),l.success("Student updated!")}catch(Te){k(Te.message),l.error("Failed to update")}finally{N(!1)}},ee=async J=>{try{await n(J),l.success(`${J.displayName} removed`),R(null)}catch{l.error("Failed to delete student")}},$=async J=>{J.preventDefault(),N(!0),k("");try{const Te=await o(E,x);T(Te),l.success("Student registered!")}catch(Te){k(Te.message),l.error(Te.message)}finally{N(!1)}},W=()=>{navigator.clipboard.writeText(L),w(!0),l.success("Code copied!"),setTimeout(()=>w(!1),2e3)},we=()=>{f(!1),T(null),v(""),M(""),k("")},ue={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},ye={hidden:{opacity:0,y:15},show:{opacity:1,y:0}};return a.jsxs("div",{className:"min-h-screen pb-20",children:[a.jsx(Mt,{title:"Students",subtitle:`${e.length} total students`,actions:a.jsxs("button",{onClick:()=>f(!0),className:"btn-neon flex items-center gap-2 text-sm px-4 py-2",children:[a.jsx(Yt,{size:16})," Add Student"]})}),a.jsxs("div",{className:"p-4 sm:p-6 space-y-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"glass-card p-3 sm:p-4 text-center",children:[a.jsx("p",{className:"text-xl sm:text-2xl font-display font-bold text-neon-blue",children:e.length}),a.jsx("p",{className:"text-[10px] text-white/30 uppercase",children:"Total"})]}),a.jsxs("div",{className:"glass-card p-3 sm:p-4 text-center",children:[a.jsx("p",{className:"text-xl sm:text-2xl font-display font-bold text-neon-green",children:e.filter(J=>J.status!=="pending").length}),a.jsx("p",{className:"text-[10px] text-white/30 uppercase",children:"Active"})]}),a.jsxs("div",{className:"glass-card p-3 sm:p-4 text-center",children:[a.jsx("p",{className:"text-xl sm:text-2xl font-display font-bold text-neon-orange",children:e.filter(J=>J.status==="pending").length}),a.jsx("p",{className:"text-[10px] text-white/30 uppercase",children:"Pending"})]}),a.jsxs("div",{className:"glass-card p-3 sm:p-4 text-center",children:[a.jsx("p",{className:"text-xl sm:text-2xl font-display font-bold text-neon-purple",children:t.length}),a.jsx("p",{className:"text-[10px] text-white/30 uppercase",children:"Classes"})]})]}),a.jsxs("div",{className:"relative max-w-md",children:[a.jsx(Ni,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/30"}),a.jsx("input",{value:c,onChange:J=>d(J.target.value),placeholder:"Search students...",className:"input-glass pl-11"})]}),a.jsxs(H.div,{variants:ue,initial:"hidden",animate:"show",className:"glass-card overflow-hidden hidden sm:block",children:[a.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3 border-b border-white/[0.06] text-xs text-white/40 uppercase tracking-wider font-medium",children:[a.jsx("div",{className:"col-span-3",children:"Student"}),a.jsx("div",{className:"col-span-3",children:"Email"}),a.jsx("div",{className:"col-span-2",children:"Status"}),a.jsx("div",{className:"col-span-2 text-center",children:"Classes"}),a.jsx("div",{className:"col-span-2 text-right",children:"Actions"})]}),V.map(J=>{const Te=i(J.id);return a.jsxs(H.div,{variants:ye,className:"grid grid-cols-12 gap-4 px-6 py-4 border-b border-white/[0.02] hover:bg-white/[0.02] transition-all items-center",children:[a.jsxs("div",{className:"col-span-3 flex items-center gap-3",children:[a.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-neon-blue to-neon-purple flex items-center justify-center text-white text-sm font-bold shadow-lg shrink-0",children:(J.displayName||"S")[0]}),a.jsx("span",{className:"text-sm font-medium text-white truncate",children:J.displayName})]}),a.jsx("div",{className:"col-span-3 text-sm text-white/50 truncate",children:J.email}),a.jsx("div",{className:"col-span-2",children:J.status==="pending"?a.jsxs("div",{className:"flex items-center gap-2 group/code",children:[a.jsx("code",{className:"text-xs font-mono font-bold text-neon-orange bg-neon-orange/10 px-2 py-1 rounded truncate",children:J.code}),a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(J.code),l.success("Code copied!")},className:"opacity-0 group-hover/code:opacity-100 p-1 rounded hover:bg-white/10 text-white/40 hover:text-white transition-all",children:a.jsx(iu,{size:12})})]}):a.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-neon-green/60",children:[a.jsx(da,{size:12})," Registered"]})}),a.jsx("div",{className:"col-span-2 flex justify-center",children:a.jsx("div",{className:"flex -space-x-2",children:Te.length>0?a.jsxs(a.Fragment,{children:[Te.slice(0,3).map((Z,ce)=>a.jsx("div",{className:`w-6 h-6 rounded-md bg-gradient-to-br ${ce===0?"from-neon-blue to-blue-600":ce===1?"from-neon-purple to-purple-600":"from-neon-green to-emerald-600"} flex items-center justify-center text-[10px] text-white font-bold border-2 border-surface-950`,title:Z.name,children:Z.name[0]},Z.id)),Te.length>3&&a.jsxs("div",{className:"w-6 h-6 rounded-md bg-white/5 flex items-center justify-center text-[8px] text-white/40 border-2 border-surface-950 font-bold",children:["+",Te.length-3]})]}):a.jsx("span",{className:"text-xs text-white/20 italic",children:"None"})})}),a.jsxs("div",{className:"col-span-2 flex items-center justify-end gap-1",children:[a.jsx("button",{onClick:()=>z(J),className:"p-2 rounded-lg text-white/20 hover:text-neon-blue hover:bg-neon-blue/10 transition-all",title:"Edit",children:a.jsx(tf,{size:16})}),S===J.id?a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>R(null),className:"text-[10px] text-white/40 px-2 py-1 rounded-lg hover:bg-white/5",children:"Cancel"}),a.jsx("button",{onClick:()=>ee(J),className:"text-[10px] text-red-400 bg-red-500/10 px-2 py-1 rounded-lg font-bold hover:bg-red-500/20",children:"Delete"})]}):a.jsx("button",{onClick:()=>R(J.id),className:"p-2 rounded-lg text-white/20 hover:text-red-400 hover:bg-red-500/10 transition-all",title:"Delete",children:a.jsx(Na,{size:16})})]})]},J.id)}),V.length===0&&a.jsxs("div",{className:"text-center py-12 text-white/30",children:[a.jsx(jn,{size:40,className:"mx-auto mb-3 opacity-30"}),a.jsx("p",{children:"No students found"})]})]}),a.jsx("div",{className:"sm:hidden space-y-3",children:V.length===0?a.jsxs("div",{className:"text-center py-12 text-white/30 glass-card p-6",children:[a.jsx(jn,{size:40,className:"mx-auto mb-3 opacity-30"}),a.jsx("p",{children:"No students found"})]}):V.map(J=>{const Te=i(J.id);return a.jsxs("div",{className:"glass-card p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-neon-blue to-neon-purple flex items-center justify-center text-white text-sm font-bold shrink-0",children:(J.displayName||"S")[0]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-white truncate",children:J.displayName}),a.jsx("p",{className:"text-xs text-white/40 truncate",children:J.email})]}),J.status==="pending"&&a.jsx("span",{className:"text-[10px] text-neon-orange bg-neon-orange/10 px-2 py-1 rounded-lg font-bold uppercase",children:"Pending"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-white/30",children:[a.jsx(jt,{size:12}),a.jsxs("span",{children:[Te.length," classes"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>z(J),className:"p-2 rounded-lg text-white/30 hover:text-neon-blue transition-all",children:a.jsx(tf,{size:14})}),S===J.id?a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>R(null),className:"text-[10px] text-white/40 px-2 py-1 rounded-lg",children:"No"}),a.jsx("button",{onClick:()=>ee(J),className:"text-[10px] text-red-400 bg-red-500/10 px-2 py-1 rounded-lg font-bold",children:"Yes"})]}):a.jsx("button",{onClick:()=>R(J.id),className:"p-2 rounded-lg text-white/30 hover:text-red-400 transition-all",children:a.jsx(Na,{size:14})})]})]})]},J.id)})})]}),a.jsx(Gn,{children:h&&a.jsxs(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:we}),a.jsxs(H.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"relative w-full max-w-md glass-card p-6 rounded-2xl border border-white/10 shadow-2xl",children:[a.jsx("button",{onClick:we,className:"absolute top-4 right-4 text-white/30 hover:text-white transition-colors",children:a.jsx(cn,{size:20})}),a.jsx("h2",{className:"text-xl font-display font-bold text-white mb-1",children:"Add New Student"}),a.jsx("p",{className:"text-sm text-white/40 mb-6",children:"Create credentials for a student to log in."}),L?a.jsxs("div",{className:"space-y-6 text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/20 flex items-center justify-center mx-auto",children:a.jsx(da,{size:32,className:"text-green-500"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-white",children:"Student Registered!"}),a.jsxs("p",{className:"text-sm text-white/50 px-4",children:["Share this code with ",a.jsx("strong",{children:x}),"."]})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-xs text-white/30 uppercase tracking-wider",children:"Access Code"}),a.jsx("p",{className:"text-2xl font-mono font-bold text-neon-blue tracking-widest",children:L})]}),a.jsx("button",{onClick:W,className:"p-3 rounded-lg hover:bg-white/10 transition-colors text-white/50 hover:text-white",children:p?a.jsx(da,{size:20,className:"text-green-400"}):a.jsx(iu,{size:20})})]}),a.jsx("button",{onClick:we,className:"btn-ghost w-full",children:"Done, add another"})]}):a.jsxs("form",{onSubmit:$,className:"space-y-4",children:[A&&a.jsx("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/20 text-red-400 text-sm",children:A}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-white/60 ml-1",children:"Full Name"}),a.jsx("input",{required:!0,value:x,onChange:J=>v(J.target.value),placeholder:"e.g. Juan Perez",className:"input-glass w-full"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-white/60 ml-1",children:"Email Address"}),a.jsx("input",{required:!0,type:"email",value:E,onChange:J=>M(J.target.value),placeholder:"e.g. juan@student.com",className:"input-glass w-full"})]}),a.jsx("button",{type:"submit",disabled:j,className:"btn-neon w-full mt-2",children:j?"Generating...":"Generate Access Code"})]})]})]})}),a.jsx(Gn,{children:m&&a.jsxs(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>y(null)}),a.jsxs(H.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"glass-card border border-white/10 p-6 sm:p-8 rounded-2xl shadow-2xl w-full max-w-md relative z-10",children:[a.jsx("button",{onClick:()=>y(null),className:"absolute top-4 right-4 p-2 rounded-xl hover:bg-white/5 text-white/40 hover:text-white transition-all",children:a.jsx(cn,{size:20})}),a.jsx("h2",{className:"text-xl font-display font-bold text-white mb-1",children:"Edit Student"}),a.jsx("p",{className:"text-sm text-white/40 mb-6",children:"Update student information."}),a.jsxs("form",{onSubmit:U,className:"space-y-4",children:[A&&a.jsx("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/20 text-red-400 text-sm",children:A}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-white/60 ml-1",children:"Full Name"}),a.jsx("input",{required:!0,value:C,onChange:J=>b(J.target.value),className:"input-glass w-full"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-white/30 ml-1",children:"Email (Read-only)"}),a.jsx("input",{disabled:!0,value:O,className:"input-glass w-full opacity-50 cursor-not-allowed"})]}),a.jsx("button",{type:"submit",disabled:j,className:"btn-neon w-full mt-2",children:j?"Saving...":"Save Changes"}),a.jsx("button",{type:"button",onClick:()=>y(null),className:"btn-ghost w-full",children:"Cancel"})]})]})]})})]})}const Ac={quiz:{icon:Rt,label:"Quiz",gradient:"from-neon-blue to-cyan-400",bg:"bg-neon-blue/10",border:"border-neon-blue/20",text:"text-neon-blue",dot:"bg-neon-blue"},exam:{icon:sv,label:"Exam",gradient:"from-red-500 to-orange-500",bg:"bg-red-500/10",border:"border-red-500/20",text:"text-red-400",dot:"bg-red-500"},essay:{icon:tm,label:"Essay",gradient:"from-neon-purple to-fuchsia-400",bg:"bg-neon-purple/10",border:"border-neon-purple/20",text:"text-neon-purple",dot:"bg-neon-purple"},homework:{icon:o4,label:"Homework",gradient:"from-amber-400 to-yellow-500",bg:"bg-amber-400/10",border:"border-amber-400/20",text:"text-amber-400",dot:"bg-amber-400"},project:{icon:C7,label:"Project",gradient:"from-pink-500 to-rose-400",bg:"bg-pink-500/10",border:"border-pink-500/20",text:"text-pink-400",dot:"bg-pink-500"},assignment:{icon:os,label:"Task",gradient:"from-neon-green to-emerald-400",bg:"bg-neon-green/10",border:"border-neon-green/20",text:"text-neon-green",dot:"bg-neon-green"}},A2={blue:"from-neon-blue/20 to-neon-blue/5",purple:"from-neon-purple/20 to-neon-purple/5",green:"from-neon-green/20 to-neon-green/5",orange:"from-orange-500/20 to-orange-500/5",pink:"from-neon-pink/20 to-neon-pink/5",cyan:"from-cyan-400/20 to-cyan-400/5"};function rF(){const{assignments:t,classes:e,submissions:n,allStudents:s,addAssignment:i,updateAssignment:r,deleteAssignment:o,getAssignmentSubmissions:l}=hn(),{isTeacher:c,userProfile:d}=ot(),h=us(),f=yn(),[m,y]=I.useState(!1),[S,R]=I.useState(null),[j,N]=I.useState("all"),[x,v]=I.useState("all"),[E,M]=I.useState(""),[L,T]=I.useState(null),[p,w]=I.useState(null),A=I.useMemo(()=>t.filter(O=>j==="all"||O.type===j).filter(O=>x==="all"||O.classId===x).filter(O=>O.title.toLowerCase().includes(E.toLowerCase())||O.description.toLowerCase().includes(E.toLowerCase())).sort((O,P)=>new Date(P.createdAt)-new Date(O.createdAt)),[t,j,x,E]),k=I.useMemo(()=>{const O=t.length,P=t.filter(ee=>new Date(ee.dueDate)>=new Date).length,V=O-P,z=n.length,U=n.filter(ee=>ee.grade===null||ee.grade===void 0).length;return{total:O,active:P,overdue:V,totalSubs:z,pending:U}},[t,n]),C={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},b={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{duration:.4}}};return a.jsxs("div",{className:"min-h-screen pb-20",children:[a.jsx(Mt,{title:"Assignments",subtitle:`${t.length} total across ${e.length} classes`,actions:c&&a.jsxs("button",{onClick:()=>y(!0),className:"btn-neon flex items-center gap-2 text-sm px-4 py-2",children:[a.jsx(Yt,{size:16})," ",a.jsx("span",{className:"hidden sm:inline",children:"New"})," Assignment"]})}),a.jsx("div",{className:"px-4 sm:px-6 pt-4 sm:pt-6 max-w-7xl mx-auto",children:a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3",children:[{label:"Total",value:k.total,icon:s4,color:"text-neon-blue",bg:"bg-neon-blue/10"},{label:"Active",value:k.active,icon:au,color:"text-neon-green",bg:"bg-neon-green/10"},{label:"Overdue",value:k.overdue,icon:f7,color:"text-red-400",bg:"bg-red-500/10"},{label:"Submissions",value:k.totalSubs,icon:na,color:"text-neon-purple",bg:"bg-neon-purple/10"},{label:"Pending",value:k.pending,icon:Qn,color:"text-neon-orange",bg:"bg-orange-500/10"}].map((O,P)=>a.jsxs(H.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:P*.05},className:"glass-card p-4 flex items-center gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-xl ${O.bg} flex items-center justify-center`,children:a.jsx(O.icon,{size:18,className:O.color})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xl font-bold text-white",children:O.value}),a.jsx("p",{className:"text-[11px] text-white/40 uppercase tracking-wider",children:O.label})]})]},O.label))})}),a.jsx("div",{className:"px-4 sm:px-6 pt-5 pb-2 max-w-7xl mx-auto",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-md",children:[a.jsx(Ni,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/30"}),a.jsx("input",{value:E,onChange:O=>M(O.target.value),placeholder:"Search assignments...",className:"input-glass pl-10 text-sm h-10"})]}),a.jsx("div",{className:"flex items-center gap-1 p-1 rounded-xl bg-white/[0.03] border border-white/[0.06]",children:[{key:"all",label:"All"},{key:"quiz",label:"Quizzes",icon:Rt},{key:"essay",label:"Essays",icon:tm},{key:"assignment",label:"Tasks",icon:os}].map(O=>a.jsxs("button",{onClick:()=>N(O.key),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all
                                    ${j===O.key?"bg-white/10 text-white shadow-sm":"text-white/40 hover:text-white/60"}`,children:[O.icon&&a.jsx(O.icon,{size:13}),O.label]},O.key))}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:x,onChange:O=>v(O.target.value),className:"input-glass text-sm h-10 pr-8 appearance-none cursor-pointer min-w-[160px]",children:[a.jsx("option",{value:"all",children:"All Classes"}),e.map(O=>a.jsx("option",{value:O.id,children:O.name},O.id))]}),a.jsx(c7,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-white/30 pointer-events-none"})]})]})}),a.jsx(H.div,{variants:C,initial:"hidden",animate:"show",className:"p-4 sm:p-6 grid grid-cols-1 lg:grid-cols-2 gap-4 max-w-7xl mx-auto",children:A.map(O=>{var Te;const P=e.find(Z=>Z.id===O.classId),V=Ac[O.type]||Ac.assignment,z=V.icon,U=new Date(O.dueDate)<new Date,ee=l(O.id),W=((P==null?void 0:P.students)||[]).filter(Z=>s.some(ce=>ce.id===Z&&ce.status==="active")).length||0,we=W>0?Math.round(ee.length/W*100):0,ue=Math.ceil((new Date(O.dueDate)-new Date)/(1e3*60*60*24)),ye=L===O.id,J=ee.filter(Z=>Z.grade!=null).length>0?Math.round(ee.filter(Z=>Z.grade!=null).reduce((Z,ce)=>Z+ce.grade/O.totalPoints*100,0)/ee.filter(Z=>Z.grade!=null).length):null;return a.jsx(H.div,{variants:b,layout:!0,children:a.jsxs("div",{className:`glass-card overflow-hidden transition-all duration-300 hover:border-white/[0.12] cursor-pointer group
                                    ${ye?"ring-1 ring-white/10":""}`,onClick:()=>T(ye?null:O.id),children:[a.jsx("div",{className:`h-1 bg-gradient-to-r ${V.gradient}`}),a.jsxs("div",{className:"p-5",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${V.gradient} flex items-center justify-center shrink-0 shadow-lg`,children:a.jsx(z,{size:22,className:"text-white"})}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-white text-[15px] leading-tight group-hover:text-white/90 transition-colors",children:O.title}),a.jsx("p",{className:"text-sm text-white/35 mt-1 line-clamp-2",children:O.description})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[c&&a.jsxs("div",{className:"flex items-center gap-1 mr-1",children:[a.jsx("button",{onClick:Z=>{Z.stopPropagation(),R(O)},className:"p-1.5 rounded-lg text-white/20 hover:text-neon-blue hover:bg-neon-blue/10 transition-all",title:"Edit Assignment",children:a.jsx(tf,{size:14})}),p===O.id?a.jsxs("div",{className:"flex items-center gap-1",onClick:Z=>Z.stopPropagation(),children:[a.jsx("button",{onClick:Z=>{Z.stopPropagation(),w(null)},className:"text-[10px] text-white/40 px-1.5 py-1 rounded",children:"No"}),a.jsx("button",{onClick:async Z=>{Z.stopPropagation(),await o(O.id),h.success("Assignment deleted"),w(null)},className:"text-[10px] text-red-400 bg-red-500/10 px-1.5 py-1 rounded font-bold",children:"Yes"})]}):a.jsx("button",{onClick:Z=>{Z.stopPropagation(),w(O.id)},className:"p-1.5 rounded-lg text-white/20 hover:text-red-400 hover:bg-red-500/10 transition-all",title:"Delete Assignment",children:a.jsx(Na,{size:14})})]}),a.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-medium
                                                        ${U?"bg-red-500/10 text-red-400 border border-red-500/20":"bg-neon-green/10 text-neon-green border border-neon-green/20"}`,children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${U?"bg-red-400":"bg-neon-green animate-pulse"}`}),U?"Overdue":"Active"]})]})]})})]}),a.jsxs("div",{className:"flex items-center flex-wrap gap-x-4 gap-y-2 mt-4 text-xs text-white/40",children:[P&&a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:`w-2 h-2 rounded-full bg-gradient-to-r ${A2[P.color]||A2.blue}`}),P.name]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Oa,{size:12,className:V.text})," ",O.totalPoints," pts"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(nv,{size:12}),U?"Was due":"Due",": ",new Date(O.dueDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})]}),!U&&a.jsxs("span",{className:`flex items-center gap-1 ${ue<=3?"text-orange-400":""}`,children:[a.jsx(Qn,{size:12})," ",ue,"d left"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(jn,{size:12})," ",ee.length,"/",W," submitted"]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-[10px] text-white/30 uppercase tracking-wider",children:"Submission Progress"}),a.jsxs("span",{className:"text-xs text-white/50 font-medium",children:[we,"%"]})]}),a.jsx("div",{className:"w-full h-1.5 rounded-full bg-white/[0.06] overflow-hidden",children:a.jsx(H.div,{initial:{width:0},animate:{width:`${we}%`},transition:{duration:.8,ease:"easeOut"},className:`h-full rounded-full bg-gradient-to-r ${V.gradient}`})})]}),a.jsx(Gn,{children:ye&&a.jsx(H.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"overflow-hidden",children:a.jsxs("div",{className:"mt-4 pt-4 border-t border-white/[0.06] space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsxs("div",{className:"rounded-lg bg-white/[0.03] p-3 text-center",children:[a.jsx("p",{className:"text-lg font-bold text-white",children:((Te=O.questions)==null?void 0:Te.length)||0}),a.jsx("p",{className:"text-[10px] text-white/30 uppercase",children:"Questions"})]}),a.jsxs("div",{className:"rounded-lg bg-white/[0.03] p-3 text-center",children:[a.jsx("p",{className:"text-lg font-bold text-white",children:ee.filter(Z=>Z.grade!=null).length}),a.jsx("p",{className:"text-[10px] text-white/30 uppercase",children:"Graded"})]}),a.jsxs("div",{className:"rounded-lg bg-white/[0.03] p-3 text-center",children:[a.jsx("p",{className:`text-lg font-bold ${J!==null?J>=80?"text-neon-green":J>=60?"text-neon-orange":"text-red-400":"text-white/30"}`,children:J!==null?`${J}%`:""}),a.jsx("p",{className:"text-[10px] text-white/30 uppercase",children:"Avg Grade"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium ${V.bg} ${V.text} border ${V.border}`,children:[a.jsx(z,{size:13})," ",V.label]}),a.jsxs("span",{className:"text-xs text-white/30",children:["Created ",new Date(O.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),!c&&a.jsx("button",{onClick:Z=>{Z.stopPropagation(),f(`/assignments/${O.id}`)},className:`px-4 py-2 rounded-xl text-sm font-bold transition-all shadow-lg
                                                                    ${n.find(Z=>Z.assignmentId===O.id&&Z.studentId===(d==null?void 0:d.uid))?"bg-white/10 text-white/60 hover:bg-white/20":`bg-gradient-to-r ${V.gradient} text-white hover:opacity-90 active:scale-95`}`,children:n.find(Z=>Z.assignmentId===O.id&&Z.studentId===(d==null?void 0:d.uid))?"View Submission":"Take Assignment"})]})]})})})]})]})},O.id)})}),A.length===0&&a.jsxs("div",{className:"text-center py-20",children:[a.jsx("div",{className:"w-16 h-16 mx-auto rounded-2xl bg-white/[0.03] border border-white/[0.06] flex items-center justify-center mb-4",children:a.jsx(os,{size:28,className:"text-white/20"})}),a.jsx("p",{className:"text-white/40 text-sm",children:"No assignments found"}),a.jsx("p",{className:"text-white/20 text-xs mt-1",children:"Try adjusting filters or create a new assignment"})]}),a.jsx(Gn,{children:(m||S)&&a.jsx(aF,{classes:e,assignment:S,onClose:()=>{y(!1),R(null)},onSave:S?O=>r(S.id,O):i})})]})}function aF({classes:t,assignment:e,onClose:n,onSave:s}){var C;const i=us(),r=!!e,[o,l]=I.useState((e==null?void 0:e.title)||""),[c,d]=I.useState((e==null?void 0:e.description)||""),[h,f]=I.useState((e==null?void 0:e.classId)||((C=t[0])==null?void 0:C.id)||""),[m,y]=I.useState((e==null?void 0:e.type)||"quiz"),[S,R]=I.useState(e!=null&&e.dueDate?new Date(e.dueDate).toISOString().split("T")[0]:""),[j,N]=I.useState((e==null?void 0:e.totalPoints)||100),[x,v]=I.useState((e==null?void 0:e.questions)||[{id:"q1",text:"",type:"multiple-choice",options:["","","",""],correctAnswer:0,points:10}]),[E,M]=I.useState((e==null?void 0:e.timeLimit)||0),L=(b="multiple-choice")=>{const O={id:`q${Date.now()}`,text:"",type:b,points:10};b==="multiple-choice"?(O.options=["","","",""],O.correctAnswer=0):b==="true-false"?(O.options=["True","False"],O.correctAnswer=0):b==="fill-in-blank"?O.correctText="":b==="ordering"?O.items=["","",""]:b==="matching"?O.pairs=[{left:"",right:""},{left:"",right:""},{left:"",right:""}]:b==="word-scramble"?O.correctText="":b==="sentence-builder"?O.correctSentence="":b==="categorize"?O.categories=[{name:"",items:[""]},{name:"",items:[""]}]:b==="error-correction"?(O.errorSentence="",O.correctText=""):b==="translation"?(O.sourceText="",O.correctText=""):O.options=[],v([...x,O])},T=b=>{x.length<=1||v(x.filter((O,P)=>P!==b))},p=(b,O,P)=>{const V=[...x];if(V[b]={...V[b],[O]:P},O==="type"){const z=V[b];z.options=[],z.items=[],z.pairs=void 0,z.categories=void 0,z.correctText=void 0,z.correctSentence=void 0,z.errorSentence=void 0,z.sourceText=void 0,P==="multiple-choice"?(z.options=["","","",""],z.correctAnswer=0):P==="true-false"?(z.options=["True","False"],z.correctAnswer=0):P==="fill-in-blank"?z.correctText="":P==="ordering"?z.items=["","",""]:P==="matching"?z.pairs=[{left:"",right:""},{left:"",right:""},{left:"",right:""}]:P==="word-scramble"?z.correctText="":P==="sentence-builder"?z.correctSentence="":P==="categorize"?z.categories=[{name:"",items:[""]},{name:"",items:[""]}]:P==="error-correction"?(z.errorSentence="",z.correctText=""):P==="translation"&&(z.sourceText="",z.correctText="")}v(V)},w=(b,O,P)=>{const V=[...x];V[b].options[O]=P,v(V)},A=async b=>{b.preventDefault();try{await s({title:o,description:c,classId:h,type:m,dueDate:new Date(S).toISOString(),totalPoints:x.reduce((O,P)=>O+(Number(P.points)||0),0),questions:x,timeLimit:Number(E)||0}),i.success(r?"Assignment updated!":"Assignment created!"),n()}catch{i.error("Failed to save assignment")}},k=Ac[m]||Ac.assignment;return a.jsxs(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-auto",children:[a.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-md",onClick:n}),a.jsxs(H.div,{initial:{scale:.9,y:30,opacity:0},animate:{scale:1,y:0,opacity:1},exit:{scale:.9,y:30,opacity:0},transition:{type:"spring",duration:.5},className:"relative w-full max-w-3xl my-8",children:[a.jsx("div",{className:`absolute -inset-1 bg-gradient-to-r ${k.gradient} rounded-3xl opacity-20 blur-xl`}),a.jsxs("div",{className:"relative glass-card rounded-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[a.jsx("div",{className:`h-1 bg-gradient-to-r ${k.gradient}`}),a.jsxs("div",{className:"p-6 border-b border-white/10 flex items-center justify-between bg-white/[0.02]",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-xl bg-gradient-to-br ${k.gradient} flex items-center justify-center shadow-lg`,children:a.jsx(k.icon,{size:20,className:"text-white"})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-lg font-display font-bold text-white",children:[r?"Edit":"Create"," Assignment"]}),a.jsx("p",{className:"text-xs text-white/40",children:r?"Modify your assignment details":`Add a new ${m} for your students`})]})]}),a.jsx("button",{onClick:n,className:"p-2 rounded-lg text-white/40 hover:text-white hover:bg-white/10 transition-all",children:a.jsx(cn,{size:18})})]}),a.jsxs("form",{onSubmit:A,className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-white/50 mb-1.5 uppercase tracking-wider font-bold",children:"Assignment Title"}),a.jsxs("div",{className:"relative group",children:[a.jsx(d4,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/20 group-focus-within:text-neon-blue transition-colors"}),a.jsx("input",{value:o,onChange:b=>l(b.target.value),placeholder:"Enter title...",className:"input-glass pl-10",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-white/50 mb-1.5 uppercase tracking-wider font-bold",children:"Target Class"}),a.jsx("select",{value:h,onChange:b=>f(b.target.value),className:"input-glass",children:t.map(b=>a.jsx("option",{value:b.id,children:b.name},b.id))})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-white/50 mb-1.5 uppercase tracking-wider font-bold",children:"Due Date"}),a.jsxs("div",{className:"relative group",children:[a.jsx(nv,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/20 group-focus-within:text-neon-blue transition-colors"}),a.jsx("input",{type:"date",value:S,onChange:b=>R(b.target.value),className:"input-glass pl-10",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-white/50 mb-1.5 uppercase tracking-wider font-bold",children:" Time Limit (minutes)"}),a.jsxs("div",{className:"relative group",children:[a.jsx("input",{type:"number",value:E,onChange:b=>M(b.target.value),placeholder:"0 = no limit",className:"input-glass",min:"0"}),a.jsx("p",{className:"text-[10px] text-white/20 mt-1",children:E>0?`Students have ${E} minutes to complete`:"No time limit"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-white/50 mb-1.5 uppercase tracking-wider font-bold",children:"Global Mode"}),a.jsx("div",{className:"flex gap-2",children:Object.entries(Ac).map(([b,O])=>a.jsxs("button",{type:"button",onClick:()=>y(b),className:`flex-1 flex flex-col items-center gap-1 p-2 rounded-xl border text-[10px] transition-all
                                                    ${m===b?`${O.bg} ${O.border} ${O.text} font-bold shadow-lg`:"border-white/[0.06] text-white/40 hover:border-white/10 hover:text-white/60"}`,children:[a.jsx(O.icon,{size:14}),O.label]},b))})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-white/50 mb-1.5 uppercase tracking-wider font-bold",children:"Instructions & Description"}),a.jsx("textarea",{value:c,onChange:b=>d(b.target.value),className:"input-glass h-24 resize-none p-3",placeholder:"Provide clear instructions for your students..."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between border-b border-white/5 pb-2 gap-2",children:[a.jsxs("label",{className:"text-xs text-white/50 uppercase tracking-wider font-bold",children:["Coursework Questions (",x.length,")"]}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:["multiple-choice","true-false","fill-in-blank","short-answer","essay","ordering","matching","word-scramble","sentence-builder","categorize","error-correction","translation"].map(b=>a.jsxs("button",{type:"button",onClick:()=>L(b),className:"btn-ghost flex items-center gap-1 text-[10px] py-1 px-2 h-auto",children:[a.jsx(Yt,{size:12})," ",b.split("-").map(O=>O[0].toUpperCase()+O.slice(1)).join(" ")]},b))})]}),a.jsx("div",{className:"space-y-4",children:x.map((b,O)=>a.jsxs(H.div,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"relative group/q",children:[a.jsx("div",{className:"absolute -left-3 top-4 w-6 h-6 rounded-full bg-white/[0.03] border border-white/10 flex items-center justify-center text-[10px] font-bold text-white/20 group-hover/q:text-neon-blue group-hover/q:border-neon-blue/30 transition-all",children:O+1}),a.jsxs("div",{className:"p-5 rounded-2xl bg-white/[0.02] border border-white/[0.06] hover:border-white/10 transition-all space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-1 space-y-3",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("select",{value:b.type,onChange:P=>p(O,"type",P.target.value),className:"bg-transparent border-none text-xs text-neon-blue font-bold cursor-pointer focus:ring-0 p-0",children:[a.jsx("option",{value:"multiple-choice",children:"Multiple Choice"}),a.jsx("option",{value:"true-false",children:"True/False"}),a.jsx("option",{value:"fill-in-blank",children:"Fill in Blank"}),a.jsx("option",{value:"short-answer",children:"Short Answer"}),a.jsx("option",{value:"essay",children:"Essay"}),a.jsx("option",{value:"ordering",children:"Ordering"}),a.jsx("option",{value:"matching",children:"Matching"}),a.jsx("option",{value:"word-scramble",children:"Word Scramble"}),a.jsx("option",{value:"sentence-builder",children:"Sentence Builder"}),a.jsx("option",{value:"categorize",children:"Categorize"}),a.jsx("option",{value:"error-correction",children:"Error Correction"}),a.jsx("option",{value:"translation",children:"Translation"})]}),a.jsx("div",{className:"h-3 w-px bg-white/10"}),a.jsx("input",{value:b.text,onChange:P=>p(O,"text",P.target.value),placeholder:"Enter question text...",className:"bg-transparent border-none text-sm text-white placeholder:text-white/20 w-full focus:ring-0 p-0"})]})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-black/20 rounded-lg border border-white/5",children:[a.jsx("input",{type:"number",value:b.points,onChange:P=>p(O,"points",Number(P.target.value)),className:"bg-transparent border-none text-xs text-white w-8 text-center focus:ring-0 p-0",min:1}),a.jsx("span",{className:"text-[10px] text-white/30 font-bold uppercase",children:"pts"})]}),x.length>1&&a.jsx("button",{type:"button",onClick:()=>T(O),className:"p-1.5 rounded-lg text-white/10 hover:text-red-400 hover:bg-red-500/10 transition-all",children:a.jsx(Na,{size:14})})]})]}),(b.type==="multiple-choice"||b.type==="true-false")&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pt-2",children:b.options.map((P,V)=>a.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl border transition-all ${b.correctAnswer===V?"bg-neon-green/5 border-neon-green/30":"bg-white/[0.01] border-white/5"}`,children:[a.jsx("button",{type:"button",onClick:()=>p(O,"correctAnswer",V),className:`w-5 h-5 rounded-full border-2 flex items-center justify-center shrink-0 transition-all
                                                                    ${b.correctAnswer===V?"border-neon-green bg-neon-green/20":"border-white/10 hover:border-white/30"}`,children:b.correctAnswer===V&&a.jsx("div",{className:"w-2 h-2 rounded-full bg-neon-green shadow-[0_0_5px_rgba(52,211,153,0.5)]"})}),a.jsx("input",{value:P,onChange:z=>w(O,V,z.target.value),placeholder:b.type==="true-false"?V===0?"True":"False":`Option ${V+1}`,readOnly:b.type==="true-false",className:"bg-transparent border-none text-xs text-white/80 placeholder:text-white/10 w-full focus:ring-0 p-0"})]},V))}),b.type==="fill-in-blank"&&a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsx("p",{className:"text-[10px] text-white/30",children:"Enter the correct answer. Students must type this exactly."}),a.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-xl bg-neon-green/5 border border-neon-green/20",children:[a.jsx(Yd,{size:14,className:"text-neon-green shrink-0"}),a.jsx("input",{value:b.correctText||"",onChange:P=>p(O,"correctText",P.target.value),placeholder:"Correct answer...",className:"bg-transparent border-none text-xs text-white w-full focus:ring-0 p-0"})]})]}),b.type==="ordering"&&a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsx("p",{className:"text-[10px] text-white/30",children:"Enter items in the CORRECT order. Students will see them shuffled."}),(b.items||[]).map((P,V)=>a.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-xl bg-white/[0.02] border border-white/5",children:[a.jsx("span",{className:"text-[10px] text-neon-blue font-bold w-5 text-center shrink-0",children:V+1}),a.jsx("input",{value:P,onChange:z=>{const U=[...b.items||[]];U[V]=z.target.value,p(O,"items",U)},placeholder:`Item ${V+1}...`,className:"bg-transparent border-none text-xs text-white w-full focus:ring-0 p-0"}),(b.items||[]).length>2&&a.jsx("button",{type:"button",onClick:()=>{const z=(b.items||[]).filter((U,ee)=>ee!==V);p(O,"items",z)},className:"text-white/10 hover:text-red-400 p-1",children:a.jsx(cn,{size:12})})]},V)),a.jsxs("button",{type:"button",onClick:()=>p(O,"items",[...b.items||[],""]),className:"text-[10px] text-neon-blue hover:text-neon-blue/80 flex items-center gap-1",children:[a.jsx(Yt,{size:12})," Add item"]})]}),b.type==="short-answer"&&a.jsx("div",{className:"bg-black/20 border border-white/5 rounded-xl p-3 text-[10px] text-white/30 italic",children:" Students will type a short text response. Teacher grades manually."}),b.type==="essay"&&a.jsx("div",{className:"bg-black/20 border border-white/5 rounded-xl p-3 text-[10px] text-white/30 italic",children:" Students will write a long-form response. Teacher grades manually."}),b.type==="matching"&&a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsx("p",{className:"text-[10px] text-white/30",children:"Enter matching pairs. Students will see Right column shuffled."}),(b.pairs||[]).map((P,V)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{value:P.left,onChange:z=>{const U=[...b.pairs||[]];U[V]={...U[V],left:z.target.value},p(O,"pairs",U)},placeholder:`Left ${V+1}`,className:"flex-1 input-glass text-xs py-2"}),a.jsx("span",{className:"text-white/20 text-xs",children:""}),a.jsx("input",{value:P.right,onChange:z=>{const U=[...b.pairs||[]];U[V]={...U[V],right:z.target.value},p(O,"pairs",U)},placeholder:`Right ${V+1}`,className:"flex-1 input-glass text-xs py-2"}),(b.pairs||[]).length>2&&a.jsx("button",{type:"button",onClick:()=>p(O,"pairs",(b.pairs||[]).filter((z,U)=>U!==V)),className:"text-white/10 hover:text-red-400 p-1",children:a.jsx(cn,{size:12})})]},V)),a.jsxs("button",{type:"button",onClick:()=>p(O,"pairs",[...b.pairs||[],{left:"",right:""}]),className:"text-[10px] text-neon-blue flex items-center gap-1",children:[a.jsx(Yt,{size:12})," Add pair"]})]}),b.type==="word-scramble"&&a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsx("p",{className:"text-[10px] text-white/30",children:"Enter the correct word. Letters will be scrambled for students."}),a.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-xl bg-neon-green/5 border border-neon-green/20",children:[a.jsx(Yd,{size:14,className:"text-neon-green shrink-0"}),a.jsx("input",{value:b.correctText||"",onChange:P=>p(O,"correctText",P.target.value),placeholder:"Correct word...",className:"bg-transparent border-none text-xs text-white w-full focus:ring-0 p-0"})]})]}),b.type==="sentence-builder"&&a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsx("p",{className:"text-[10px] text-white/30",children:"Enter the correct sentence. Words will be shuffled for students to reorder."}),a.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-xl bg-neon-purple/5 border border-neon-purple/20",children:[a.jsx(r4,{size:14,className:"text-neon-purple shrink-0"}),a.jsx("input",{value:b.correctSentence||"",onChange:P=>p(O,"correctSentence",P.target.value),placeholder:"The cat sat on the mat",className:"bg-transparent border-none text-xs text-white w-full focus:ring-0 p-0"})]})]}),b.type==="categorize"&&a.jsxs("div",{className:"space-y-3 pt-2",children:[a.jsx("p",{className:"text-[10px] text-white/30",children:"Define categories and their items. Students will sort items into the correct category."}),(b.categories||[]).map((P,V)=>a.jsxs("div",{className:"p-3 rounded-xl bg-white/[0.02] border border-white/5 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{value:P.name,onChange:z=>{const U=[...b.categories||[]];U[V]={...U[V],name:z.target.value},p(O,"categories",U)},placeholder:`Category ${V+1} name`,className:"bg-transparent border-none text-xs text-neon-blue font-bold w-full focus:ring-0 p-0"}),(b.categories||[]).length>2&&a.jsx("button",{type:"button",onClick:()=>p(O,"categories",(b.categories||[]).filter((z,U)=>U!==V)),className:"text-white/10 hover:text-red-400 p-1",children:a.jsx(cn,{size:12})})]}),(P.items||[]).map((z,U)=>a.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[a.jsx("span",{className:"text-[10px] text-white/20",children:""}),a.jsx("input",{value:z,onChange:ee=>{const $=[...b.categories||[]],W=[...$[V].items];W[U]=ee.target.value,$[V]={...$[V],items:W},p(O,"categories",$)},placeholder:"Item...",className:"bg-transparent border-none text-xs text-white/60 w-full focus:ring-0 p-0"}),(P.items||[]).length>1&&a.jsx("button",{type:"button",onClick:()=>{const ee=[...b.categories||[]];ee[V]={...ee[V],items:ee[V].items.filter(($,W)=>W!==U)},p(O,"categories",ee)},className:"text-white/10 hover:text-red-400 p-0.5",children:a.jsx(cn,{size:10})})]},U)),a.jsxs("button",{type:"button",onClick:()=>{const z=[...b.categories||[]];z[V]={...z[V],items:[...z[V].items,""]},p(O,"categories",z)},className:"text-[10px] text-neon-blue ml-4 flex items-center gap-1",children:[a.jsx(Yt,{size:10})," item"]})]},V)),a.jsxs("button",{type:"button",onClick:()=>p(O,"categories",[...b.categories||[],{name:"",items:[""]}]),className:"text-[10px] text-neon-blue flex items-center gap-1",children:[a.jsx(Yt,{size:12})," Add category"]})]}),b.type==="error-correction"&&a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsx("p",{className:"text-[10px] text-white/30",children:"Enter a sentence WITH errors, then the corrected version."}),a.jsx("input",{value:b.errorSentence||"",onChange:P=>p(O,"errorSentence",P.target.value),placeholder:"Sentence with error: He go to school yesterday",className:"input-glass text-xs"}),a.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-xl bg-neon-green/5 border border-neon-green/20",children:[a.jsx(Rt,{size:14,className:"text-neon-green shrink-0"}),a.jsx("input",{value:b.correctText||"",onChange:P=>p(O,"correctText",P.target.value),placeholder:"Correct: He went to school yesterday",className:"bg-transparent border-none text-xs text-white w-full focus:ring-0 p-0"})]})]}),b.type==="translation"&&a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsx("p",{className:"text-[10px] text-white/30",children:"Source text to translate, and the correct translation."}),a.jsx("input",{value:b.sourceText||"",onChange:P=>p(O,"sourceText",P.target.value),placeholder:"Source: Hola, cmo ests?",className:"input-glass text-xs"}),a.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-xl bg-neon-green/5 border border-neon-green/20",children:[a.jsx(Yd,{size:14,className:"text-neon-green shrink-0"}),a.jsx("input",{value:b.correctText||"",onChange:P=>p(O,"correctText",P.target.value),placeholder:"Translation: Hello, how are you?",className:"bg-transparent border-none text-xs text-white w-full focus:ring-0 p-0"})]})]})]})]},b.id))})]})]}),a.jsx("div",{className:"p-6 border-t border-white/10 bg-white/[0.02]",children:a.jsxs("button",{type:"submit",onClick:A,className:`w-full py-4 rounded-xl bg-gradient-to-r ${k.gradient} text-white font-bold transition-all hover:opacity-90 hover:shadow-[0_0_20px_rgba(255,255,255,0.1)] active:scale-[0.99] flex items-center justify-center gap-2`,children:[r?a.jsx(au,{size:18}):a.jsx(Yt,{size:18}),r?"Save Changes":`Launch ${k.label}`]})})]})]})]})}function oF(){const{classes:t,assignments:e,submissions:n,allStudents:s,updateSubmission:i,bulkGradeSubmissions:r}=hn(),o=us(),[l,c]=I.useState(null),[d,h]=I.useState("all"),[f,m]=I.useState("all"),[y,S]=I.useState(""),R=p=>p>=90?"text-neon-green":p>=70?"text-neon-blue":p>=50?"text-neon-orange":"text-red-400",j=p=>p>=90?"from-neon-green/20 to-neon-green/5":p>=70?"from-neon-blue/20 to-neon-blue/5":p>=50?"from-neon-orange/20 to-neon-orange/5":"from-red-500/20 to-red-500/5",N=async(p,w,A)=>{try{await i(p,{grade:parseInt(w),questionScores:A,status:"graded"}),o.success("Grade saved!"),c(null)}catch{o.error("Failed to save grade")}},x=I.useMemo(()=>n.filter(p=>{const w=e.find(k=>k.id===p.assignmentId),A=s.find(k=>k.id===p.studentId);if(d!=="all"&&(w==null?void 0:w.classId)!==d||f==="pending"&&p.grade!=null||f==="graded"&&p.grade==null)return!1;if(y){const k=y.toLowerCase(),C=((A==null?void 0:A.displayName)||p.studentName||"").toLowerCase().includes(k),b=((w==null?void 0:w.title)||"").toLowerCase().includes(k);if(!C&&!b)return!1}return!0}).sort((p,w)=>p.grade==null&&w.grade!=null?-1:p.grade!=null&&w.grade==null?1:new Date(w.submittedAt)-new Date(p.submittedAt)),[n,e,s,d,f,y]),v=n.filter(p=>p.grade!=null),E=n.filter(p=>p.grade==null).length,M=v.length>0?Math.round(v.reduce((p,w)=>{const A=e.find(C=>C.id===w.assignmentId),k=(A==null?void 0:A.totalPoints)||100;return p+Number(w.grade)/k*100},0)/v.length):0,L={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},T={hidden:{opacity:0,y:15},show:{opacity:1,y:0}};return a.jsxs("div",{className:"min-h-screen pb-20",children:[a.jsx(Mt,{title:"Gradebook",subtitle:"View and manage student grades"}),a.jsxs(H.div,{variants:L,initial:"hidden",animate:"show",className:"p-4 sm:p-6 space-y-6 max-w-7xl mx-auto",children:[a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[{label:"Average",value:`${M}%`,icon:Oa,color:"neon-green",glow:"rgba(0,255,136,0.08)"},{label:"Submissions",value:n.length,icon:_i,color:"neon-blue",glow:"rgba(0,209,255,0.08)"},{label:"Graded",value:v.length,icon:Vu,color:"neon-purple",glow:"rgba(139,92,246,0.08)"},{label:"Pending",value:E,icon:Qn,color:E>0?"neon-orange":"white/40",glow:E>0?"rgba(255,165,0,0.08)":"transparent"}].map((p,w)=>a.jsxs(H.div,{variants:T,className:"glass-card p-3 sm:p-5",style:{boxShadow:`0 0 30px ${p.glow}`},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(p.icon,{size:16,className:`text-${p.color}`}),a.jsx("span",{className:"text-xs text-white/40",children:p.label})]}),a.jsx("p",{className:`text-xl sm:text-3xl font-display font-bold text-${p.color}`,children:p.value})]},w))}),E>0&&a.jsx(H.div,{variants:T,className:"glass-card p-3 border-l-4 border-l-neon-orange bg-neon-orange/5 cursor-pointer",onClick:()=>m("pending"),children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Si,{size:18,className:"text-neon-orange"}),a.jsxs("span",{className:"text-sm text-neon-orange font-medium",children:[E," submissions need grading"]})]})}),a.jsxs(H.div,{variants:T,className:"flex flex-wrap gap-3 items-center",children:[a.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-sm",children:[a.jsx(Ni,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/20"}),a.jsx("input",{value:y,onChange:p=>S(p.target.value),placeholder:"Search student or assignment...",className:"input-glass pl-10 text-sm"})]}),a.jsxs("select",{value:d,onChange:p=>h(p.target.value),className:"input-glass text-sm px-3 py-2.5 w-auto min-w-[140px]",children:[a.jsx("option",{value:"all",children:"All Classes"}),t.map(p=>a.jsx("option",{value:p.id,children:p.name},p.id))]}),a.jsx("div",{className:"flex rounded-xl border border-white/[0.08] overflow-hidden",children:["all","pending","graded"].map(p=>a.jsx("button",{onClick:()=>m(p),className:`px-3 py-2 text-xs capitalize transition-all ${f===p?"bg-neon-blue/10 text-neon-blue":"text-white/40 hover:text-white/60 hover:bg-white/[0.04]"}`,children:p},p))})]}),a.jsxs(H.div,{variants:T,className:"glass-card overflow-hidden",children:[a.jsxs("div",{className:"hidden sm:grid grid-cols-12 gap-4 px-6 py-3 border-b border-white/[0.06] text-xs text-white/40 uppercase tracking-wider",children:[a.jsx("div",{className:"col-span-3",children:"Student"}),a.jsx("div",{className:"col-span-3",children:"Assignment"}),a.jsx("div",{className:"col-span-2",children:"Class"}),a.jsx("div",{className:"col-span-2",children:"Grade"}),a.jsx("div",{className:"col-span-2 text-right",children:"Action"})]}),x.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(_i,{size:28,className:"mx-auto text-white/10 mb-3"}),a.jsx("p",{className:"text-white/40 text-sm",children:n.length===0?"No submissions yet":"No matching submissions"})]}):x.map(p=>{var b,O;const w=s.find(P=>P.id===p.studentId),A=e.find(P=>P.id===p.assignmentId),k=t.find(P=>P.id===(A==null?void 0:A.classId)),C=p.grade!=null?Math.round(p.grade/((A==null?void 0:A.totalPoints)||100)*100):null;return a.jsxs("div",{onClick:()=>c({sub:p,assignment:A,student:w}),className:"sm:grid sm:grid-cols-12 sm:gap-4 px-4 sm:px-6 py-3 sm:py-4 border-b border-white/[0.02] hover:bg-white/[0.02] transition-all items-center cursor-pointer group flex flex-col sm:flex-row gap-2 sm:gap-4",children:[a.jsxs("div",{className:"sm:col-span-3 flex items-center gap-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold shrink-0 ${p.grade!=null?"bg-gradient-to-br from-neon-blue to-neon-purple":"bg-gradient-to-br from-neon-orange to-amber-500"}`,children:((b=w==null?void 0:w.displayName)==null?void 0:b[0])||((O=p.studentName)==null?void 0:O[0])||"?"}),a.jsx("span",{className:"text-sm text-white truncate",children:(w==null?void 0:w.displayName)||p.studentName||"Unknown"})]}),a.jsx("div",{className:"sm:col-span-3 text-sm text-white/60 truncate",children:(A==null?void 0:A.title)||"Unknown"}),a.jsx("div",{className:"sm:col-span-2 font-mono text-xs text-neon-blue/60 hidden sm:block",children:(k==null?void 0:k.name)||""}),a.jsx("div",{className:"sm:col-span-2",children:p.grade!=null?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-8 h-8 rounded-lg bg-gradient-to-br ${j(C)} flex items-center justify-center`,children:a.jsx("span",{className:`text-xs font-bold ${R(C)}`,children:p.grade})}),a.jsxs("span",{className:"text-xs text-white/30",children:["/ ",(A==null?void 0:A.totalPoints)||100]})]}):a.jsxs("span",{className:"text-xs text-neon-orange flex items-center gap-1",children:[a.jsx(Qn,{size:12})," Pending"]})}),a.jsx("div",{className:"sm:col-span-2 text-right hidden sm:block",children:a.jsx("button",{className:"p-2 rounded-lg bg-white/[0.02] border border-white/[0.05] text-white/40 group-hover:text-neon-blue group-hover:border-neon-blue/30 transition-all",children:a.jsx(t4,{size:16})})})]},p.id)})]})]}),a.jsx(Gn,{children:l&&a.jsx(lF,{submission:l.sub,assignment:l.assignment,student:l.student,onClose:()=>c(null),onGrade:N})})]})}function lF({submission:t,assignment:e,student:n,onClose:s,onGrade:i}){var h;const r=()=>{var m;const f={};return(m=e==null?void 0:e.questions)==null||m.forEach((y,S)=>{var j,N,x;const R=(j=t.answers)==null?void 0:j[S];if(y.type==="multiple-choice"||y.type==="true-false"){const v=(N=y.options)==null?void 0:N[y.correctAnswer];f[S]=R===v&&y.points||0}else if(y.type==="fill-in-blank"){const v=(R||"").trim().toLowerCase()===(y.correctText||"").trim().toLowerCase();f[S]=v&&y.points||0}else if(y.type==="ordering"){const v=y.items||[],E=JSON.stringify(R)===JSON.stringify(v);f[S]=E&&y.points||0}else f[S]=((x=t.questionScores)==null?void 0:x[S])??""}),f},[o,l]=I.useState(r),c=Object.values(o).reduce((f,m)=>f+(Number(m)||0),0),d={"multiple-choice":"Multiple Choice","true-false":"True / False","fill-in-blank":"Fill in Blank","short-answer":"Short Answer",essay:"Essay",ordering:"Ordering"};return a.jsxs(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:s}),a.jsxs(H.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative glass-card w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-4 sm:p-6 border-b border-white/10 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg sm:text-xl font-display font-bold text-white",children:"Review Submission"}),a.jsxs("p",{className:"text-xs sm:text-sm text-white/40",children:[(n==null?void 0:n.displayName)||t.studentName,"  ",e==null?void 0:e.title]})]}),a.jsx("button",{onClick:s,className:"p-2 rounded-lg hover:bg-white/10 text-white/40 hover:text-white transition-colors",children:a.jsx(cn,{size:20})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 space-y-4",children:(h=e==null?void 0:e.questions)==null?void 0:h.map((f,m)=>{var L,T;const y=(L=t.answers)==null?void 0:L[m],S=f.type==="multiple-choice"||f.type==="true-false",R=f.type==="fill-in-blank",j=f.type==="ordering",N=f.type==="essay"||f.type==="short-answer";let x=null,v=!1;S?(x=(T=f.options)==null?void 0:T[f.correctAnswer],v=y===x):R?(x=f.correctText,v=(y||"").trim().toLowerCase()===(x||"").trim().toLowerCase()):j&&(v=JSON.stringify(y)===JSON.stringify(f.items||[]));const E=o[m],M=N?"bg-white/[0.02] border-white/[0.04]":v?"bg-neon-green/5 border-neon-green/20":"bg-red-500/5 border-red-500/20";return a.jsxs("div",{className:`p-4 rounded-xl border ${M}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("p",{className:"text-xs text-white/40",children:["Q",m+1,"  ",d[f.type]||f.type]}),a.jsxs("div",{className:"flex items-center gap-2",children:[(S||R||j)&&a.jsx("span",{className:`text-xs font-bold ${v?"text-neon-green":"text-red-400"}`,children:v?` +${f.points}`:" 0"}),N&&a.jsxs("div",{className:"flex items-center gap-1 bg-black/30 px-2 py-1 rounded-lg border border-white/10",children:[a.jsx("input",{type:"number",min:"0",max:f.points,value:E,onChange:p=>l({...o,[m]:p.target.value}),className:"bg-transparent border-none text-sm text-neon-blue w-10 text-center focus:ring-0 p-0 font-bold",placeholder:"0"}),a.jsxs("span",{className:"text-[10px] text-white/30",children:["/ ",f.points]})]})]})]}),a.jsx("p",{className:"text-white mb-3 font-medium text-sm",children:f.text}),a.jsxs("div",{className:"p-3 rounded-lg bg-black/20 border border-white/5",children:[a.jsx("p",{className:"text-xs text-neon-blue mb-1 uppercase tracking-wider font-bold",children:"Student Answer:"}),j?a.jsxs("div",{className:"space-y-1",children:[(Array.isArray(y)?y:[]).map((p,w)=>a.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/80",children:[a.jsxs("span",{className:"text-[10px] text-white/30 w-4",children:[w+1,"."]}),p]},w)),(!y||!Array.isArray(y)||y.length===0)&&a.jsx("p",{className:"text-white/30 text-sm",children:" No answer "})]}):a.jsx("p",{className:"text-white/80 text-sm whitespace-pre-wrap",children:y||" No answer "})]}),(S||R)&&!v&&x&&a.jsx("div",{className:"mt-2 p-2 rounded-lg bg-neon-green/5 border border-neon-green/10",children:a.jsxs("p",{className:"text-xs text-neon-green",children:[" Correct: ",x]})}),j&&!v&&a.jsxs("div",{className:"mt-2 p-2 rounded-lg bg-neon-green/5 border border-neon-green/10",children:[a.jsx("p",{className:"text-xs text-neon-green mb-1",children:" Correct order:"}),(f.items||[]).map((p,w)=>a.jsxs("p",{className:"text-xs text-neon-green/70 ml-2",children:[w+1,". ",p]},w))]})]},m)})}),a.jsxs("div",{className:"p-4 sm:p-6 border-t border-white/10 bg-white/[0.02] flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"text-xs text-white/40 uppercase block mb-1",children:"Total Score"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl font-display font-black text-neon-blue",children:c}),a.jsxs("span",{className:"text-white/30 text-sm",children:["/ ",(e==null?void 0:e.totalPoints)||100]}),a.jsxs("span",{className:"text-xs text-white/20 ml-2",children:["(",Math.round(c/((e==null?void 0:e.totalPoints)||100)*100),"%)"]})]})]}),a.jsxs("button",{onClick:()=>i(t.id,c,o),className:"btn-neon h-12 px-6 sm:px-8 flex items-center justify-center gap-2 disabled:opacity-40",children:[a.jsx(Rt,{size:18})," ",t.grade!=null?"Update":"Save"," Grade"]})]})]})]})}function cF(){var b;const{userProfile:t}=ot(),{classes:e,assignments:n,submissions:s,announcements:i,joinClass:r,getOverdueAssignments:o,getPendingAssignments:l,getStudentProgress:c,getStudentStreak:d}=hn(),h=us(),f=yn(),[m,y]=I.useState(""),[S,R]=I.useState(!1),[j,N]=I.useState(!1),x=t==null?void 0:t.uid,v=e.filter(O=>{var P;return(P=O.students)==null?void 0:P.includes(x)}),E=c(x),M=o(x),L=l(x),T=d(x),p=s.filter(O=>O.studentId===x&&O.grade!=null).sort((O,P)=>new Date(P.gradedAt||P.submittedAt)-new Date(O.gradedAt||O.submittedAt)).slice(0,5),w=i.filter(O=>v.some(P=>P.id===O.classId)).sort((O,P)=>new Date(P.createdAt)-new Date(O.createdAt)).slice(0,4),A=async()=>{if(m.trim()){R(!0);try{await r(m.trim(),x),h.success("Successfully joined class!"),y(""),N(!1)}catch(O){h.error(O.message)}finally{R(!1)}}},k={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.08}}},C={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return a.jsxs("div",{className:"min-h-screen pb-20",children:[a.jsx(Mt,{title:`Welcome back, ${((b=t==null?void 0:t.displayName)==null?void 0:b.split(" ")[0])||"Student"}`,subtitle:`${new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}`,actions:a.jsxs("button",{onClick:()=>N(!j),className:"btn-neon text-sm px-4 py-2 flex items-center gap-2",children:[a.jsx(Yt,{size:16})," Join Class"]})}),a.jsxs(H.div,{variants:k,initial:"hidden",animate:"show",className:"p-4 sm:p-6 space-y-6 max-w-7xl mx-auto",children:[j&&a.jsxs(H.div,{variants:C,className:"glass-card p-4 sm:p-6 border border-neon-blue/20",children:[a.jsx("h3",{className:"text-white font-semibold mb-3",children:"Join a Class"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("input",{placeholder:"Enter class code...",value:m,onChange:O=>y(O.target.value.toUpperCase()),onKeyDown:O=>O.key==="Enter"&&A(),className:"input-glass flex-1 uppercase tracking-widest font-mono",maxLength:6}),a.jsx("button",{onClick:A,disabled:S,className:"btn-neon px-6 shrink-0",children:S?"Joining...":"Join"})]})]}),a.jsx(H.div,{variants:C,className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[{icon:jt,label:"Classes",value:v.length,color:"neon-blue",glow:"rgba(0,209,255,0.1)"},{icon:_0,label:"Completed",value:`${E.completed}/${E.total}`,color:"neon-green",glow:"rgba(0,255,136,0.1)"},{icon:_i,label:"Average",value:`${E.avgGrade}%`,color:"neon-purple",glow:"rgba(139,92,246,0.1)"},{icon:Ec,label:"Streak",value:`${T}d`,color:"neon-orange",glow:"rgba(255,165,0,0.1)"}].map((O,P)=>a.jsxs("div",{className:"glass-card p-3 sm:p-5 group hover:scale-[1.02] transition-all",style:{boxShadow:`0 0 30px ${O.glow}`},children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[a.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-xl bg-${O.color}/10 border border-${O.color}/20 flex items-center justify-center`,children:a.jsx(O.icon,{size:16,className:`text-${O.color}`})}),a.jsx("p",{className:"text-xs sm:text-sm text-white/40",children:O.label})]}),a.jsx("p",{className:`text-xl sm:text-3xl font-display font-black text-${O.color}`,children:O.value})]},P))}),M.length>0&&a.jsxs(H.div,{variants:C,className:"glass-card p-4 border-l-4 border-l-red-500 bg-red-500/5",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Si,{size:18,className:"text-red-400"}),a.jsxs("h3",{className:"text-red-400 font-semibold text-sm",children:["Overdue Assignments (",M.length,")"]})]}),a.jsx("div",{className:"space-y-2",children:M.slice(0,3).map(O=>a.jsxs("button",{onClick:()=>f(`/assignments/${O.id}`),className:"w-full flex items-center justify-between p-2 rounded-lg bg-white/[0.02] hover:bg-white/[0.05] transition-colors text-left",children:[a.jsx("span",{className:"text-sm text-white/60",children:O.title}),a.jsx("span",{className:"text-xs text-red-400",children:new Date(O.dueDate).toLocaleDateString()})]},O.id))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(H.div,{variants:C,className:"glass-card p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-display font-bold text-white flex items-center gap-2",children:[a.jsx(Qn,{size:18,className:"text-neon-blue"})," Upcoming"]}),a.jsx("span",{className:"badge-glass text-xs",children:L.length})]}),L.length===0?a.jsx("p",{className:"text-sm text-white/30 text-center py-8",children:"No upcoming assignments!"}):a.jsx("div",{className:"space-y-3",children:L.slice(0,5).map(O=>{const P=e.find(z=>z.id===O.classId),V=Math.ceil((new Date(O.dueDate)-new Date)/(1e3*60*60*24));return a.jsxs("button",{onClick:()=>f(`/assignments/${O.id}`),className:"w-full flex items-center gap-3 p-3 rounded-xl bg-white/[0.02] hover:bg-white/[0.05] border border-white/[0.04] hover:border-neon-blue/20 transition-all text-left group",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-neon-blue/10 border border-neon-blue/20 flex items-center justify-center shrink-0",children:a.jsx(_0,{size:18,className:"text-neon-blue"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-white truncate",children:O.title}),a.jsx("p",{className:"text-xs text-white/30",children:P==null?void 0:P.name})]}),a.jsx("div",{className:"text-right shrink-0",children:a.jsxs("p",{className:`text-xs font-bold ${V<=1?"text-red-400":V<=3?"text-neon-orange":"text-neon-green"}`,children:[V,"d left"]})}),a.jsx(nu,{size:14,className:"text-white/20 group-hover:text-neon-blue transition-colors shrink-0"})]},O.id)})})]}),a.jsxs(H.div,{variants:C,className:"glass-card p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-display font-bold text-white flex items-center gap-2",children:[a.jsx(Oa,{size:18,className:"text-neon-green"})," Recent Grades"]}),a.jsx("button",{onClick:()=>f("/grades"),className:"text-xs text-neon-blue hover:text-neon-blue/80 transition-colors",children:"View All"})]}),p.length===0?a.jsx("p",{className:"text-sm text-white/30 text-center py-8",children:"No grades yet"}):a.jsx("div",{className:"space-y-3",children:p.map(O=>{const P=n.find(ee=>ee.id===O.assignmentId),V=(P==null?void 0:P.totalPoints)||100,z=Math.round(O.grade/V*100),U=z>=90?"neon-green":z>=70?"neon-blue":z>=50?"neon-orange":"red-400";return a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-white/[0.02] border border-white/[0.04]",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg bg-${U}/10 border border-${U}/20 flex items-center justify-center`,children:a.jsxs("span",{className:`text-${U} font-bold text-sm`,children:[z,"%"]})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-white truncate",children:(P==null?void 0:P.title)||"Assignment"}),a.jsxs("p",{className:"text-xs text-white/30",children:[O.grade,"/",V," pts"]})]})]},O.id)})})]})]}),w.length>0&&a.jsxs(H.div,{variants:C,className:"glass-card p-4 sm:p-6",children:[a.jsx("h3",{className:"text-lg font-display font-bold text-white mb-4",children:" Recent Announcements"}),a.jsx("div",{className:"space-y-3",children:w.map(O=>{const P=e.find(V=>V.id===O.classId);return a.jsxs("div",{className:"p-3 rounded-xl bg-white/[0.02] border border-white/[0.04]",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-xs font-semibold text-neon-purple",children:P==null?void 0:P.name}),a.jsx("span",{className:"text-[10px] text-white/20",children:""}),a.jsx("span",{className:"text-[10px] text-white/30",children:new Date(O.createdAt).toLocaleDateString()}),O.pinned&&a.jsx("span",{className:"text-[10px] text-neon-orange",children:""})]}),a.jsx("p",{className:"text-sm text-white/60 leading-relaxed",children:O.content})]},O.id)})})]})]})]})}function uF(){const{userProfile:t}=ot(),{classes:e,assignments:n,submissions:s,leaveClass:i,getAssignmentCompletionRate:r}=hn(),o=us(),l=yn(),[c,d]=I.useState(""),[h,f]=I.useState(null),m=t==null?void 0:t.uid,y=e.filter(x=>{var v;return((v=x.students)==null?void 0:v.includes(m))&&!x.archived}),S=y.filter(x=>{var v,E;return((v=x.name)==null?void 0:v.toLowerCase().includes(c.toLowerCase()))||((E=x.teacherName)==null?void 0:E.toLowerCase().includes(c.toLowerCase()))}),R=async x=>{try{await i(x,m),o.success("Successfully left the class."),f(null)}catch(v){o.error("Failed to leave class: "+v.message)}},j={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.08}}},N={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return a.jsxs("div",{className:"min-h-screen pb-20",children:[a.jsx(Mt,{title:"My Classes",subtitle:`${y.length} enrolled classes`}),a.jsxs(H.div,{variants:j,initial:"hidden",animate:"show",className:"p-4 sm:p-6 space-y-6 max-w-7xl mx-auto",children:[a.jsxs(H.div,{variants:N,className:"relative",children:[a.jsx(Ni,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/30"}),a.jsx("input",{placeholder:"Search classes...",value:c,onChange:x=>d(x.target.value),className:"input-glass pl-11"})]}),S.length===0?a.jsxs(H.div,{variants:N,className:"glass-card p-12 text-center",children:[a.jsx(jt,{size:40,className:"text-white/10 mx-auto mb-4"}),a.jsx("p",{className:"text-white/30 text-sm",children:c?"No classes match your search.":"You haven't joined any classes yet."})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:S.map(x=>{var A;const v=n.filter(k=>k.classId===x.id),E=s.filter(k=>k.studentId===m&&v.some(C=>C.id===k.assignmentId)),M=E.length,L=v.length,T=L>0?Math.round(M/L*100):0,p=E.filter(k=>k.grade!=null),w=p.length>0?Math.round(p.reduce((k,C)=>{const b=v.find(O=>O.id===C.assignmentId);return k+C.grade/((b==null?void 0:b.totalPoints)||100)*100},0)/p.length):null;return a.jsxs(H.div,{variants:N,className:"glass-card group overflow-hidden hover:border-white/10 transition-all",children:[a.jsx("div",{className:"h-1 bg-white/[0.02]",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-neon-blue to-neon-green transition-all duration-500",style:{width:`${T}%`}})}),a.jsxs("div",{className:"p-4 sm:p-5",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3 mb-4",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("h3",{className:"text-base sm:text-lg font-display font-bold text-white truncate",children:x.name}),a.jsx("p",{className:"text-xs text-white/40 mt-0.5",children:x.teacherName})]}),a.jsx("div",{className:"text-right shrink-0",children:w!=null&&a.jsxs("span",{className:`text-sm font-bold ${w>=90?"text-neon-green":w>=70?"text-neon-blue":"text-neon-orange"}`,children:[w,"%"]})})]}),x.description&&a.jsx("p",{className:"text-xs text-white/30 leading-relaxed mb-4 line-clamp-2",children:x.description}),a.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[a.jsxs("div",{className:"text-center p-2 rounded-lg bg-white/[0.02] border border-white/[0.04]",children:[a.jsx("p",{className:"text-xs text-white/30",children:"Students"}),a.jsx("p",{className:"text-sm font-bold text-white",children:((A=x.students)==null?void 0:A.length)||0})]}),a.jsxs("div",{className:"text-center p-2 rounded-lg bg-white/[0.02] border border-white/[0.04]",children:[a.jsx("p",{className:"text-xs text-white/30",children:"Done"}),a.jsxs("p",{className:"text-sm font-bold text-neon-green",children:[M,"/",L]})]}),a.jsxs("div",{className:"text-center p-2 rounded-lg bg-white/[0.02] border border-white/[0.04]",children:[a.jsx("p",{className:"text-xs text-white/30",children:"Level"}),a.jsx("p",{className:"text-sm font-bold text-neon-purple",children:x.level||""})]})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-4 bg-white/[0.02] px-3 py-2 rounded-lg border border-white/[0.04]",children:[a.jsx("span",{className:"text-[10px] text-white/30 uppercase tracking-wider",children:"Code"}),a.jsx("span",{className:"text-sm font-mono font-bold text-neon-blue tracking-widest",children:x.code})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>l("/assignments"),className:"flex-1 btn-ghost flex items-center justify-center gap-2 text-sm py-2 rounded-lg",children:[a.jsx(os,{size:14})," Assignments"]}),a.jsx("button",{onClick:()=>f(x.id),className:"w-9 h-9 rounded-lg bg-red-500/5 border border-red-500/10 flex items-center justify-center text-red-400/40 hover:text-red-400 hover:bg-red-500/10 transition-all",title:"Leave class",children:a.jsx(a4,{size:14})})]})]}),a.jsx(Gn,{children:h===x.id&&a.jsx(H.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-red-500/10 bg-red-500/5 overflow-hidden",children:a.jsxs("div",{className:"p-4 text-center space-y-3",children:[a.jsxs("p",{className:"text-sm text-red-400",children:["Leave ",a.jsx("strong",{children:x.name}),"?"]}),a.jsxs("div",{className:"flex justify-center gap-2",children:[a.jsx("button",{onClick:()=>f(null),className:"px-4 py-1.5 rounded-lg bg-white/5 text-white/50 text-sm hover:bg-white/10 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>R(x.id),className:"px-4 py-1.5 rounded-lg bg-red-500/20 text-red-400 text-sm font-semibold hover:bg-red-500/30 transition-colors",children:"Leave"})]})]})})})]},x.id)})})]})]})}function dF(){const{userProfile:t}=ot(),{classes:e,assignments:n,submissions:s,getStudentProgress:i}=hn(),r=yn(),o=t==null?void 0:t.uid,[l,c]=I.useState("all"),[d,h]=I.useState("recent"),f=e.filter(E=>{var M;return(M=E.students)==null?void 0:M.includes(o)}),m=i(o),y=I.useMemo(()=>s.filter(E=>E.studentId===o&&E.grade!=null).map(E=>{const M=n.find(w=>w.id===E.assignmentId),L=e.find(w=>w.id===(M==null?void 0:M.classId)),T=(M==null?void 0:M.totalPoints)||100,p=Math.round(E.grade/T*100);return{...E,assignment:M,class:L,pct:p,max:T}}).filter(E=>{var M;return l==="all"||((M=E.class)==null?void 0:M.id)===l}).sort((E,M)=>d==="recent"?new Date(M.gradedAt||M.submittedAt)-new Date(E.gradedAt||E.submittedAt):d==="highest"?M.pct-E.pct:d==="lowest"?E.pct-M.pct:0),[s,n,e,o,l,d]),S=m.avgGrade,R=S>=90?"neon-green":S>=70?"neon-blue":S>=50?"neon-orange":"red-400",j=I.useMemo(()=>{const E={A:0,B:0,C:0,D:0,F:0};return y.forEach(M=>{M.pct>=90?E.A++:M.pct>=80?E.B++:M.pct>=70?E.C++:M.pct>=60?E.D++:E.F++}),E},[y]),N=Math.max(...Object.values(j),1),x={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.08}}},v={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return a.jsxs("div",{className:"min-h-screen pb-20",children:[a.jsx(Mt,{title:"My Grades",subtitle:`${y.length} graded assignments`}),a.jsxs(H.div,{variants:x,initial:"hidden",animate:"show",className:"p-4 sm:p-6 space-y-6 max-w-7xl mx-auto",children:[a.jsxs(H.div,{variants:v,className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"glass-card p-4 sm:p-5 text-center",children:[a.jsx(Vu,{size:20,className:`text-${R} mx-auto mb-2`}),a.jsxs("p",{className:`text-3xl sm:text-4xl font-display font-black text-${R}`,children:[S,"%"]}),a.jsx("p",{className:"text-[10px] text-white/30 uppercase tracking-wider mt-1",children:"Overall Average"})]}),a.jsxs("div",{className:"glass-card p-4 sm:p-5 text-center",children:[a.jsx(Rt,{size:20,className:"text-neon-green mx-auto mb-2"}),a.jsx("p",{className:"text-3xl sm:text-4xl font-display font-black text-white",children:m.completed}),a.jsx("p",{className:"text-[10px] text-white/30 uppercase tracking-wider mt-1",children:"Completed"})]}),a.jsxs("div",{className:"glass-card p-4 sm:p-5 text-center",children:[a.jsx(Qn,{size:20,className:"text-neon-orange mx-auto mb-2"}),a.jsx("p",{className:"text-3xl sm:text-4xl font-display font-black text-white",children:m.total-m.completed}),a.jsx("p",{className:"text-[10px] text-white/30 uppercase tracking-wider mt-1",children:"Remaining"})]}),a.jsxs("div",{className:"glass-card p-4 sm:p-5 text-center",children:[a.jsx(_i,{size:20,className:"text-neon-purple mx-auto mb-2"}),a.jsxs("p",{className:"text-3xl sm:text-4xl font-display font-black text-white",children:[m.completionRate,"%"]}),a.jsx("p",{className:"text-[10px] text-white/30 uppercase tracking-wider mt-1",children:"Completion Rate"})]})]}),a.jsxs(H.div,{variants:v,className:"glass-card p-4 sm:p-6",children:[a.jsx("h3",{className:"text-base font-display font-bold text-white mb-4",children:"Grade Distribution"}),a.jsx("div",{className:"flex items-end gap-2 sm:gap-3 h-32",children:Object.entries(j).map(([E,M])=>{const L=`${M/N*100}%`,p={A:"neon-green",B:"neon-blue",C:"neon-purple",D:"neon-orange",F:"red-400"}[E];return a.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1 h-full",children:[a.jsx("span",{className:"text-[10px] font-bold text-white/40",children:M}),a.jsx("div",{className:"w-full flex-1 flex items-end",children:a.jsx("div",{className:`w-full rounded-t-lg bg-${p}/20 border border-${p}/30 transition-all duration-500`,style:{height:M>0?L:"4px"}})}),a.jsx("span",{className:`text-xs font-bold text-${p}`,children:E})]},E)})})]}),a.jsxs(H.div,{variants:v,className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("select",{value:l,onChange:E=>c(E.target.value),className:"input-glass flex-1 text-sm",children:[a.jsx("option",{value:"all",children:"All Classes"}),f.map(E=>a.jsx("option",{value:E.id,children:E.name},E.id))]}),a.jsxs("select",{value:d,onChange:E=>h(E.target.value),className:"input-glass text-sm sm:w-48",children:[a.jsx("option",{value:"recent",children:"Most Recent"}),a.jsx("option",{value:"highest",children:"Highest Grade"}),a.jsx("option",{value:"lowest",children:"Lowest Grade"})]})]}),y.length===0?a.jsxs(H.div,{variants:v,className:"glass-card p-12 text-center",children:[a.jsx(Oa,{size:40,className:"text-white/10 mx-auto mb-4"}),a.jsx("p",{className:"text-white/30 text-sm",children:"No grades yet. Complete some assignments!"})]}):a.jsx("div",{className:"space-y-3",children:y.map(E=>{var L,T;const M=E.pct>=90?"neon-green":E.pct>=70?"neon-blue":E.pct>=50?"neon-orange":"red-400";return a.jsx(H.div,{variants:v,children:a.jsx("button",{onClick:()=>r(`/assignments/${E.assignmentId}`),className:"w-full glass-card p-3 sm:p-4 hover:border-white/10 transition-all text-left group",children:a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[a.jsx("div",{className:`w-12 h-12 sm:w-14 sm:h-14 rounded-xl bg-${M}/10 border border-${M}/20 flex items-center justify-center shrink-0`,children:a.jsxs("span",{className:`text-${M} font-display font-black text-lg sm:text-xl`,children:[E.pct,"%"]})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm sm:text-base font-medium text-white truncate",children:((L=E.assignment)==null?void 0:L.title)||"Assignment"}),a.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[a.jsxs("span",{className:"text-xs text-white/30 flex items-center gap-1",children:[a.jsx(jt,{size:10})," ",(T=E.class)==null?void 0:T.name]}),a.jsx("span",{className:"text-xs text-white/20",children:""}),a.jsxs("span",{className:"text-xs text-white/30",children:[E.grade,"/",E.max," pts"]})]})]}),a.jsx("div",{className:"hidden sm:block w-24",children:a.jsx("div",{className:"h-2 rounded-full bg-white/[0.04]",children:a.jsx("div",{className:`h-full rounded-full bg-${M}`,style:{width:`${E.pct}%`}})})}),a.jsx(nu,{size:16,className:"text-white/20 group-hover:text-neon-blue transition-colors shrink-0"})]})})},E.id)})})]})]})}function hF(){var U,ee;const{assignmentId:t}=UT(),e=yn(),{userProfile:n}=ot(),{assignments:s,classes:i,submissions:r,submitAssignment:o}=hn(),l=us(),c=s.find($=>$.id===t),d=i.find($=>$.id===(c==null?void 0:c.classId)),[h,f]=I.useState({}),[m,y]=I.useState(!1),S=I.useMemo(()=>r.find($=>$.assignmentId===t&&$.studentId===(n==null?void 0:n.uid)),[r,t,n==null?void 0:n.uid]),R=!!S,j=(c==null?void 0:c.timeLimit)>0,N=`timer_${t}_${n==null?void 0:n.uid}`,[x,v]=I.useState(()=>{if(!j||R)return 0;const $=sessionStorage.getItem(N);if($){const W=Math.max(0,Math.floor((Number($)-Date.now())/1e3));return W>0?W:0}return((c==null?void 0:c.timeLimit)||0)*60}),[E,M]=I.useState(!1),L=I.useRef(null),T=I.useRef(!1),p=I.useCallback(()=>{if(!j||R||E)return;M(!0);const $=Date.now()+x*1e3;sessionStorage.setItem(N,String($))},[j,R,E,x,N]);I.useEffect(()=>{j&&!R&&sessionStorage.getItem(N)&&M(!0)},[j,R,N]),I.useEffect(()=>{if(!(!E||R||x<=0))return L.current=setInterval(()=>{v($=>$<=1?(clearInterval(L.current),0):$-1)},1e3),()=>clearInterval(L.current)},[E,R]),I.useEffect(()=>{x===0&&E&&!R&&!T.current&&(T.current=!0,b())},[x,E,R]),I.useEffect(()=>{if(j&&E&&!R){const $=W=>{W.preventDefault(),W.returnValue="You have a timed exam in progress. Are you sure you want to leave?"};return window.addEventListener("beforeunload",$),()=>window.removeEventListener("beforeunload",$)}},[j,E,R]);const w=()=>{sessionStorage.removeItem(N),clearInterval(L.current)},A=$=>{const W=Math.floor($/60),we=$%60;return`${W}:${we.toString().padStart(2,"0")}`},k=j?x/(((c==null?void 0:c.timeLimit)||1)*60)*100:100,C=async()=>{var we;if(m||R)return;const $=((we=c.questions)==null?void 0:we.length)||0;if(Object.keys(h).filter(ue=>h[ue]!==""&&h[ue]!==void 0).length<$){l.warning("Please answer all questions before submitting.");return}y(!0);try{let ue=0,ye="graded",J=!1;c.questions.forEach((Z,ce)=>{const q=h[ce];if(Z.type==="multiple-choice"||Z.type==="true-false"){const me=Z.options[Z.correctAnswer];q===me&&(ue+=Z.points||0)}else if(Z.type==="fill-in-blank")(q||"").trim().toLowerCase()===(Z.correctText||"").trim().toLowerCase()&&(ue+=Z.points||0);else if(Z.type==="ordering")JSON.stringify(q)===JSON.stringify(Z.items||[])&&(ue+=Z.points||0);else if(Z.type==="matching")(Z.pairs||[]).every((Je,Ye)=>(q==null?void 0:q[Ye])===Je.right)&&(ue+=Z.points||0);else if(Z.type==="word-scramble")(q||"").trim().toLowerCase()===(Z.correctText||"").trim().toLowerCase()&&(ue+=Z.points||0);else if(Z.type==="sentence-builder")(q||"").trim().toLowerCase()===(Z.correctSentence||"").trim().toLowerCase()&&(ue+=Z.points||0);else if(Z.type==="categorize"){let me=!0,Je=0;(Z.categories||[]).forEach((Ye,$t)=>{(Ye.items||[]).forEach(()=>{(q==null?void 0:q[Je])!==$t&&(me=!1),Je++})}),me&&Je>0&&(ue+=Z.points||0)}else Z.type==="error-correction"||Z.type==="translation"?(q||"").trim().toLowerCase()===(Z.correctText||"").trim().toLowerCase()&&(ue+=Z.points||0):(Z.type==="essay"||Z.type==="short-answer")&&(J=!0)}),J&&(ye="pending");const Te={assignmentId:t,classId:c.classId,studentId:n==null?void 0:n.uid,studentName:(n==null?void 0:n.displayName)||"Student",answers:h,grade:ue,maxPoints:c.totalPoints||100,submittedAt:new Date().toISOString(),status:ye};await o(Te),w(),l.success(`Assignment submitted! You scored ${ue}/${c.totalPoints||0} points.`)}catch(ue){l.error("Submission failed: "+ue.message)}finally{y(!1)}},b=async()=>{if(!(m||R)){y(!0);try{let $=0,W="graded",we=!1;c.questions.forEach((ue,ye)=>{const J=h[ye];if(!(!J&&J!==0))if(ue.type==="multiple-choice"||ue.type==="true-false"){const Te=ue.options[ue.correctAnswer];J===Te&&($+=ue.points||0)}else ue.type==="fill-in-blank"?(J||"").trim().toLowerCase()===(ue.correctText||"").trim().toLowerCase()&&($+=ue.points||0):ue.type==="ordering"?JSON.stringify(J)===JSON.stringify(ue.items||[])&&($+=ue.points||0):(ue.type==="essay"||ue.type==="short-answer")&&(we=!0)}),we&&(W="pending"),await o({assignmentId:t,classId:c.classId,studentId:n==null?void 0:n.uid,studentName:(n==null?void 0:n.displayName)||"Student",answers:h,grade:$,maxPoints:c.totalPoints||100,submittedAt:new Date().toISOString(),status:W,autoSubmitted:!0}),w(),l.warning(" Time is up! Your answers were auto-submitted.")}catch($){l.error("Auto-submit failed: "+$.message)}finally{y(!1)}}};if(!c)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 mx-auto rounded-xl bg-white/[0.04] animate-pulse mb-4"}),a.jsx("p",{className:"text-white/40 text-sm",children:"Loading assignment..."})]})});const O={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},P={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},V=R&&S.grade!=null?Math.round(S.grade/(c.totalPoints||100)*100):0,z=V>=90?"text-neon-green":V>=70?"text-neon-blue":V>=50?"text-neon-orange":"text-red-400";return a.jsxs("div",{className:"min-h-screen pb-20",children:[a.jsx(Mt,{title:c.title,subtitle:`${(d==null?void 0:d.name)||"Class"}  Due ${new Date(c.dueDate).toLocaleDateString()}`,actions:a.jsxs("button",{onClick:()=>e(-1),className:"btn-ghost flex items-center gap-2 text-sm px-3 py-2",children:[a.jsx(Wr,{size:16})," Back"]})}),j&&!R&&a.jsx("div",{className:`sticky top-0 z-30 px-4 py-3 ${E?"bg-surface-950/95 backdrop-blur-xl border-b border-white/[0.06]":"bg-neon-blue/5 border-b border-neon-blue/20"}`,children:a.jsx("div",{className:"max-w-4xl mx-auto",children:E?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Cp,{size:16,className:`${x<=60?"text-red-400 animate-pulse":x<=300?"text-neon-orange":"text-neon-green"}`}),a.jsx("span",{className:`text-2xl font-mono font-black tracking-wider ${x<=60?"text-red-400 animate-pulse":x<=300?"text-neon-orange":"text-neon-green"}`,children:A(x)})]}),a.jsx("span",{className:"text-[10px] text-white/30",children:x<=60?" Less than 1 minute!":x<=300?" Hurry up!":`${Math.ceil(x/60)} min remaining`})]}),a.jsx("div",{className:"h-1.5 rounded-full bg-white/[0.06] overflow-hidden",children:a.jsx(H.div,{className:`h-full rounded-full transition-colors duration-1000 ${x<=60?"bg-red-500":x<=300?"bg-neon-orange":"bg-neon-green"}`,animate:{width:`${k}%`},transition:{duration:.5,ease:"linear"}})})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-neon-blue/10 border border-neon-blue/20 flex items-center justify-center",children:a.jsx(Cp,{size:20,className:"text-neon-blue"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-bold text-white",children:["Timed Exam  ",c.timeLimit," minutes"]}),a.jsx("p",{className:"text-[10px] text-white/40",children:"Timer starts when you click 'Start Exam'. You cannot pause once started."})]})]}),a.jsxs("button",{onClick:p,className:"btn-neon text-sm px-5 py-2.5 flex items-center gap-2 animate-pulse",children:[a.jsx(Cp,{size:16})," Start Exam"]})]})})}),a.jsx(H.div,{variants:O,initial:"hidden",animate:"show",className:"max-w-4xl mx-auto p-4 sm:p-6",children:R?a.jsxs(a.Fragment,{children:[a.jsxs(H.div,{variants:P,className:"glass-card p-6 sm:p-8 text-center space-y-4 mb-6",children:[a.jsx("div",{className:`w-20 h-20 rounded-2xl flex items-center justify-center mx-auto mb-2 ${V>=70?"bg-neon-green/10 border border-neon-green/20":"bg-neon-orange/10 border border-neon-orange/20"}`,children:V>=70?a.jsx(Pu,{size:36,className:"text-neon-green"}):a.jsx(Si,{size:36,className:"text-neon-orange"})}),a.jsx("h2",{className:"text-2xl sm:text-3xl font-display font-bold text-white",children:S.status==="graded"?"Results":"Submitted  Awaiting Review"}),S.status==="graded"&&a.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:`text-4xl sm:text-5xl font-display font-black ${z}`,children:S.grade}),a.jsx("p",{className:"text-xs text-white/40 mt-1",children:"Points Earned"})]}),a.jsx("div",{className:"w-px h-12 bg-white/10"}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-4xl sm:text-5xl font-display font-black text-white/30",children:c.totalPoints||0}),a.jsx("p",{className:"text-xs text-white/40 mt-1",children:"Total Points"})]}),a.jsx("div",{className:"w-px h-12 bg-white/10"}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:`text-4xl sm:text-5xl font-display font-black ${z}`,children:[V,"%"]}),a.jsx("p",{className:"text-xs text-white/40 mt-1",children:"Score"})]})]}),a.jsxs("div",{className:"flex justify-center gap-3 mt-4",children:[a.jsx("button",{onClick:()=>e("/dashboard"),className:"btn-neon text-sm px-4 py-2",children:"Dashboard"}),a.jsx("button",{onClick:()=>e("/grades"),className:"btn-ghost text-sm px-4 py-2",children:"My Grades"})]})]}),a.jsx("div",{className:"space-y-4",children:(U=c.questions)==null?void 0:U.map(($,W)=>{var Ye,$t;const we=(Ye=S.answers)==null?void 0:Ye[W],ue=$.type==="multiple-choice"||$.type==="true-false",ye=$.type==="fill-in-blank",J=$.type==="ordering",Te=$.type==="essay"||$.type==="short-answer";let Z=null,ce=!1;ue?(Z=$.options[$.correctAnswer],ce=we===Z):ye?(Z=$.correctText,ce=(we||"").trim().toLowerCase()===(Z||"").trim().toLowerCase()):J&&(ce=JSON.stringify(we)===JSON.stringify($.items||[]));const q=Te?"border-l-neon-blue":ce?"border-l-neon-green":"border-l-red-500",me=Te?"bg-neon-blue/10 border-neon-blue/20":ce?"bg-neon-green/10 border-neon-green/20":"bg-red-500/10 border-red-500/20",Je=Te?"bg-white/[0.03] text-white/30 border-white/5":ce?"bg-neon-green/10 text-neon-green border-neon-green/20":"bg-red-500/10 text-red-400 border-red-500/20";return a.jsx(H.div,{variants:P,className:`glass-card p-4 sm:p-6 border-l-4 ${q}`,children:a.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[a.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center shrink-0 border ${me}`,children:Te?a.jsx("span",{className:"text-neon-blue font-bold text-sm",children:W+1}):ce?a.jsx(Rt,{size:16,className:"text-neon-green"}):a.jsx(su,{size:16,className:"text-red-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[a.jsx("h4",{className:"text-white font-semibold text-sm sm:text-base leading-tight",children:$.text}),a.jsx("span",{className:`px-2 py-1 rounded-md text-[10px] font-bold uppercase tracking-wider shrink-0 border ${Je}`,children:Te?`${$.points} pts`:ce?`+${$.points}`:"0"})]}),ue&&a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:($t=$.options)==null?void 0:$t.map((nn,vn)=>{const fn=we===nn,ds=nn===Z;let Vr="bg-white/[0.01] border-white/5 text-white/40";return ds?Vr="bg-neon-green/10 border-neon-green/40 text-neon-green":fn&&!ds&&(Vr="bg-red-500/10 border-red-500/40 text-red-400"),a.jsxs("div",{className:`p-3 rounded-xl border text-sm flex items-center gap-3 ${Vr}`,children:[a.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center shrink-0 ${ds?"border-neon-green bg-neon-green":fn?"border-red-400 bg-red-400":"border-white/10"}`,children:(ds||fn)&&a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white"})}),a.jsx("span",{className:"font-medium",children:nn}),ds&&a.jsx(Rt,{size:14,className:"ml-auto text-neon-green shrink-0"}),fn&&!ds&&a.jsx(su,{size:14,className:"ml-auto text-red-400 shrink-0"})]},vn)})}),ye&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"bg-white/[0.02] border border-white/5 rounded-xl p-3",children:a.jsx("p",{className:"text-sm text-white/60",children:we||"No answer provided"})}),!ce&&Z&&a.jsx("div",{className:"p-2 rounded-lg bg-neon-green/5 border border-neon-green/10",children:a.jsxs("p",{className:"text-xs text-neon-green",children:[" Correct: ",Z]})})]}),J&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs text-white/30 uppercase mb-1",children:"Your order:"}),(Array.isArray(we)?we:[]).map((nn,vn)=>a.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-white/[0.02] border border-white/5 text-sm text-white/60",children:[a.jsxs("span",{className:"text-[10px] text-white/30 w-4",children:[vn+1,"."]}),nn]},vn)),!ce&&a.jsxs("div",{className:"mt-2 p-2 rounded-lg bg-neon-green/5 border border-neon-green/10",children:[a.jsx("p",{className:"text-xs text-neon-green mb-1",children:" Correct order:"}),($.items||[]).map((nn,vn)=>a.jsxs("p",{className:"text-xs text-neon-green/70 ml-2",children:[vn+1,". ",nn]},vn))]})]}),Te&&a.jsxs("div",{className:"bg-white/[0.02] border border-white/5 rounded-xl p-3",children:[a.jsx("p",{className:"text-sm text-white/60 leading-relaxed whitespace-pre-wrap",children:we||"No answer provided"}),S.status==="pending"&&a.jsxs("p",{className:"text-xs text-neon-orange mt-2 flex items-center gap-1",children:[a.jsx(Qn,{size:12})," Awaiting teacher review"]})]})]})]})},W)})})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(H.div,{variants:P,className:"glass-card p-4 sm:p-6 border-l-4 border-l-neon-blue",children:[a.jsxs("h3",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[a.jsx(jt,{size:18,className:"text-neon-blue"})," Instructions"]}),a.jsx("p",{className:"text-white/60 leading-relaxed font-light text-sm sm:text-base",children:c.description}),a.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 sm:gap-6 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-white/[0.03] px-3 py-1.5 rounded-lg border border-white/5",children:[a.jsx(Qn,{size:14,className:"text-neon-blue"}),a.jsx("span",{className:"text-white/50",children:"Due:"}),a.jsx("span",{className:"text-white font-medium text-xs sm:text-sm",children:new Date(c.dueDate).toLocaleString()})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-white/[0.03] px-3 py-1.5 rounded-lg border border-white/5",children:[a.jsx(Oa,{size:14,className:"text-neon-green"}),a.jsx("span",{className:"text-white/50",children:"Points:"}),a.jsx("span",{className:"text-white font-medium",children:c.totalPoints||0})]})]})]}),a.jsx("div",{className:"space-y-4 sm:space-y-6",children:(ee=c.questions)==null?void 0:ee.map(($,W)=>{var Z;const we=$.type==="multiple-choice"||$.type==="true-false",ue=$.type==="ordering",ye=$.type==="fill-in-blank",J=$.type==="short-answer",Te=$.type==="essay";if(ue&&!h[W]){const ce=[...$.items||[]].sort(()=>Math.random()-.5);h[W]||setTimeout(()=>f(q=>({...q,[W]:ce})),0)}return a.jsxs(H.div,{variants:P,className:"glass-card p-4 sm:p-6 relative group overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-neon-blue/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),a.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-neon-blue/10 border border-neon-blue/20 flex items-center justify-center text-neon-blue font-bold text-sm shrink-0",children:W+1}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 mb-4",children:[a.jsx("h4",{className:"text-white font-semibold text-sm sm:text-lg leading-tight",children:$.text}),a.jsxs("span",{className:"px-2 py-1 rounded-md bg-white/[0.03] border border-white/5 text-[10px] font-bold text-white/30 uppercase tracking-wider shrink-0",children:[$.points," pts"]})]}),we&&a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:(Z=$.options)==null?void 0:Z.map((ce,q)=>a.jsx("button",{onClick:()=>f({...h,[W]:ce}),className:`p-3 sm:p-4 rounded-xl text-left transition-all border group/opt ${h[W]===ce?"bg-neon-blue/10 border-neon-blue text-white shadow-[0_0_20px_rgba(0,209,255,0.1)]":"bg-white/[0.01] border-white/5 text-white/50 hover:border-white/20 hover:bg-white/[0.03]"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all shrink-0 ${h[W]===ce?"border-neon-blue bg-neon-blue shadow-[0_0_10px_rgba(0,209,255,0.5)]":"border-white/10 group-hover/opt:border-white/30"}`,children:h[W]===ce&&a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white"})}),a.jsx("span",{className:"text-sm font-medium",children:ce})]})},q))}),ye&&a.jsx("div",{className:"relative",children:a.jsx("input",{type:"text",placeholder:"Type your answer...",value:h[W]||"",onChange:ce=>f({...h,[W]:ce.target.value}),className:"input-glass w-full text-sm"})}),J&&a.jsxs("div",{className:"relative",children:[a.jsx("textarea",{placeholder:"Write a brief answer...",value:h[W]||"",onChange:ce=>f({...h,[W]:ce.target.value}),className:"input-glass w-full min-h-[80px] resize-none p-4 text-sm leading-relaxed"}),a.jsxs("div",{className:"absolute bottom-3 right-3 text-[10px] text-white/20 font-medium",children:[(h[W]||"").length," chars"]})]}),ue&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs text-white/30 mb-2",children:"Drag or use arrows to arrange in the correct order:"}),(Array.isArray(h[W])?h[W]:[]).map((ce,q)=>a.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-xl bg-white/[0.02] border border-white/5 hover:border-neon-blue/20 transition-all",children:[a.jsx("span",{className:"text-neon-blue font-bold text-xs w-5 text-center",children:q+1}),a.jsx("span",{className:"text-sm text-white/80 flex-1",children:ce}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{type:"button",disabled:q===0,onClick:()=>{const me=[...h[W]];[me[q-1],me[q]]=[me[q],me[q-1]],f({...h,[W]:me})},className:"p-1 rounded text-white/20 hover:text-neon-blue disabled:opacity-20 disabled:cursor-not-allowed transition-colors text-xs",children:""}),a.jsx("button",{type:"button",disabled:q===(h[W]||[]).length-1,onClick:()=>{const me=[...h[W]];[me[q+1],me[q]]=[me[q],me[q+1]],f({...h,[W]:me})},className:"p-1 rounded text-white/20 hover:text-neon-blue disabled:opacity-20 disabled:cursor-not-allowed transition-colors text-xs",children:""})]})]},q))]}),Te&&a.jsxs("div",{className:"relative",children:[a.jsx("textarea",{placeholder:"Write your detailed response here...",value:h[W]||"",onChange:ce=>f({...h,[W]:ce.target.value}),className:"input-glass w-full min-h-[140px] sm:min-h-[200px] resize-none p-4 text-sm leading-relaxed"}),a.jsxs("div",{className:"absolute bottom-3 right-3 text-[10px] text-white/20 font-medium",children:[(h[W]||"").length," chars"]})]}),$.type==="matching"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-xs text-white/40 mb-2",children:"Match the items on the left with the correct option on the right."}),($.pairs||[]).map((ce,q)=>{var me;return a.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center p-3 rounded-xl bg-white/[0.02] border border-white/5",children:[a.jsx("div",{className:"text-sm font-medium text-white/80",children:ce.left}),a.jsxs("select",{value:((me=h[W])==null?void 0:me[q])||"",onChange:Je=>{const Ye=[...h[W]||[]];Ye[q]=Je.target.value,f({...h,[W]:Ye})},className:"bg-black/20 border border-white/10 rounded-lg text-sm text-neon-blue p-2 focus:ring-1 focus:ring-neon-blue outline-none",children:[a.jsx("option",{value:"",children:"Select match..."}),[...$.pairs||[]].sort((Je,Ye)=>Je.right.localeCompare(Ye.right)).map((Je,Ye)=>a.jsx("option",{value:Je.right,children:Je.right},Ye))]})]},q)})]}),$.type==="word-scramble"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex flex-wrap gap-2 justify-center p-4 bg-white/[0.02] rounded-xl border border-white/5",children:($.correctText||"").split("").sort(()=>Math.random()-.5).map((ce,q)=>a.jsx("span",{className:"w-8 h-8 flex items-center justify-center bg-neon-purple/10 border border-neon-purple/30 rounded text-neon-purple font-bold",children:ce},q))}),a.jsx("input",{type:"text",placeholder:"Unscramble the word...",value:h[W]||"",onChange:ce=>f({...h,[W]:ce.target.value}),className:"input-glass w-full text-center tracking-widest font-bold text-lg"})]}),$.type==="sentence-builder"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-white/40",children:"Tap words to build the sentence:"}),a.jsx("div",{className:"flex flex-wrap gap-2 justify-center min-h-[40px] p-3 rounded-xl bg-black/20 border border-white/5",children:($.correctSentence||"").split(" ").sort(()=>Math.random()-.5).map((ce,q)=>a.jsx("button",{type:"button",onClick:()=>f({...h,[W]:(h[W]?h[W]+" ":"")+ce}),className:"px-2 py-1 rounded bg-neon-blue/10 text-neon-blue border border-neon-blue/20 text-xs hover:bg-neon-blue/20",children:ce},q))}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Type or click words above...",value:h[W]||"",onChange:ce=>f({...h,[W]:ce.target.value}),className:"input-glass w-full"}),(h[W]||"").length>0&&a.jsx("button",{type:"button",onClick:()=>f({...h,[W]:""}),className:"absolute right-2 top-2 text-xs text-red-400 hover:text-red-300",children:"Clear"})]})]}),$.type==="categorize"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-white/40",children:"Assign each item to its correct category."}),a.jsx("div",{className:"space-y-2",children:(()=>{let ce=0;return($.categories||[]).flatMap((q,me)=>(q.items||[]).map((Je,Ye)=>{var nn;const $t=ce++;return a.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 rounded-xl bg-white/[0.02] border border-white/5",children:[a.jsx("span",{className:"text-sm text-white/80 font-medium",children:Je}),a.jsxs("select",{value:((nn=h[W])==null?void 0:nn[$t])??"",onChange:vn=>{const fn={...h[W]||{}};fn[$t]=Number(vn.target.value),f({...h,[W]:fn})},className:"bg-black/20 border border-white/10 rounded-lg text-xs text-neon-blue p-2 focus:ring-1 focus:ring-neon-blue outline-none max-w-[150px]",children:[a.jsx("option",{value:"",children:"Select Category..."}),($.categories||[]).map((vn,fn)=>a.jsx("option",{value:fn,children:vn.name},fn))]})]},`${me}-${Ye}`)})).sort(()=>Math.random()-.5)})()})]}),$.type==="error-correction"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"p-3 rounded-xl bg-red-500/10 border border-red-500/20",children:[a.jsx("p",{className:"text-xs text-red-300 uppercase font-bold mb-1",children:"Incorrect Sentence:"}),a.jsx("p",{className:"text-sm text-white/90",children:$.errorSentence})]}),a.jsx("input",{type:"text",placeholder:"Type the corrected sentence here...",value:h[W]||"",onChange:ce=>f({...h,[W]:ce.target.value}),className:"input-glass w-full"})]}),$.type==="translation"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"p-3 rounded-xl bg-neon-blue/10 border border-neon-blue/20",children:[a.jsx("p",{className:"text-xs text-neon-blue uppercase font-bold mb-1",children:"Translate to English:"}),a.jsx("p",{className:"text-sm text-white/90",children:$.sourceText})]}),a.jsx("input",{type:"text",placeholder:"Type the English translation...",value:h[W]||"",onChange:ce=>f({...h,[W]:ce.target.value}),className:"input-glass w-full"})]})]})]})]},W)})}),a.jsx(H.div,{variants:P,className:"flex justify-end",children:a.jsx("button",{onClick:C,disabled:m,className:"btn-neon flex items-center gap-2 text-sm sm:text-base disabled:opacity-50",children:m?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Submitting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(l4,{size:16})," Submit Assignment"]})})})]})})]})}const fF=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],j2=["January","February","March","April","May","June","July","August","September","October","November","December"],$r={quiz:{bg:"bg-neon-blue/20",text:"text-neon-blue",dot:"bg-neon-blue"},exam:{bg:"bg-red-500/20",text:"text-red-400",dot:"bg-red-500"},essay:{bg:"bg-neon-purple/20",text:"text-neon-purple",dot:"bg-neon-purple"},homework:{bg:"bg-amber-400/20",text:"text-amber-400",dot:"bg-amber-400"},project:{bg:"bg-pink-500/20",text:"text-pink-400",dot:"bg-pink-500"},assignment:{bg:"bg-neon-green/20",text:"text-neon-green",dot:"bg-neon-green"}};function mF(){const{userProfile:t}=ot(),{classes:e,assignments:n,submissions:s}=hn(),i=yn(),r=t==null?void 0:t.uid,[o,l]=I.useState(new Date),[c,d]=I.useState(null),h=e.filter(C=>{var b;return(b=C.students)==null?void 0:b.includes(r)}),f=h.map(C=>C.id),m=n.filter(C=>f.includes(C.classId)),y=I.useMemo(()=>{const C={};return m.forEach(b=>{if(!b.dueDate)return;const O=new Date(b.dueDate).toDateString();C[O]||(C[O]=[]),C[O].push(b)}),C},[m]),S=o.getFullYear(),R=o.getMonth(),j=new Date(S,R,1).getDay(),N=new Date(S,R+1,0).getDate(),x=new Date;x.setHours(0,0,0,0);const v=[];for(let C=0;C<j;C++)v.push(null);for(let C=1;C<=N;C++)v.push(C);const E=()=>l(new Date(S,R-1,1)),M=()=>l(new Date(S,R+1,1)),L=()=>{l(new Date),d(new Date().toDateString())},T=c?y[c]||[]:[],p=new Date(x);p.setDate(p.getDate()+7);const w=m.filter(C=>{const b=new Date(C.dueDate);return b>=x&&b<=p}).sort((C,b)=>new Date(C.dueDate)-new Date(b.dueDate)),A={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.06}}},k={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return a.jsxs("div",{className:"min-h-screen pb-20",children:[a.jsx(Mt,{title:"Calendar",subtitle:`${j2[R]} ${S}`}),a.jsx(H.div,{variants:A,initial:"hidden",animate:"show",className:"p-4 sm:p-6 space-y-6 max-w-7xl mx-auto",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs(H.div,{variants:k,className:"lg:col-span-2 glass-card p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("button",{onClick:E,className:"w-9 h-9 rounded-lg bg-white/[0.04] border border-white/10 flex items-center justify-center text-white/50 hover:text-white hover:border-neon-blue/30 transition-all",children:a.jsx(Wr,{size:18})}),a.jsxs("div",{className:"text-center",children:[a.jsxs("h2",{className:"text-lg sm:text-xl font-display font-bold text-white",children:[j2[R]," ",S]}),a.jsx("button",{onClick:L,className:"text-xs text-neon-blue hover:text-neon-blue/80 transition-colors",children:"Today"})]}),a.jsx("button",{onClick:M,className:"w-9 h-9 rounded-lg bg-white/[0.04] border border-white/10 flex items-center justify-center text-white/50 hover:text-white hover:border-neon-blue/30 transition-all",children:a.jsx(nu,{size:18})})]}),a.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:fF.map(C=>a.jsx("div",{className:"text-center text-[10px] sm:text-xs font-bold text-white/30 uppercase tracking-wider py-2",children:C},C))}),a.jsx("div",{className:"grid grid-cols-7 gap-1",children:v.map((C,b)=>{if(C===null)return a.jsx("div",{},`empty-${b}`);const O=new Date(S,R,C),P=O.toDateString(),V=P===x.toDateString(),z=P===c,U=y[P]||[],ee=U.length>0,$=O<x,W=U.some(we=>!s.find(ye=>ye.assignmentId===we.id&&ye.studentId===r)&&$);return a.jsxs("button",{onClick:()=>d(P),className:`relative aspect-square rounded-xl flex flex-col items-center justify-center transition-all text-sm
                                            ${z?"bg-neon-blue/15 border-2 border-neon-blue shadow-[0_0_20px_rgba(0,209,255,0.15)]":V?"bg-neon-blue/5 border border-neon-blue/30":ee?"bg-white/[0.02] border border-white/[0.06] hover:border-neon-blue/20":"border border-transparent hover:bg-white/[0.02]"}
                                            ${$&&!V?"opacity-50":""}`,children:[a.jsx("span",{className:`font-semibold text-xs sm:text-sm ${V?"text-neon-blue":z?"text-white":"text-white/60"}`,children:C}),ee&&a.jsx("div",{className:"flex gap-0.5 mt-1",children:U.slice(0,3).map((we,ue)=>{const ye=$r[we.type]||$r.assignment;return a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${ye.dot}`},ue)})}),W&&a.jsx("div",{className:"absolute top-0.5 right-0.5 w-2 h-2 rounded-full bg-red-500 animate-pulse"})]},C)})}),a.jsx("div",{className:"flex flex-wrap gap-3 mt-4 pt-4 border-t border-white/[0.06]",children:Object.entries($r).map(([C,b])=>a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${b.dot}`}),a.jsx("span",{className:"text-[10px] text-white/30 capitalize",children:C})]},C))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(H.div,{variants:k,className:"glass-card p-4 sm:p-5",children:[a.jsxs("h3",{className:"text-sm font-bold text-white/60 uppercase tracking-wider mb-3 flex items-center gap-2",children:[a.jsx(WC,{size:14,className:"text-neon-blue"}),c?new Date(c).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}):"Select a day"]}),c?T.length>0?a.jsx("div",{className:"space-y-2",children:T.map(C=>{const b=h.find(V=>V.id===C.classId),O=s.find(V=>V.assignmentId===C.id&&V.studentId===r),P=$r[C.type]||$r.assignment;return a.jsx("button",{onClick:()=>i(`/assignments/${C.id}`),className:"w-full text-left p-3 rounded-xl bg-white/[0.02] border border-white/[0.06] hover:border-neon-blue/20 transition-all group",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-lg ${P.bg} flex items-center justify-center shrink-0`,children:a.jsx("div",{className:`w-2 h-2 rounded-full ${P.dot}`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-white truncate",children:C.title}),a.jsxs("p",{className:"text-[10px] text-white/30",children:[b==null?void 0:b.name,"  ",C.totalPoints||0," pts"]})]}),O?a.jsx(Rt,{size:14,className:"text-neon-green shrink-0 mt-1"}):a.jsx(Qn,{size:14,className:"text-white/20 shrink-0 mt-1"})]})},C.id)})}):a.jsx("p",{className:"text-sm text-white/20 text-center py-4",children:"No assignments due"}):a.jsx("p",{className:"text-sm text-white/20 text-center py-4",children:"Click a date to see details"})]}),a.jsxs(H.div,{variants:k,className:"glass-card p-4 sm:p-5",children:[a.jsxs("h3",{className:"text-sm font-bold text-white/60 uppercase tracking-wider mb-3 flex items-center gap-2",children:[a.jsx(Qn,{size:14,className:"text-neon-orange"})," This Week (",w.length,")"]}),w.length===0?a.jsx("p",{className:"text-sm text-white/20 text-center py-4",children:"Nothing due this week! "}):a.jsx("div",{className:"space-y-2",children:w.map(C=>{const b=h.find(U=>U.id===C.classId),O=new Date(C.dueDate),P=Math.ceil((O-x)/(1e3*60*60*24)),V=s.find(U=>U.assignmentId===C.id&&U.studentId===r),z=$r[C.type]||$r.assignment;return a.jsx("button",{onClick:()=>i(`/assignments/${C.id}`),className:"w-full text-left p-3 rounded-xl bg-white/[0.02] border border-white/[0.06] hover:border-neon-blue/20 transition-all",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-2 h-full min-h-[32px] rounded-full ${z.dot}`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-white/80 font-medium truncate",children:C.title}),a.jsx("p",{className:"text-[10px] text-white/30",children:b==null?void 0:b.name})]}),V?a.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-neon-green/10 text-neon-green border border-neon-green/20 font-bold",children:"Done"}):a.jsxs("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-bold ${P<=1?"bg-red-500/10 text-red-400 border border-red-500/20":P<=3?"bg-neon-orange/10 text-neon-orange border border-neon-orange/20":"bg-white/[0.03] text-white/30 border border-white/5"}`,children:[P,"d"]})]})},C.id)})})]})]})]})})]})}const Rp=[{id:"first-sub",icon:u4,label:"First Steps",desc:"Submit your first assignment",color:"neon-blue",gradient:"from-neon-blue to-cyan-400",check:t=>t.totalSubs>=1},{id:"five-subs",icon:na,label:"Getting Started",desc:"Submit 5 assignments",color:"neon-green",gradient:"from-neon-green to-emerald-400",check:t=>t.totalSubs>=5},{id:"ten-subs",icon:au,label:"On Fire",desc:"Submit 10 assignments",color:"neon-orange",gradient:"from-neon-orange to-amber-400",check:t=>t.totalSubs>=10},{id:"twenty-subs",icon:xB,label:"Unstoppable",desc:"Submit 20 assignments",color:"neon-purple",gradient:"from-neon-purple to-fuchsia-400",check:t=>t.totalSubs>=20},{id:"perfect-score",icon:w0,label:"Perfectionist",desc:"Get a perfect score",color:"amber-400",gradient:"from-amber-400 to-yellow-300",check:t=>t.perfectScores>=1},{id:"five-perfect",icon:Pu,label:"Gold Standard",desc:"Get 5 perfect scores",color:"amber-400",gradient:"from-amber-500 to-orange-400",check:t=>t.perfectScores>=5},{id:"avg-90",icon:Vu,label:"Honor Roll",desc:"Maintain 90%+ average",color:"neon-green",gradient:"from-neon-green to-teal-400",check:t=>t.avgGrade>=90},{id:"streak-3",icon:Ec,label:"Streak 3",desc:"3-day activity streak",color:"neon-orange",gradient:"from-orange-500 to-red-400",check:t=>t.streak>=3},{id:"streak-7",icon:Ec,label:"Weekly Warrior",desc:"7-day activity streak",color:"red-400",gradient:"from-red-500 to-pink-500",check:t=>t.streak>=7},{id:"streak-14",icon:Ec,label:"Legendary",desc:"14-day activity streak",color:"neon-purple",gradient:"from-purple-500 to-pink-500",check:t=>t.streak>=14},{id:"multi-class",icon:jt,label:"Scholar",desc:"Join 3+ classes",color:"neon-blue",gradient:"from-blue-500 to-indigo-400",check:t=>t.classCount>=3},{id:"early-bird",icon:Rt,label:"Early Bird",desc:"Submit 5 before deadline",color:"neon-green",gradient:"from-green-400 to-lime-400",check:t=>t.earlySubmissions>=5}],pF=t=>{const e=Math.floor(t/200)+1,n=t%200;return{level:e,xpInLevel:n,xpForNext:200,totalXP:t}},C2=["Beginner","Apprentice","Student","Scholar","Expert","Master","Grand Master","Legend","Champion","Mythic"];function gF(){const{userProfile:t}=ot(),{classes:e,assignments:n,submissions:s,getStudentStreak:i,getLeaderboard:r,allStudents:o}=hn(),[l,c]=I.useState("badges"),[d,h]=I.useState("all"),f=t==null?void 0:t.uid,m=e.filter(p=>{var w;return(w=p.students)==null?void 0:w.includes(f)}),y=s.filter(p=>p.studentId===f),S=i(f),R=I.useMemo(()=>{const p=y.filter(C=>C.grade!=null),w=p.length>0?Math.round(p.reduce((C,b)=>{const O=n.find(V=>V.id===b.assignmentId),P=(O==null?void 0:O.totalPoints)||100;return C+b.grade/P*100},0)/p.length):0,A=p.filter(C=>{const b=n.find(O=>O.id===C.assignmentId);return b&&C.grade>=(b.totalPoints||100)}).length,k=y.filter(C=>{const b=n.find(O=>O.id===C.assignmentId);return!b||!b.dueDate||!C.submittedAt?!1:new Date(C.submittedAt)<new Date(b.dueDate)}).length;return{totalSubs:y.length,gradedCount:p.length,avgGrade:w,perfectScores:A,earlySubmissions:k,streak:S,classCount:m.length}},[y,n,S,m.length]),j=Rp.filter(p=>p.check(R)),N=Rp.filter(p=>!p.check(R)),x=I.useMemo(()=>{let p=0;p+=y.length*50;const w=y.filter(A=>{const k=n.find(C=>C.id===A.assignmentId);return k&&A.grade!=null&&A.grade>=(k.totalPoints||100)}).length;return p+=w*100,p+=S*20,p+=j.length*30,p},[y,n,S,j.length]),v=pF(x),E=C2[Math.min(v.level-1,C2.length-1)],M=I.useMemo(()=>{const p=d==="all"?m:m.filter(A=>A.id===d),w={};return p.forEach(A=>{(A.students||[]).forEach(k=>{if(!w[k]){const C=o.find(b=>b.id===k);w[k]={id:k,name:(C==null?void 0:C.displayName)||"Student",subs:0,totalGrade:0,gradedCount:0,xp:0}}})}),s.forEach(A=>{if(!w[A.studentId])return;const k=n.find(b=>b.id===A.assignmentId);!k||!p.some(b=>b.id===k.classId)||(w[A.studentId].subs+=1,w[A.studentId].xp+=50,A.grade!=null&&(w[A.studentId].totalGrade+=A.grade,w[A.studentId].gradedCount+=1,A.grade>=(k.totalPoints||100)&&(w[A.studentId].xp+=100)))}),Object.values(w).map(A=>({...A,avgGrade:A.gradedCount>0?Math.round(A.totalGrade/A.gradedCount):0})).sort((A,k)=>k.xp-A.xp).slice(0,20)},[d,m,s,n,o]),L={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.06}}},T={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return a.jsxs("div",{className:"min-h-screen pb-20",children:[a.jsx(Mt,{title:"Achievements",subtitle:`Level ${v.level}  ${E}`}),a.jsxs(H.div,{variants:L,initial:"hidden",animate:"show",className:"p-4 sm:p-6 space-y-6 max-w-7xl mx-auto",children:[a.jsxs(H.div,{variants:T,className:"glass-card p-5 sm:p-8 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-neon-purple/5 via-neon-blue/5 to-neon-green/5"}),a.jsxs("div",{className:"relative flex flex-col sm:flex-row items-center gap-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-24 h-24 sm:w-28 sm:h-28 rounded-full bg-gradient-to-br from-neon-blue via-neon-purple to-neon-green p-[3px]",children:a.jsxs("div",{className:"w-full h-full rounded-full bg-surface-950 flex flex-col items-center justify-center",children:[a.jsx("span",{className:"text-3xl sm:text-4xl font-display font-black bg-gradient-to-r from-neon-blue to-neon-purple bg-clip-text text-transparent",children:v.level}),a.jsx("span",{className:"text-[10px] text-white/40 uppercase tracking-widest",children:"Level"})]})}),a.jsx("div",{className:"absolute -top-1 -right-1 w-8 h-8 rounded-full bg-gradient-to-br from-neon-blue to-neon-purple flex items-center justify-center shadow-lg shadow-neon-blue/30",children:a.jsx(ru,{size:14,className:"text-white"})})]}),a.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-display font-bold text-white mb-1",children:E}),a.jsxs("p",{className:"text-sm text-white/40 mb-4",children:[x," XP total  ",j.length,"/",Rp.length," badges earned"]}),a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between text-xs text-white/40 mb-1.5",children:[a.jsxs("span",{children:["Level ",v.level]}),a.jsxs("span",{children:[v.xpInLevel,"/",v.xpForNext," XP"]}),a.jsxs("span",{children:["Level ",v.level+1]})]}),a.jsx("div",{className:"h-3 rounded-full bg-white/[0.06] border border-white/[0.08] overflow-hidden",children:a.jsx(H.div,{className:"h-full rounded-full bg-gradient-to-r from-neon-blue via-neon-purple to-neon-green",initial:{width:0},animate:{width:`${v.xpInLevel/v.xpForNext*100}%`},transition:{duration:1.2,ease:"easeOut"}})})]})]}),a.jsx("div",{className:"grid grid-cols-3 gap-3 sm:gap-4",children:[{icon:Ec,label:"Streak",value:`${S}d`,color:"neon-orange"},{icon:Pu,label:"Badges",value:j.length,color:"amber-400"},{icon:Vu,label:"Avg",value:`${R.avgGrade}%`,color:"neon-green"}].map((p,w)=>a.jsxs("div",{className:"text-center p-3 rounded-xl bg-white/[0.03] border border-white/[0.06]",children:[a.jsx(p.icon,{size:18,className:`text-${p.color} mx-auto mb-1`}),a.jsx("p",{className:`text-lg font-bold text-${p.color}`,children:p.value}),a.jsx("p",{className:"text-[10px] text-white/30",children:p.label})]},w))})]})]}),a.jsx(H.div,{variants:T,className:"flex gap-2",children:[{id:"badges",label:"Badges",icon:Z7},{id:"leaderboard",label:"Leaderboard",icon:w0}].map(p=>a.jsxs("button",{onClick:()=>c(p.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-semibold transition-all ${l===p.id?"bg-neon-blue/10 text-neon-blue border border-neon-blue/20 shadow-[0_0_20px_rgba(0,209,255,0.1)]":"bg-white/[0.02] text-white/40 border border-white/[0.06] hover:text-white/60"}`,children:[a.jsx(p.icon,{size:16}),p.label]},p.id))}),l==="badges"&&a.jsxs("div",{className:"space-y-6",children:[j.length>0&&a.jsxs(H.div,{variants:T,children:[a.jsxs("h3",{className:"text-sm font-bold text-white/60 uppercase tracking-wider mb-3 flex items-center gap-2",children:[a.jsx(ru,{size:14,className:"text-neon-green"})," Earned (",j.length,")"]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:j.map(p=>a.jsxs(H.div,{variants:T,className:"glass-card p-4 sm:p-5 text-center group hover:scale-[1.03] transition-transform relative overflow-hidden",children:[a.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${p.gradient} opacity-5 group-hover:opacity-10 transition-opacity`}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:`w-14 h-14 sm:w-16 sm:h-16 mx-auto rounded-2xl bg-gradient-to-br ${p.gradient} flex items-center justify-center mb-3 shadow-lg`,style:{boxShadow:"0 8px 30px rgba(0,0,0,0.3)"},children:a.jsx(p.icon,{size:24,className:"text-white"})}),a.jsx("h4",{className:"text-sm font-bold text-white mb-1",children:p.label}),a.jsx("p",{className:"text-[10px] text-white/40 leading-tight",children:p.desc}),a.jsx("div",{className:"mt-2",children:a.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-neon-green/10 text-neon-green border border-neon-green/20 font-bold",children:" Earned"})})]})]},p.id))})]}),N.length>0&&a.jsxs(H.div,{variants:T,children:[a.jsxs("h3",{className:"text-sm font-bold text-white/30 uppercase tracking-wider mb-3",children:["Locked (",N.length,")"]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:N.map(p=>a.jsxs("div",{className:"glass-card p-4 sm:p-5 text-center opacity-50 grayscale",children:[a.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 mx-auto rounded-2xl bg-white/[0.04] border border-white/10 flex items-center justify-center mb-3",children:a.jsx(p.icon,{size:24,className:"text-white/20"})}),a.jsx("h4",{className:"text-sm font-bold text-white/40 mb-1",children:p.label}),a.jsx("p",{className:"text-[10px] text-white/20 leading-tight",children:p.desc}),a.jsx("div",{className:"mt-2",children:a.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-white/[0.03] text-white/20 border border-white/5 font-bold",children:" Locked"})})]},p.id))})]})]}),l==="leaderboard"&&a.jsxs(H.div,{variants:T,className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[a.jsx("button",{onClick:()=>h("all"),className:`px-3 py-1.5 rounded-lg text-xs font-semibold whitespace-nowrap transition-all ${d==="all"?"bg-neon-blue/10 text-neon-blue border border-neon-blue/20":"bg-white/[0.02] text-white/40 border border-white/[0.06] hover:text-white/60"}`,children:"All Classes"}),m.map(p=>a.jsx("button",{onClick:()=>h(p.id),className:`px-3 py-1.5 rounded-lg text-xs font-semibold whitespace-nowrap transition-all ${d===p.id?"bg-neon-blue/10 text-neon-blue border border-neon-blue/20":"bg-white/[0.02] text-white/40 border border-white/[0.06] hover:text-white/60"}`,children:p.name},p.id))]}),M.length>=3&&a.jsx("div",{className:"flex items-end justify-center gap-3 py-4",children:[M[1],M[0],M[2]].map((p,w)=>{const A=w===1?1:w===0?2:3,k=A===1?"h-32":A===2?"h-24":"h-20",C=A===1?"from-amber-400 to-yellow-500 border-amber-400/30":A===2?"from-slate-300 to-slate-400 border-slate-300/30":"from-amber-700 to-orange-800 border-amber-700/30",b=p.id===f;return a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br ${C} flex items-center justify-center text-white font-bold text-sm mb-2 ${b?"ring-2 ring-neon-blue ring-offset-2 ring-offset-surface-950":""}`,children:A===1?a.jsx(w0,{size:20}):A}),a.jsx("p",{className:`text-xs font-bold mb-1 ${b?"text-neon-blue":"text-white"} text-center truncate max-w-[80px]`,children:p.name}),a.jsxs("p",{className:"text-[10px] text-white/40 mb-2",children:[p.xp," XP"]}),a.jsx("div",{className:`w-20 sm:w-24 ${k} rounded-t-xl bg-gradient-to-b ${C} border border-b-0 flex items-center justify-center`,children:a.jsxs("span",{className:"text-white font-black text-2xl",children:["#",A]})})]},p.id)})}),a.jsxs("div",{className:"glass-card overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-white/[0.06]",children:[a.jsx("th",{className:"px-4 py-3 text-[10px] uppercase tracking-wider text-white/30 font-semibold w-12",children:"#"}),a.jsx("th",{className:"px-4 py-3 text-[10px] uppercase tracking-wider text-white/30 font-semibold",children:"Student"}),a.jsx("th",{className:"px-4 py-3 text-[10px] uppercase tracking-wider text-white/30 font-semibold text-center",children:"XP"}),a.jsx("th",{className:"px-4 py-3 text-[10px] uppercase tracking-wider text-white/30 font-semibold text-center",children:"Subs"}),a.jsx("th",{className:"px-4 py-3 text-[10px] uppercase tracking-wider text-white/30 font-semibold text-center hidden sm:table-cell",children:"Avg"})]})}),a.jsx("tbody",{children:M.map((p,w)=>{var C,b;const A=p.id===f,k=w===0?"text-amber-400":w===1?"text-slate-300":w===2?"text-amber-700":"text-white/30";return a.jsxs("tr",{className:`border-b border-white/[0.03] transition-colors ${A?"bg-neon-blue/[0.04]":"hover:bg-white/[0.02]"}`,children:[a.jsx("td",{className:`px-4 py-3 font-bold text-sm ${k}`,children:w+1}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-xs ${A?"bg-neon-blue/20 text-neon-blue border border-neon-blue/30":"bg-white/[0.04] text-white/40 border border-white/10"}`,children:((b=(C=p.name)==null?void 0:C[0])==null?void 0:b.toUpperCase())||"?"}),a.jsxs("span",{className:`text-sm font-medium ${A?"text-neon-blue":"text-white/70"}`,children:[p.name," ",A&&a.jsx("span",{className:"text-[10px] text-neon-blue/60",children:"(You)"})]})]})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("span",{className:"text-sm font-bold text-neon-purple",children:p.xp})}),a.jsx("td",{className:"px-4 py-3 text-center text-sm text-white/50",children:p.subs}),a.jsxs("td",{className:"px-4 py-3 text-center text-sm text-white/50 hidden sm:table-cell",children:[p.avgGrade,"%"]})]},p.id)})})]})}),M.length===0&&a.jsx("p",{className:"text-sm text-white/30 text-center py-8",children:"No students to rank yet."})]})]})]})]})}const jc=[{value:"multiple-choice",label:"Multiple Choice",icon:Rt},{value:"true-false",label:"True/False",icon:Rt},{value:"fill-in-blank",label:"Fill in Blank",icon:Yd},{value:"short-answer",label:"Short Answer",icon:o4},{value:"essay",label:"Essay",icon:tm},{value:"ordering",label:"Ordering",icon:r4}],p4=["Grammar","Vocabulary","Reading","Writing","Listening","Speaking","Pronunciation","Culture","Custom"];function xF(){const{user:t}=ot(),{assignments:e,addAssignment:n,classes:s}=hn(),i=us(),[r,o]=I.useState(()=>{const b=localStorage.getItem(`qbank_${t==null?void 0:t.uid}`);return b?JSON.parse(b):[]}),[l,c]=I.useState(""),[d,h]=I.useState("all"),[f,m]=I.useState("all"),[y,S]=I.useState(!1),[R,j]=I.useState(null),[N,x]=I.useState(!1),[v,E]=I.useState([]),M=b=>{o(b),localStorage.setItem(`qbank_${t==null?void 0:t.uid}`,JSON.stringify(b))},L=I.useMemo(()=>r.filter(b=>!(d!=="all"&&b.type!==d||f!=="all"&&b.category!==f||l&&!b.text.toLowerCase().includes(l.toLowerCase())&&!(b.tags||[]).some(O=>O.toLowerCase().includes(l.toLowerCase())))),[r,l,d,f]),T=b=>{if(R){const O=r.map(P=>P.id===R.id?{...b,id:R.id,updatedAt:new Date().toISOString()}:P);M(O),i.success("Question updated!")}else{const O={...b,id:`qb_${Date.now()}`,createdAt:new Date().toISOString()};M([O,...r]),i.success("Question saved to bank!")}S(!1),j(null)},p=b=>{M(r.filter(O=>O.id!==b)),E(v.filter(O=>O!==b)),i.success("Question deleted")},w=b=>{E(O=>O.includes(b)?O.filter(P=>P!==b):[...O,b])},A=async b=>{try{let O=r;b.category!=="all"&&(O=O.filter(U=>U.category===b.category)),b.type!=="all"&&(O=O.filter(U=>U.type===b.type));const V=[...O].sort(()=>Math.random()-.5).slice(0,b.count);if(V.length===0){i.error("No questions match your filters!");return}const z=V.map((U,ee)=>{const $={id:`q${Date.now()}_${ee}`,text:U.text,type:U.type,points:U.points||10};return U.type==="multiple-choice"?($.options=[...U.options],$.correctAnswer=U.correctAnswer):U.type==="true-false"?($.options=["True","False"],$.correctAnswer=U.correctAnswer):U.type==="fill-in-blank"?$.correctText=U.correctText:U.type==="ordering"?$.items=[...U.items||[]]:$.options=[],$});await n({title:b.title||`Auto Quiz - ${new Date().toLocaleDateString()}`,description:`Auto-generated quiz with ${V.length} questions from the question bank.`,classId:b.classId,type:"quiz",dueDate:new Date(b.dueDate).toISOString(),totalPoints:z.reduce((U,ee)=>U+(ee.points||10),0),questions:z,timeLimit:b.timeLimit||0}),i.success(`Quiz created with ${V.length} questions!`),x(!1)}catch{i.error("Failed to create quiz")}},k={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},C={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return a.jsxs("div",{className:"min-h-screen pb-20",children:[a.jsx(Mt,{title:"Question Bank",subtitle:`${r.length} questions saved`,actions:a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>x(!0),className:"btn-ghost text-sm px-3 py-2 flex items-center gap-2",children:[a.jsx(nm,{size:14})," Generate Quiz"]}),a.jsxs("button",{onClick:()=>{j(null),S(!0)},className:"btn-neon text-sm px-4 py-2 flex items-center gap-2",children:[a.jsx(Yt,{size:16})," Add Question"]})]})}),a.jsxs(H.div,{variants:k,initial:"hidden",animate:"show",className:"p-4 sm:p-6 space-y-4 max-w-7xl mx-auto",children:[a.jsxs(H.div,{variants:C,className:"flex flex-wrap gap-3 items-center",children:[a.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[a.jsx(Ni,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/20"}),a.jsx("input",{placeholder:"Search questions or tags...",value:l,onChange:b=>c(b.target.value),className:"input-glass w-full pl-9 text-sm"})]}),a.jsxs("select",{value:d,onChange:b=>h(b.target.value),className:"input-glass text-sm min-w-[140px]",children:[a.jsx("option",{value:"all",children:"All Types"}),jc.map(b=>a.jsx("option",{value:b.value,children:b.label},b.value))]}),a.jsxs("select",{value:f,onChange:b=>m(b.target.value),className:"input-glass text-sm min-w-[140px]",children:[a.jsx("option",{value:"all",children:"All Categories"}),p4.map(b=>a.jsx("option",{value:b,children:b},b))]})]}),a.jsx(H.div,{variants:C,className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{label:"Total",value:r.length,color:"neon-blue"},{label:"MC/TF",value:r.filter(b=>b.type==="multiple-choice"||b.type==="true-false").length,color:"neon-green"},{label:"Manual",value:r.filter(b=>b.type==="essay"||b.type==="short-answer").length,color:"neon-purple"},{label:"Categories",value:[...new Set(r.map(b=>b.category).filter(Boolean))].length,color:"neon-orange"}].map((b,O)=>a.jsxs("div",{className:"glass-card p-3 text-center",children:[a.jsx("p",{className:`text-xl font-bold text-${b.color}`,children:b.value}),a.jsx("p",{className:"text-[10px] text-white/30",children:b.label})]},O))}),a.jsx("div",{className:"space-y-3",children:L.length===0?a.jsxs(H.div,{variants:C,className:"glass-card p-12 text-center",children:[a.jsx(ZC,{size:40,className:"text-white/10 mx-auto mb-3"}),a.jsx("p",{className:"text-white/30 text-sm",children:"No questions found."}),a.jsx("button",{onClick:()=>S(!0),className:"mt-3 text-neon-blue text-sm hover:text-neon-blue/80",children:"Create your first question "})]}):L.map(b=>{const O=jc.find(V=>V.value===b.type)||jc[0],P=v.includes(b.id);return a.jsx(H.div,{variants:C,className:`glass-card p-4 hover:border-white/10 transition-all ${P?"border-neon-blue/30 bg-neon-blue/[0.03]":""}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("button",{onClick:()=>w(b.id),className:`w-5 h-5 rounded border-2 flex items-center justify-center shrink-0 mt-0.5 transition-all ${P?"border-neon-blue bg-neon-blue":"border-white/10 hover:border-white/30"}`,children:P&&a.jsx("div",{className:"w-2 h-2 rounded-sm bg-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[a.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-neon-blue/10 text-neon-blue border border-neon-blue/20 font-bold uppercase",children:O.label}),b.category&&a.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-neon-purple/10 text-neon-purple border border-neon-purple/20",children:b.category}),(b.tags||[]).map(V=>a.jsxs("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-white/[0.03] text-white/30 border border-white/5",children:["#",V]},V)),a.jsxs("span",{className:"text-[10px] text-white/20 ml-auto",children:[b.points||10," pts"]})]}),a.jsx("p",{className:"text-sm text-white/80 font-medium",children:b.text}),b.type==="multiple-choice"&&b.options&&a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:b.options.map((V,z)=>a.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded ${z===b.correctAnswer?"bg-neon-green/10 text-neon-green border border-neon-green/20":"bg-white/[0.02] text-white/30 border border-white/5"}`,children:V},z))})]}),a.jsxs("div",{className:"flex gap-1 shrink-0",children:[a.jsx("button",{onClick:()=>{j(b),S(!0)},className:"p-1.5 rounded-lg text-white/20 hover:text-neon-blue hover:bg-neon-blue/10 transition-all",children:a.jsx(tf,{size:14})}),a.jsx("button",{onClick:()=>p(b.id),className:"p-1.5 rounded-lg text-white/20 hover:text-red-400 hover:bg-red-500/10 transition-all",children:a.jsx(Na,{size:14})})]})]})},b.id)})})]}),a.jsxs(Gn,{children:[y&&a.jsx(yF,{question:R,onSave:T,onClose:()=>{S(!1),j(null)}}),N&&a.jsx(vF,{classes:s,categories:[...new Set(r.map(b=>b.category).filter(Boolean))],onGenerate:A,onClose:()=>x(!1)})]})]})}function yF({question:t,onSave:e,onClose:n}){const[s,i]=I.useState((t==null?void 0:t.text)||""),[r,o]=I.useState((t==null?void 0:t.type)||"multiple-choice"),[l,c]=I.useState((t==null?void 0:t.category)||""),[d,h]=I.useState(((t==null?void 0:t.tags)||[]).join(", ")),[f,m]=I.useState((t==null?void 0:t.points)||10),[y,S]=I.useState((t==null?void 0:t.options)||["","","",""]),[R,j]=I.useState((t==null?void 0:t.correctAnswer)||0),[N,x]=I.useState((t==null?void 0:t.correctText)||""),[v,E]=I.useState((t==null?void 0:t.items)||["","",""]),M=L=>{if(L.preventDefault(),!s.trim())return;const T={text:s,type:r,category:l,points:Number(f),tags:d.split(",").map(p=>p.trim()).filter(Boolean)};r==="multiple-choice"?(T.options=y,T.correctAnswer=R):r==="true-false"?(T.options=["True","False"],T.correctAnswer=R):r==="fill-in-blank"?T.correctText=N:r==="ordering"&&(T.items=v),e(T)};return a.jsx(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:n,children:a.jsxs(H.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"glass-card p-6 w-full max-w-lg max-h-[85vh] overflow-y-auto",onClick:L=>L.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-bold text-white",children:t?"Edit Question":"Add Question"}),a.jsx("button",{onClick:n,className:"p-1 text-white/30 hover:text-white",children:a.jsx(cn,{size:18})})]}),a.jsxs("form",{onSubmit:M,className:"space-y-4",children:[a.jsx("textarea",{value:s,onChange:L=>i(L.target.value),placeholder:"Question text...",className:"input-glass w-full min-h-[80px] resize-none text-sm",required:!0}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx("select",{value:r,onChange:L=>o(L.target.value),className:"input-glass text-sm",children:jc.map(L=>a.jsx("option",{value:L.value,children:L.label},L.value))}),a.jsxs("select",{value:l,onChange:L=>c(L.target.value),className:"input-glass text-sm",children:[a.jsx("option",{value:"",children:"Category..."}),p4.map(L=>a.jsx("option",{value:L,children:L},L))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx("input",{type:"number",value:f,onChange:L=>m(L.target.value),placeholder:"Points",className:"input-glass text-sm"}),a.jsx("input",{value:d,onChange:L=>h(L.target.value),placeholder:"Tags (comma separated)",className:"input-glass text-sm"})]}),r==="multiple-choice"&&a.jsx("div",{className:"space-y-2",children:y.map((L,T)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>j(T),className:`w-5 h-5 rounded-full border-2 shrink-0 ${T===R?"border-neon-green bg-neon-green":"border-white/10"}`}),a.jsx("input",{value:L,onChange:p=>{const w=[...y];w[T]=p.target.value,S(w)},placeholder:`Option ${T+1}`,className:"input-glass flex-1 text-sm"})]},T))}),r==="true-false"&&a.jsx("div",{className:"flex gap-3",children:["True","False"].map((L,T)=>a.jsx("button",{type:"button",onClick:()=>j(T),className:`flex-1 p-3 rounded-xl border text-sm ${T===R?"bg-neon-green/10 border-neon-green text-neon-green":"bg-white/[0.02] border-white/5 text-white/40"}`,children:L},L))}),r==="fill-in-blank"&&a.jsx("input",{value:N,onChange:L=>x(L.target.value),placeholder:"Correct answer...",className:"input-glass w-full text-sm"}),r==="ordering"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-[10px] text-white/30",children:"Items in correct order:"}),v.map((L,T)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-neon-blue font-bold w-4",children:T+1}),a.jsx("input",{value:L,onChange:p=>{const w=[...v];w[T]=p.target.value,E(w)},placeholder:`Item ${T+1}`,className:"input-glass flex-1 text-sm"}),v.length>2&&a.jsx("button",{type:"button",onClick:()=>E(v.filter((p,w)=>w!==T)),className:"text-white/10 hover:text-red-400",children:a.jsx(cn,{size:14})})]},T)),a.jsxs("button",{type:"button",onClick:()=>E([...v,""]),className:"text-xs text-neon-blue",children:[a.jsx(Yt,{size:12,className:"inline"})," Add item"]})]}),a.jsx("button",{type:"submit",className:"btn-neon w-full py-2.5 text-sm",children:t?"Update Question":"Save to Bank"})]})]})})}function vF({classes:t,categories:e,onGenerate:n,onClose:s}){var x;const[i,r]=I.useState(""),[o,l]=I.useState(((x=t[0])==null?void 0:x.id)||""),[c,d]=I.useState(10),[h,f]=I.useState("all"),[m,y]=I.useState("all"),[S,R]=I.useState(""),[j,N]=I.useState(0);return a.jsx(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:s,children:a.jsxs(H.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"glass-card p-6 w-full max-w-md",onClick:v=>v.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[a.jsx(nm,{size:18,className:"text-neon-blue"})," Generate Quiz"]}),a.jsx("button",{onClick:s,className:"p-1 text-white/30 hover:text-white",children:a.jsx(cn,{size:18})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("input",{value:i,onChange:v=>r(v.target.value),placeholder:"Quiz title (optional)",className:"input-glass w-full text-sm"}),a.jsx("select",{value:o,onChange:v=>l(v.target.value),className:"input-glass w-full text-sm",children:t.map(v=>a.jsx("option",{value:v.id,children:v.name},v.id))}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] text-white/30 mb-1 block",children:"# Questions"}),a.jsx("input",{type:"number",value:c,onChange:v=>d(Number(v.target.value)),min:1,max:50,className:"input-glass w-full text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] text-white/30 mb-1 block",children:"Time Limit (min)"}),a.jsx("input",{type:"number",value:j,onChange:v=>N(Number(v.target.value)),min:0,className:"input-glass w-full text-sm",placeholder:"0 = none"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("select",{value:h,onChange:v=>f(v.target.value),className:"input-glass text-sm",children:[a.jsx("option",{value:"all",children:"All Categories"}),e.map(v=>a.jsx("option",{value:v,children:v},v))]}),a.jsxs("select",{value:m,onChange:v=>y(v.target.value),className:"input-glass text-sm",children:[a.jsx("option",{value:"all",children:"All Types"}),jc.map(v=>a.jsx("option",{value:v.value,children:v.label},v.value))]})]}),a.jsx("input",{type:"date",value:S,onChange:v=>R(v.target.value),className:"input-glass w-full text-sm"}),a.jsx("button",{onClick:()=>n({title:i,classId:o,count:c,category:h,type:m,dueDate:S||new Date(Date.now()+7*864e5).toISOString(),timeLimit:j}),className:"btn-neon w-full py-2.5 text-sm",disabled:!o,children:" Generate Random Quiz"})]})]})})}function bF(){var L,T;const{user:t}=ot(),{classes:e,assignments:n,submissions:s,allStudents:i,exportClassGrades:r}=hn(),o=us(),[l,c]=I.useState(((L=e[0])==null?void 0:L.id)||"all"),[d,h]=I.useState("overview"),f=l==="all"?e:e.filter(p=>p.id===l),m=f.map(p=>p.id),y=n.filter(p=>m.includes(p.classId)),S=s.filter(p=>y.some(w=>w.id===p.assignmentId)),R=I.useMemo(()=>{const p=S.filter(b=>b.grade!=null),w=new Set;f.forEach(b=>(b.students||[]).forEach(O=>w.add(O)));const A=p.length>0?Math.round(p.reduce((b,O)=>{const P=y.find(z=>z.id===O.assignmentId),V=(P==null?void 0:P.totalPoints)||100;return b+O.grade/V*100},0)/p.length):0,k=y.length>0&&w.size>0?Math.round(S.length/(y.length*w.size)*100):0,C=S.filter(b=>b.status==="pending"||b.grade==null).length;return{totalStudents:w.size,totalAssignments:y.length,totalSubmissions:S.length,avgGrade:A,submissionRate:k,pendingGrading:C,gradedCount:p.length}},[f,y,S]),j=I.useMemo(()=>y.map(p=>{const w=S.filter(U=>U.assignmentId===p.id),A=w.filter(U=>U.grade!=null),k=p.totalPoints||100,C=A.length>0?Math.round(A.reduce((U,ee)=>U+ee.grade/k*100,0)/A.length):null,b=A.length>0?Math.max(...A.map(U=>Math.round(U.grade/k*100))):null,O=A.length>0?Math.min(...A.map(U=>Math.round(U.grade/k*100))):null,P=e.find(U=>U.id===p.classId),V=((P==null?void 0:P.students)||[]).length,z=(p.questions||[]).map((U,ee)=>{var ue;const $=w.map(ye=>{var J;return(J=ye.answers)==null?void 0:J[ee]}).filter(Boolean);let W=0;if(U.type==="multiple-choice"||U.type==="true-false"){const ye=(ue=U.options)==null?void 0:ue[U.correctAnswer];W=$.filter(J=>J===ye).length}else U.type==="fill-in-blank"?W=$.filter(ye=>(ye||"").trim().toLowerCase()===(U.correctText||"").trim().toLowerCase()).length:U.type==="ordering"&&(W=$.filter(ye=>JSON.stringify(ye)===JSON.stringify(U.items||[])).length);const we=$.length>0?Math.round(W/$.length*100):null;return{question:U.text,type:U.type,successRate:we,total:$.length,correct:W}});return{id:p.id,title:p.title,type:p.type,className:(P==null?void 0:P.name)||"Unknown",submitted:w.length,total:V,avgScore:C,highScore:b,lowScore:O,questionStats:z}}).sort((p,w)=>(p.avgScore??101)-(w.avgScore??101)),[y,S,e]),N=I.useMemo(()=>{const p=new Set;return f.forEach(w=>(w.students||[]).forEach(A=>p.add(A))),[...p].map(w=>{const A=i.find(O=>O.id===w),k=S.filter(O=>O.studentId===w),C=k.filter(O=>O.grade!=null),b=C.length>0?Math.round(C.reduce((O,P)=>{const V=y.find(z=>z.id===P.assignmentId);return O+P.grade/((V==null?void 0:V.totalPoints)||100)*100},0)/C.length):null;return{id:w,name:(A==null?void 0:A.displayName)||"Student",email:(A==null?void 0:A.email)||"",submitted:k.length,totalAssignments:y.length,avgGrade:b,gradedCount:C.length}}).sort((w,A)=>(A.avgGrade??-1)-(w.avgGrade??-1))},[f,S,y,i]),x=()=>{var p;try{const w=["Student","Email","Submitted","Graded","Average Grade"],A=N.map(P=>[P.name,P.email,P.submitted,P.gradedCount,P.avgGrade??"N/A"]),k=[w,...A].map(P=>P.map(V=>`"${V}"`).join(",")).join(`
`),C=new Blob([k],{type:"text/csv"}),b=URL.createObjectURL(C),O=document.createElement("a");O.href=b,O.download=`report_${l==="all"?"all":((p=f[0])==null?void 0:p.name)||"class"}_${new Date().toLocaleDateString()}.csv`,O.click(),URL.revokeObjectURL(b),o.success("CSV exported!")}catch{o.error("Export failed")}},v=I.useMemo(()=>{const p=[];return j.forEach(w=>{w.questionStats.forEach((A,k)=>{A.successRate!==null&&A.successRate<50&&p.push({...A,assignmentTitle:w.title,assignmentId:w.id})})}),p.sort((w,A)=>(w.successRate??100)-(A.successRate??100)).slice(0,10)},[j]),E={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.06}}},M={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return a.jsxs("div",{className:"min-h-screen pb-20",children:[a.jsx(Mt,{title:"Reports & Analytics",subtitle:l==="all"?"All classes":(T=f[0])==null?void 0:T.name,actions:a.jsxs("button",{onClick:x,className:"btn-neon text-sm px-4 py-2 flex items-center gap-2",children:[a.jsx(e4,{size:16})," Export CSV"]})}),a.jsxs(H.div,{variants:E,initial:"hidden",animate:"show",className:"p-4 sm:p-6 space-y-6 max-w-7xl mx-auto",children:[a.jsxs(H.div,{variants:M,className:"flex flex-wrap gap-3",children:[a.jsxs("select",{value:l,onChange:p=>c(p.target.value),className:"input-glass text-sm",children:[a.jsx("option",{value:"all",children:"All Classes"}),e.map(p=>a.jsx("option",{value:p.id,children:p.name},p.id))]}),[{id:"overview",label:"Overview",icon:JC},{id:"assignments",label:"Assignments",icon:tm},{id:"students",label:"Students",icon:jn},{id:"questions",label:"Hard Questions",icon:Si}].map(p=>a.jsxs("button",{onClick:()=>h(p.id),className:`flex items-center gap-1.5 px-3 py-2 rounded-xl text-xs font-semibold transition-all ${d===p.id?"bg-neon-blue/10 text-neon-blue border border-neon-blue/20":"bg-white/[0.02] text-white/40 border border-white/[0.06] hover:text-white/60"}`,children:[a.jsx(p.icon,{size:14})," ",p.label]},p.id))]}),d==="overview"&&a.jsxs(a.Fragment,{children:[a.jsx(H.div,{variants:M,className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[{label:"Students",value:R.totalStudents,icon:jn,color:"neon-blue"},{label:"Avg Grade",value:`${R.avgGrade}%`,icon:Vu,color:"neon-green"},{label:"Submit Rate",value:`${R.submissionRate}%`,icon:Rt,color:"neon-purple"},{label:"Pending",value:R.pendingGrading,icon:Si,color:"neon-orange"}].map((p,w)=>a.jsxs("div",{className:"glass-card p-4 group hover:scale-[1.02] transition-transform",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:`w-8 h-8 rounded-lg bg-${p.color}/10 border border-${p.color}/20 flex items-center justify-center`,children:a.jsx(p.icon,{size:16,className:`text-${p.color}`})}),a.jsx("p",{className:"text-xs text-white/40",children:p.label})]}),a.jsx("p",{className:`text-2xl font-display font-black text-${p.color}`,children:p.value})]},w))}),a.jsxs(H.div,{variants:M,className:"glass-card p-5",children:[a.jsxs("h3",{className:"text-sm font-bold text-white/60 uppercase mb-4 flex items-center gap-2",children:[a.jsx(_i,{size:14,className:"text-neon-blue"})," Grade Distribution"]}),a.jsx("div",{className:"space-y-2",children:[{label:"A (90-100%)",min:90,max:101,color:"bg-neon-green"},{label:"B (80-89%)",min:80,max:90,color:"bg-neon-blue"},{label:"C (70-79%)",min:70,max:80,color:"bg-neon-orange"},{label:"D (60-69%)",min:60,max:70,color:"bg-amber-500"},{label:"F (0-59%)",min:0,max:60,color:"bg-red-500"}].map(p=>{const w=S.filter(C=>C.grade!=null),A=w.filter(C=>{const b=y.find(P=>P.id===C.assignmentId),O=C.grade/((b==null?void 0:b.totalPoints)||100)*100;return O>=p.min&&O<p.max}).length,k=w.length>0?A/w.length*100:0;return a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-xs text-white/40 w-24 shrink-0",children:p.label}),a.jsx("div",{className:"flex-1 h-6 rounded-lg bg-white/[0.03] overflow-hidden border border-white/[0.04]",children:a.jsx(H.div,{className:`h-full rounded-lg ${p.color}/80`,initial:{width:0},animate:{width:`${k}%`},transition:{duration:.8,ease:"easeOut"}})}),a.jsxs("span",{className:"text-xs text-white/30 w-12 text-right",children:[A," (",Math.round(k),"%)"]})]},p.label)})})]})]}),d==="assignments"&&a.jsxs(H.div,{variants:M,className:"glass-card overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-white/[0.06]",children:[a.jsx("th",{className:"px-4 py-3 text-[10px] uppercase tracking-wider text-white/30",children:"Assignment"}),a.jsx("th",{className:"px-4 py-3 text-[10px] uppercase tracking-wider text-white/30 text-center",children:"Class"}),a.jsx("th",{className:"px-4 py-3 text-[10px] uppercase tracking-wider text-white/30 text-center",children:"Submitted"}),a.jsx("th",{className:"px-4 py-3 text-[10px] uppercase tracking-wider text-white/30 text-center",children:"Avg"}),a.jsx("th",{className:"px-4 py-3 text-[10px] uppercase tracking-wider text-white/30 text-center hidden sm:table-cell",children:"High"}),a.jsx("th",{className:"px-4 py-3 text-[10px] uppercase tracking-wider text-white/30 text-center hidden sm:table-cell",children:"Low"})]})}),a.jsx("tbody",{children:j.map(p=>{const w=p.avgScore===null?"text-white/20":p.avgScore>=80?"text-neon-green":p.avgScore>=60?"text-neon-orange":"text-red-400";return a.jsxs("tr",{className:"border-b border-white/[0.03] hover:bg-white/[0.02] transition-colors",children:[a.jsx("td",{className:"px-4 py-3 text-sm text-white/70",children:p.title}),a.jsx("td",{className:"px-4 py-3 text-xs text-white/40 text-center",children:p.className}),a.jsxs("td",{className:"px-4 py-3 text-sm text-center text-white/50",children:[p.submitted,"/",p.total]}),a.jsx("td",{className:`px-4 py-3 text-sm text-center font-bold ${w}`,children:p.avgScore!==null?`${p.avgScore}%`:""}),a.jsx("td",{className:"px-4 py-3 text-sm text-center text-neon-green/60 hidden sm:table-cell",children:p.highScore!==null?`${p.highScore}%`:""}),a.jsx("td",{className:"px-4 py-3 text-sm text-center text-red-400/60 hidden sm:table-cell",children:p.lowScore!==null?`${p.lowScore}%`:""})]},p.id)})})]})}),j.length===0&&a.jsx("p",{className:"text-sm text-white/20 text-center py-8",children:"No assignments yet"})]}),d==="students"&&a.jsxs(H.div,{variants:M,className:"glass-card overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-white/[0.06]",children:[a.jsx("th",{className:"px-4 py-3 text-[10px] uppercase tracking-wider text-white/30",children:"#"}),a.jsx("th",{className:"px-4 py-3 text-[10px] uppercase tracking-wider text-white/30",children:"Student"}),a.jsx("th",{className:"px-4 py-3 text-[10px] uppercase tracking-wider text-white/30 text-center",children:"Submitted"}),a.jsx("th",{className:"px-4 py-3 text-[10px] uppercase tracking-wider text-white/30 text-center",children:"Avg Grade"}),a.jsx("th",{className:"px-4 py-3 text-[10px] uppercase tracking-wider text-white/30 text-center hidden sm:table-cell",children:"Status"})]})}),a.jsx("tbody",{children:N.map((p,w)=>{const A=p.avgGrade===null?"text-white/20":p.avgGrade>=80?"text-neon-green":p.avgGrade>=60?"text-neon-orange":"text-red-400",k=p.totalAssignments>0?Math.round(p.submitted/p.totalAssignments*100):0;return a.jsxs("tr",{className:"border-b border-white/[0.03] hover:bg-white/[0.02] transition-colors",children:[a.jsx("td",{className:"px-4 py-3 text-xs text-white/30",children:w+1}),a.jsxs("td",{className:"px-4 py-3",children:[a.jsx("p",{className:"text-sm text-white/70 font-medium",children:p.name}),a.jsx("p",{className:"text-[10px] text-white/30",children:p.email})]}),a.jsxs("td",{className:"px-4 py-3 text-sm text-center text-white/50",children:[p.submitted,"/",p.totalAssignments]}),a.jsx("td",{className:`px-4 py-3 text-sm text-center font-bold ${A}`,children:p.avgGrade!==null?`${p.avgGrade}%`:""}),a.jsx("td",{className:"px-4 py-3 text-center hidden sm:table-cell",children:a.jsxs("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-bold ${k>=80?"bg-neon-green/10 text-neon-green border border-neon-green/20":k>=50?"bg-neon-orange/10 text-neon-orange border border-neon-orange/20":"bg-red-500/10 text-red-400 border border-red-500/20"}`,children:[k,"% complete"]})})]},p.id)})})]})}),N.length===0&&a.jsx("p",{className:"text-sm text-white/20 text-center py-8",children:"No students yet"})]}),d==="questions"&&a.jsxs(H.div,{variants:M,className:"space-y-3",children:[a.jsx("p",{className:"text-sm text-white/40",children:"Questions with less than 50% success rate  consider reviewing these topics with students."}),v.length===0?a.jsxs("div",{className:"glass-card p-12 text-center",children:[a.jsx(Rt,{size:40,className:"text-neon-green/20 mx-auto mb-3"}),a.jsx("p",{className:"text-white/30 text-sm",children:"No problematic questions found!"})]}):v.map((p,w)=>a.jsx("div",{className:"glass-card p-4 border-l-4 border-l-red-500",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-500/10 border border-red-500/20 flex items-center justify-center shrink-0",children:a.jsxs("span",{className:"text-red-400 font-bold text-sm",children:[p.successRate,"%"]})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-white/80 font-medium mb-1",children:p.question}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("span",{className:"text-[10px] text-white/30",children:["From: ",p.assignmentTitle]}),a.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-white/[0.03] text-white/20 capitalize",children:p.type}),a.jsxs("span",{className:"text-[10px] text-red-400",children:[p.correct,"/",p.total," correct"]})]})]}),a.jsx("div",{className:"w-20 h-2 rounded-full bg-white/[0.06] overflow-hidden shrink-0 mt-2",children:a.jsx("div",{className:"h-full rounded-full bg-red-500",style:{width:`${p.successRate}%`}})})]})},w))]})]})]})}function _s(t){const e=[...t];for(let n=e.length-1;n>0;n--){const s=Math.floor(Math.random()*(n+1));[e[n],e[s]]=[e[s],e[n]]}return e}function wF(t){let e=_s(t.split("")).join("");for(;e===t&&t.length>1;)e=_s(t.split("")).join("");return e}function _F({front:t,back:e,flipped:n,onFlip:s}){return a.jsx("div",{className:"perspective-1000 w-full max-w-lg mx-auto cursor-pointer",onClick:s,style:{perspective:"1000px"},children:a.jsxs(H.div,{className:"relative w-full aspect-[3/2] sm:aspect-[16/9]",animate:{rotateY:n?180:0},transition:{duration:.5,type:"spring",stiffness:200,damping:25},style:{transformStyle:"preserve-3d"},children:[a.jsxs("div",{className:"absolute inset-0 glass-card p-6 sm:p-8 flex flex-col items-center justify-center text-center backface-hidden",style:{backfaceVisibility:"hidden"},children:[a.jsx("div",{className:"absolute top-3 right-3 text-[10px] text-white/20 uppercase tracking-widest",children:"Question"}),a.jsx("p",{className:"text-lg sm:text-xl font-display font-bold text-white leading-relaxed",children:t}),a.jsx("p",{className:"text-[10px] text-white/20 mt-4",children:"Tap to reveal answer"})]}),a.jsxs("div",{className:"absolute inset-0 glass-card p-6 sm:p-8 flex flex-col items-center justify-center text-center bg-gradient-to-br from-neon-green/[0.03] to-neon-blue/[0.03] border-neon-green/20",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:[a.jsx("div",{className:"absolute top-3 right-3 text-[10px] text-neon-green/40 uppercase tracking-widest",children:"Answer"}),a.jsx("p",{className:"text-lg sm:text-xl font-display font-bold text-neon-green leading-relaxed",children:e}),a.jsx("p",{className:"text-[10px] text-white/20 mt-4",children:"Tap to flip back"})]})]})})}function NF({items:t,correctOrder:e,onComplete:n}){const[s,i]=I.useState(()=>_s(t)),[r,o]=I.useState(null),[l,c]=I.useState(!1),[d,h]=I.useState(!1),f=j=>o(j),m=(j,N)=>{if(j.preventDefault(),r===null||r===N)return;const x=[...s],[v]=x.splice(r,1);x.splice(N,0,v),i(x),o(N)},y=()=>o(null),S=()=>{const j=JSON.stringify(s)===JSON.stringify(e);h(j),c(!0),n==null||n(j)},R=()=>{i(_s(t)),c(!1),h(!1)};return a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-xs text-white/40 mb-2",children:"Drag items into the correct order:"}),a.jsx("div",{className:"space-y-2",children:s.map((j,N)=>a.jsxs(H.div,{draggable:!0,onDragStart:()=>f(N),onDragOver:x=>m(x,N),onDragEnd:y,layout:!0,className:`flex items-center gap-3 p-3 rounded-xl border cursor-grab active:cursor-grabbing transition-all ${l&&d?"bg-neon-green/5 border-neon-green/20":l&&!d?"bg-red-500/5 border-red-500/20":r===N?"bg-neon-blue/10 border-neon-blue/30 scale-[1.02]":"bg-white/[0.02] border-white/[0.06] hover:border-white/10"}`,children:[a.jsx(n4,{size:14,className:"text-white/20 shrink-0"}),a.jsx("span",{className:"text-xs font-bold text-neon-blue w-5",children:N+1}),a.jsx("span",{className:"text-sm text-white/80 flex-1",children:j})]},`${j}-${N}`))}),a.jsx("div",{className:"flex gap-2",children:l?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-bold ${d?"bg-neon-green/10 text-neon-green":"bg-red-500/10 text-red-400"}`,children:d?a.jsxs(a.Fragment,{children:[a.jsx(Rt,{size:14})," Correct!"]}):a.jsxs(a.Fragment,{children:[a.jsx(su,{size:14})," Incorrect"]})}),a.jsxs("button",{onClick:R,className:"btn-ghost text-sm px-3 py-2 flex items-center gap-2",children:[a.jsx(Ls,{size:14})," Retry"]})]}):a.jsxs("button",{onClick:S,className:"btn-neon text-sm px-4 py-2 flex items-center gap-2",children:[a.jsx(Rt,{size:14})," Check"]})})]})}function SF({sentence:t,answer:e,onComplete:n}){const[s,i]=I.useState(""),[r,o]=I.useState(!1),l=s.trim().toLowerCase()===e.trim().toLowerCase(),c=()=>{o(!0),n==null||n(l)};return a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-sm text-white/80 leading-relaxed",children:t.split("___").map((d,h,f)=>a.jsxs("span",{children:[d,h<f.length-1&&a.jsx("span",{className:"inline-block mx-1 px-3 py-0.5 rounded-lg bg-neon-blue/10 border border-neon-blue/20 min-w-[80px] text-center",children:r?a.jsx("span",{className:l?"text-neon-green font-bold":"text-red-400 font-bold",children:s||"..."}):a.jsx("input",{value:s,onChange:m=>i(m.target.value),onKeyDown:m=>m.key==="Enter"&&c(),className:"bg-transparent border-none text-sm text-neon-blue text-center w-full focus:ring-0 p-0",placeholder:"type here"})})]},h))}),r&&!l&&a.jsxs("p",{className:"text-xs text-neon-green/60",children:["Correct: ",a.jsx("span",{className:"font-bold text-neon-green",children:e})]}),a.jsx("div",{className:"flex gap-2",children:r?a.jsxs("button",{onClick:()=>{i(""),o(!1)},className:"btn-ghost text-sm px-3 py-2 flex items-center gap-2",children:[a.jsx(Ls,{size:14})," Again"]}):a.jsx("button",{onClick:c,className:"btn-neon text-sm px-4 py-2",disabled:!s.trim(),children:"Check"})})]})}function TF({word:t,hint:e,onComplete:n}){const[s]=I.useState(()=>wF(t.toUpperCase())),[i,r]=I.useState(""),[o,l]=I.useState(!1),c=i.trim().toLowerCase()===t.trim().toLowerCase();return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:s.split("").map((d,h)=>a.jsx(H.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:h*.05},className:"w-10 h-10 rounded-xl bg-gradient-to-br from-neon-purple/20 to-fuchsia-500/20 border border-neon-purple/30 flex items-center justify-center text-lg font-bold text-white shadow-lg",children:d},h))}),e&&a.jsxs("p",{className:"text-xs text-white/30 text-center italic",children:["Hint: ",e]}),a.jsx("input",{value:i,onChange:d=>r(d.target.value),onKeyDown:d=>d.key==="Enter"&&!o&&l(!0),placeholder:"Unscramble the word...",className:"input-glass text-center text-sm"}),o&&a.jsx("div",{className:`text-center text-sm font-bold ${c?"text-neon-green":"text-red-400"}`,children:c?" Correct!":` The answer is: ${t}`}),a.jsx("div",{className:"flex justify-center gap-2",children:o?a.jsxs("button",{onClick:()=>{r(""),l(!1)},className:"btn-ghost text-sm px-3 py-2 flex items-center gap-2",children:[a.jsx(Ls,{size:14})," Retry"]}):a.jsx("button",{onClick:()=>l(!0),className:"btn-neon text-sm px-4 py-2",disabled:!i.trim(),children:"Check"})})]})}function EF({correctSentence:t,onComplete:e}){const n=t.split(" "),[s,i]=I.useState(()=>_s(n)),[r,o]=I.useState([]),[l,c]=I.useState(!1),d=r.join(" ").toLowerCase()===t.toLowerCase(),h=(y,S)=>{o([...r,y]),i(s.filter((R,j)=>j!==S))},f=(y,S)=>{i([...s,y]),o(r.filter((R,j)=>j!==S))},m=()=>{i(_s(n)),o([]),c(!1)};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"min-h-[48px] p-3 rounded-xl border border-dashed border-white/10 bg-white/[0.01] flex flex-wrap gap-2",children:[r.length===0&&a.jsx("span",{className:"text-xs text-white/20 italic",children:"Tap words below to build the sentence..."}),r.map((y,S)=>a.jsx(H.button,{layout:!0,initial:{scale:0},animate:{scale:1},onClick:()=>!l&&f(y,S),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${l?d?"bg-neon-green/10 text-neon-green border border-neon-green/20":"bg-red-500/10 text-red-400 border border-red-500/20":"bg-neon-blue/10 text-neon-blue border border-neon-blue/20 hover:bg-neon-blue/20 cursor-pointer"}`,children:y},`s-${S}`))]}),a.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:s.map((y,S)=>a.jsx(H.button,{layout:!0,onClick:()=>!l&&h(y,S),className:"px-3 py-1.5 rounded-lg text-xs font-medium bg-white/[0.04] border border-white/[0.08] text-white/60 hover:text-white hover:border-neon-blue/30 hover:bg-neon-blue/5 transition-all cursor-pointer",children:y},`a-${S}`))}),l&&!d&&a.jsxs("p",{className:"text-xs text-neon-green/60 text-center",children:["Correct: ",a.jsx("span",{className:"font-bold text-neon-green",children:t})]}),a.jsx("div",{className:"flex justify-center gap-2",children:l?a.jsxs("button",{onClick:m,className:"btn-ghost text-sm px-3 py-2 flex items-center gap-2",children:[a.jsx(Ls,{size:14})," Retry"]}):a.jsxs("button",{onClick:()=>{c(!0),e==null||e(d)},className:"btn-neon text-sm px-4 py-2",disabled:s.length>0,children:[a.jsx(Rt,{size:14,className:"mr-1"})," Check"]})})]})}function AF({pairs:t,onComplete:e}){const n=t.map(R=>R.left),[s]=I.useState(()=>_s(t.map(R=>R.right))),[i,r]=I.useState(null),[o,l]=I.useState({}),[c,d]=I.useState(!1),h=R=>{i===null||c||(l(j=>({...j,[i]:R})),r(null))},f=Object.keys(o).length===n.length,m=()=>{d(!0);const R=n.every((j,N)=>o[N]===t[N].right);e==null||e(R)},y=()=>{l({}),d(!1),r(null)},S=Object.values(o);return a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-white/40",children:"Tap a left item, then tap its match on the right."}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx("div",{className:"space-y-2",children:n.map((R,j)=>{const N=o[j],x=c&&N===t[j].right,v=c&&N&&N!==t[j].right;return a.jsxs("button",{onClick:()=>!c&&r(j),className:`w-full text-left p-3 rounded-xl border text-xs transition-all ${i===j?"bg-neon-blue/10 border-neon-blue/30 text-neon-blue":x?"bg-neon-green/10 border-neon-green/20 text-neon-green":v?"bg-red-500/10 border-red-500/20 text-red-400":N?"bg-white/[0.04] border-white/10 text-white/60":"bg-white/[0.02] border-white/[0.06] text-white/50 hover:border-white/15"}`,children:[a.jsxs("span",{className:"font-bold mr-1",children:[j+1,"."]})," ",R," ",N&&a.jsxs("span",{className:"text-[10px] float-right opacity-60",children:[" ",N]})]},j)})}),a.jsx("div",{className:"space-y-2",children:s.map((R,j)=>a.jsx("button",{onClick:()=>h(R),disabled:S.includes(R)||c,className:`w-full text-left p-3 rounded-xl border text-xs transition-all ${S.includes(R)?"bg-white/[0.02] border-white/5 text-white/20 opacity-40":"bg-white/[0.02] border-white/[0.06] text-white/50 hover:border-neon-purple/30 hover:text-neon-purple cursor-pointer"}`,children:R},j))})]}),a.jsx("div",{className:"flex gap-2",children:c?a.jsxs("button",{onClick:y,className:"btn-ghost text-sm px-3 py-2 flex items-center gap-2",children:[a.jsx(Ls,{size:14})," Retry"]}):a.jsx("button",{onClick:m,className:"btn-neon text-sm px-4 py-2",disabled:!f,children:"Check Matches"})})]})}function jF({categories:t,onComplete:e}){const n=I.useMemo(()=>_s(t.flatMap((S,R)=>S.items.map(j=>({item:j,catIdx:R})))),[]),[s,i]=I.useState(n),[r,o]=I.useState(()=>t.map(()=>[])),[l,c]=I.useState(!1),d=(S,R)=>{i(j=>j.filter(N=>N!==R)),o(j=>j.map((N,x)=>x===S?[...N,R]:N))},h=(S,R)=>{const j=r[S][R];o(N=>N.map((x,v)=>v===S?x.filter((E,M)=>M!==R):x)),i(N=>[...N,j])},f=s.length===0,m=()=>{c(!0);const S=r.every((R,j)=>R.every(N=>N.catIdx===j));e==null||e(S)},y=()=>{i(_s(n)),o(t.map(()=>[])),c(!1)};return a.jsxs("div",{className:"space-y-4",children:[s.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 p-3 rounded-xl bg-white/[0.01] border border-dashed border-white/10 min-h-[40px]",children:s.map((S,R)=>a.jsx("span",{className:"px-3 py-1 rounded-lg text-xs font-medium bg-neon-blue/10 text-neon-blue border border-neon-blue/20 cursor-pointer hover:bg-neon-blue/20 transition-all",children:S.item},R))}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:t.map((S,R)=>a.jsxs("div",{className:`p-3 rounded-xl border min-h-[80px] transition-all ${l?r[R].every(j=>j.catIdx===R)?"border-neon-green/20 bg-neon-green/[0.02]":"border-red-500/20 bg-red-500/[0.02]":"border-white/[0.08] bg-white/[0.02]"}`,children:[a.jsx("p",{className:"text-xs font-bold text-neon-purple mb-2",children:S.name}),a.jsx("div",{className:"flex flex-wrap gap-1.5 min-h-[30px]",children:r[R].map((j,N)=>a.jsx("button",{onClick:()=>!l&&h(R,N),className:"px-2 py-0.5 rounded text-[10px] bg-white/5 border border-white/10 text-white/60 hover:text-red-400 transition-all",children:j.item},N))}),!l&&s.length>0&&a.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:s.map((j,N)=>a.jsxs("button",{onClick:()=>d(R,j),className:"text-[10px] px-2 py-0.5 rounded bg-neon-purple/10 text-neon-purple border border-neon-purple/20 hover:bg-neon-purple/20 transition-all",children:["+ ",j.item]},N))})]},R))}),a.jsx("div",{className:"flex gap-2",children:l?a.jsxs("button",{onClick:y,className:"btn-ghost text-sm px-3 py-2 flex items-center gap-2",children:[a.jsx(Ls,{size:14})," Retry"]}):a.jsx("button",{onClick:m,className:"btn-neon text-sm px-4 py-2",disabled:!f,children:"Check"})})]})}function CF({errorSentence:t,correctText:e,onComplete:n}){const[s,i]=I.useState(""),[r,o]=I.useState(!1),l=s.trim().toLowerCase()===e.trim().toLowerCase();return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 rounded-xl bg-red-500/5 border border-red-500/20",children:[a.jsx("p",{className:"text-xs text-red-400/60 uppercase tracking-wider font-bold mb-1",children:" Sentence with error:"}),a.jsx("p",{className:"text-sm text-white/80 font-medium",children:t})]}),a.jsx("input",{value:s,onChange:c=>i(c.target.value),onKeyDown:c=>c.key==="Enter"&&!r&&o(!0),placeholder:"Type the corrected sentence...",className:"input-glass text-sm"}),r&&a.jsx("div",{className:`p-3 rounded-xl text-sm font-bold ${l?"bg-neon-green/10 text-neon-green border border-neon-green/20":"bg-red-500/10 text-red-400 border border-red-500/20"}`,children:l?" Perfect!":a.jsxs(a.Fragment,{children:[a.jsx("span",{children:" Correct answer: "}),a.jsx("span",{className:"text-neon-green",children:e})]})}),a.jsx("div",{className:"flex gap-2",children:r?a.jsxs("button",{onClick:()=>{i(""),o(!1)},className:"btn-ghost text-sm px-3 py-2 flex items-center gap-2",children:[a.jsx(Ls,{size:14})," Retry"]}):a.jsx("button",{onClick:()=>{o(!0),n==null||n(l)},className:"btn-neon text-sm px-4 py-2",disabled:!s.trim(),children:"Check"})})]})}function RF({sourceText:t,correctText:e,onComplete:n}){const[s,i]=I.useState(""),[r,o]=I.useState(!1),l=s.trim().toLowerCase()===e.trim().toLowerCase();return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 rounded-xl bg-neon-blue/5 border border-neon-blue/20",children:[a.jsx("p",{className:"text-xs text-neon-blue/60 uppercase tracking-wider font-bold mb-1",children:" Translate:"}),a.jsx("p",{className:"text-sm text-white/80 font-medium",children:t})]}),a.jsx("input",{value:s,onChange:c=>i(c.target.value),onKeyDown:c=>c.key==="Enter"&&!r&&o(!0),placeholder:"Your translation...",className:"input-glass text-sm"}),r&&a.jsx("div",{className:`p-3 rounded-xl text-sm font-bold ${l?"bg-neon-green/10 text-neon-green border border-neon-green/20":"bg-red-500/10 text-red-400 border border-red-500/20"}`,children:l?" Perfect translation!":a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"Correct: "}),a.jsx("span",{className:"text-neon-green",children:e})]})}),a.jsx("div",{className:"flex gap-2",children:r?a.jsxs("button",{onClick:()=>{i(""),o(!1)},className:"btn-ghost text-sm px-3 py-2 flex items-center gap-2",children:[a.jsx(Ls,{size:14})," Retry"]}):a.jsx("button",{onClick:()=>{o(!0),n==null||n(l)},className:"btn-neon text-sm px-4 py-2",disabled:!s.trim(),children:"Check"})})]})}const Ip={drag:{label:"Reorder",color:"neon-purple",icon:n4},fill:{label:"Fill Blank",color:"neon-blue",icon:d4},scramble:{label:"Word Scramble",color:"neon-orange",icon:nm},sentence:{label:"Sentence Builder",color:"neon-pink",icon:s4},matching:{label:"Matching",color:"neon-green",icon:G7},categorize:{label:"Categorize",color:"cyan-400",icon:na},"error-correction":{label:"Error Fix",color:"red-400",icon:Si},translation:{label:"Translation",color:"amber-400",icon:B7}};function IF(){const{userProfile:t}=ot(),{classes:e,assignments:n}=hn(),s=t==null?void 0:t.uid,[i,r]=I.useState(null),[o,l]=I.useState("all"),[c,d]=I.useState(0),[h,f]=I.useState(!1),[m,y]=I.useState({}),[S,R]=I.useState(!1),[j,N]=I.useState({correct:0,total:0}),[x,v]=I.useState(0),E=e.filter(P=>{var V;return(V=P.students)==null?void 0:V.includes(s)}),M=E.map(P=>P.id),L=I.useMemo(()=>{const P=o==="all"?n.filter(z=>M.includes(z.classId)):n.filter(z=>z.classId===o),V=[];return P.forEach(z=>{(z.questions||[]).forEach(U=>{V.push({...U,assignmentTitle:z.title,classId:z.classId})})}),V},[n,o,M]),T=I.useMemo(()=>L.filter(P=>["multiple-choice","true-false","fill-in-blank","word-scramble","translation"].includes(P.type)).map(P=>{var V;return{front:P.type==="translation"&&P.sourceText||P.text,back:P.type==="fill-in-blank"||P.type==="word-scramble"||P.type==="translation"?P.correctText:((V=P.options)==null?void 0:V[P.correctAnswer])||"N/A",id:P.id}}),[L]),p=I.useMemo(()=>{const P=L.filter(V=>V.type==="multiple-choice"||V.type==="true-false");return _s(P).slice(0,10)},[L,i]),w=I.useMemo(()=>{const P=[];return L.forEach(V=>{var z,U,ee;if(V.type==="ordering"&&((z=V.items)==null?void 0:z.length)>=2&&P.push({type:"drag",question:V.text,items:V.items,correctOrder:V.items,id:V.id}),V.type==="fill-in-blank"&&V.correctText){const $=V.text.includes("___")?V.text:V.text+" ___";P.push({type:"fill",question:V.text,sentence:$,answer:V.correctText,id:V.id})}V.type==="word-scramble"&&V.correctText&&P.push({type:"scramble",question:V.text,word:V.correctText,id:V.id}),V.type==="sentence-builder"&&V.correctSentence&&P.push({type:"sentence",question:V.text,correctSentence:V.correctSentence,id:V.id}),V.type==="matching"&&((U=V.pairs)==null?void 0:U.length)>=2&&P.push({type:"matching",question:V.text,pairs:V.pairs,id:V.id}),V.type==="categorize"&&((ee=V.categories)==null?void 0:ee.length)>=2&&P.push({type:"categorize",question:V.text,categories:V.categories,id:V.id}),V.type==="error-correction"&&V.errorSentence&&V.correctText&&P.push({type:"error-correction",question:V.text,errorSentence:V.errorSentence,correctText:V.correctText,id:V.id}),V.type==="translation"&&V.sourceText&&V.correctText&&P.push({type:"translation",question:V.text,sourceText:V.sourceText,correctText:V.correctText,id:V.id})}),_s(P)},[L,i]),A=(P,V)=>{S||y(z=>({...z,[P]:V}))},k=()=>{let P=0;p.forEach((V,z)=>{var U;m[z]===((U=V.options)==null?void 0:U[V.correctAnswer])&&P++}),N({correct:P,total:p.length}),R(!0)},C=()=>{y({}),R(!1),N({correct:0,total:0})},b={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.06}}},O={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};if(!i)return a.jsxs("div",{className:"min-h-screen pb-20",children:[a.jsx(Mt,{title:"Practice Mode",subtitle:"Study without pressure  no grades!"}),a.jsxs(H.div,{variants:b,initial:"hidden",animate:"show",className:"p-4 sm:p-6 max-w-5xl mx-auto space-y-6",children:[a.jsxs(H.div,{variants:O,className:"flex gap-2 overflow-x-auto pb-2",children:[a.jsx("button",{onClick:()=>l("all"),className:`px-3 py-1.5 rounded-lg text-xs font-semibold whitespace-nowrap transition-all ${o==="all"?"bg-neon-blue/10 text-neon-blue border border-neon-blue/20":"bg-white/[0.02] text-white/40 border border-white/[0.06]"}`,children:"All Classes"}),E.map(P=>a.jsx("button",{onClick:()=>l(P.id),className:`px-3 py-1.5 rounded-lg text-xs font-semibold whitespace-nowrap transition-all ${o===P.id?"bg-neon-blue/10 text-neon-blue border border-neon-blue/20":"bg-white/[0.02] text-white/40 border border-white/[0.06]"}`,children:P.name},P.id))]}),a.jsxs(H.div,{variants:O,className:"glass-card p-4 flex items-center gap-6 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(S2,{size:18,className:"text-neon-purple"}),a.jsxs("span",{className:"text-sm text-white/60",children:[a.jsx("span",{className:"text-white font-bold",children:L.length})," questions"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jt,{size:16,className:"text-neon-blue"}),a.jsxs("span",{className:"text-sm text-white/60",children:[a.jsx("span",{className:"text-white font-bold",children:T.length})," flashcards"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(na,{size:16,className:"text-neon-green"}),a.jsxs("span",{className:"text-sm text-white/60",children:[a.jsx("span",{className:"text-white font-bold",children:w.length})," exercises"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(au,{size:16,className:"text-neon-orange"}),a.jsxs("span",{className:"text-sm text-white/60",children:[a.jsx("span",{className:"text-white font-bold",children:"12"})," types"]})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{id:"flashcards",icon:jt,title:"Flashcards",desc:"Flip cards to memorize questions and answers.",color:"neon-blue",gradient:"from-neon-blue to-cyan-400",count:T.length,disabled:T.length===0},{id:"quiz",icon:au,title:"Practice Quiz",desc:"Random quiz  no grades! MC & True/False.",color:"neon-green",gradient:"from-neon-green to-emerald-400",count:p.length,disabled:p.length===0},{id:"exercises",icon:na,title:"Exercises",desc:"Drag, match, scramble, build, translate & more!",color:"neon-purple",gradient:"from-neon-purple to-fuchsia-400",count:w.length,disabled:w.length===0}].map(P=>a.jsxs(H.button,{variants:O,onClick:()=>!P.disabled&&r(P.id),disabled:P.disabled,className:`glass-card p-6 text-left group hover:scale-[1.03] transition-all relative overflow-hidden ${P.disabled?"opacity-40 cursor-not-allowed":"cursor-pointer"}`,children:[a.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${P.gradient} opacity-0 group-hover:opacity-5 transition-opacity`}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:`w-14 h-14 rounded-2xl bg-gradient-to-br ${P.gradient} flex items-center justify-center mb-4 shadow-lg`,children:a.jsx(P.icon,{size:24,className:"text-white"})}),a.jsx("h3",{className:"text-lg font-display font-bold text-white mb-1",children:P.title}),a.jsx("p",{className:"text-xs text-white/40 leading-relaxed mb-3",children:P.desc}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:`text-[10px] px-2 py-0.5 rounded-full bg-${P.color}/10 text-${P.color} border border-${P.color}/20 font-bold`,children:[P.count," items"]}),!P.disabled&&a.jsx(b0,{size:16,className:`text-${P.color} opacity-0 group-hover:opacity-100 transition-opacity`})]})]})]},P.id))}),w.length>0&&a.jsxs(H.div,{variants:O,className:"glass-card p-4",children:[a.jsx("p",{className:"text-xs text-white/40 uppercase tracking-wider font-bold mb-3",children:"Available Exercise Types"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(Ip).map(([P,V])=>{const z=w.filter(U=>U.type===P).length;return z===0?null:a.jsxs("span",{className:`text-[10px] px-2.5 py-1 rounded-lg bg-${V.color}/10 text-${V.color} border border-${V.color}/20 font-bold flex items-center gap-1`,children:[a.jsx(V.icon,{size:10})," ",V.label," (",z,")"]},P)})})]}),L.length===0&&a.jsxs(H.div,{variants:O,className:"glass-card p-12 text-center",children:[a.jsx(S2,{size:48,className:"text-white/10 mx-auto mb-3"}),a.jsx("p",{className:"text-white/30 text-sm",children:"No questions available yet."}),a.jsx("p",{className:"text-white/20 text-[10px] mt-1",children:"Questions from your assignments will appear here for practice."})]})]})]});if(i==="flashcards"){const P=T[c]||{front:"No cards",back:""};return a.jsxs("div",{className:"min-h-screen pb-20",children:[a.jsx(Mt,{title:"Flashcards",subtitle:`${c+1} of ${T.length}`,actions:a.jsxs("button",{onClick:()=>{r(null),d(0),f(!1)},className:"btn-ghost flex items-center gap-2 text-sm px-3 py-2",children:[a.jsx(Wr,{size:16})," Back"]})}),a.jsxs(H.div,{variants:b,initial:"hidden",animate:"show",className:"p-4 sm:p-6 max-w-3xl mx-auto space-y-6",children:[a.jsxs(H.div,{variants:O,className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-1 h-1.5 rounded-full bg-white/[0.06] overflow-hidden",children:a.jsx(H.div,{className:"h-full rounded-full bg-gradient-to-r from-neon-blue to-neon-purple",animate:{width:`${(c+1)/T.length*100}%`},transition:{duration:.3}})}),a.jsxs("span",{className:"text-[10px] text-white/30 font-mono",children:[c+1,"/",T.length]})]}),a.jsx(H.div,{variants:O,children:a.jsx(_F,{front:P.front,back:P.back,flipped:h,onFlip:()=>f(!h)})}),a.jsxs(H.div,{variants:O,className:"flex items-center justify-center gap-3",children:[a.jsx("button",{onClick:()=>{d(Math.max(0,c-1)),f(!1)},disabled:c===0,className:"w-12 h-12 rounded-xl bg-white/[0.04] border border-white/10 flex items-center justify-center text-white/50 hover:text-white hover:border-neon-blue/30 transition-all disabled:opacity-30",children:a.jsx(Wr,{size:20})}),a.jsxs("button",{onClick:()=>f(!h),className:"px-6 py-3 rounded-xl bg-neon-blue/10 border border-neon-blue/20 text-neon-blue text-sm font-bold hover:bg-neon-blue/20 transition-all flex items-center gap-2",children:[a.jsx(Ls,{size:14})," Flip"]}),a.jsx("button",{onClick:()=>{d(0),f(!1)},className:"px-4 py-3 rounded-xl bg-white/[0.04] border border-white/10 text-white/50 text-sm hover:text-white transition-all flex items-center gap-2",children:a.jsx(nm,{size:14})}),a.jsx("button",{onClick:()=>{d(Math.min(T.length-1,c+1)),f(!1)},disabled:c===T.length-1,className:"w-12 h-12 rounded-xl bg-white/[0.04] border border-white/10 flex items-center justify-center text-white/50 hover:text-white hover:border-neon-blue/30 transition-all disabled:opacity-30",children:a.jsx(nu,{size:20})})]}),a.jsx("p",{className:"text-center text-[10px] text-white/15",children:"Tip: Use arrow keys to navigate, space to flip"})]})]})}if(i==="quiz")return a.jsxs("div",{className:"min-h-screen pb-20",children:[a.jsx(Mt,{title:"Practice Quiz",subtitle:S?`Score: ${j.correct}/${j.total}`:`${Object.keys(m).length}/${p.length} answered`,actions:a.jsxs("button",{onClick:()=>{r(null),C()},className:"btn-ghost flex items-center gap-2 text-sm px-3 py-2",children:[a.jsx(Wr,{size:16})," Back"]})}),a.jsxs(H.div,{variants:b,initial:"hidden",animate:"show",className:"p-4 sm:p-6 max-w-3xl mx-auto space-y-4",children:[a.jsxs(H.div,{variants:O,className:"glass-card p-3 border-l-4 border-l-neon-green bg-neon-green/[0.02] flex items-center gap-3",children:[a.jsx(ru,{size:16,className:"text-neon-green shrink-0"}),a.jsxs("p",{className:"text-xs text-white/50",children:["Practice mode  ",a.jsx("span",{className:"text-neon-green font-bold",children:"no grades recorded"}),". Learn freely!"]})]}),S&&a.jsxs(H.div,{variants:O,className:"glass-card p-8 text-center space-y-4",children:[a.jsx("div",{className:`w-20 h-20 rounded-2xl mx-auto flex items-center justify-center ${j.correct/j.total>=.7?"bg-neon-green/10 border border-neon-green/20":"bg-neon-orange/10 border border-neon-orange/20"}`,children:j.correct/j.total>=.7?a.jsx(Pu,{size:36,className:"text-neon-green"}):a.jsx(na,{size:36,className:"text-neon-orange"})}),a.jsx("h2",{className:"text-2xl font-display font-bold text-white",children:"Practice Complete!"}),a.jsxs("p",{className:"text-4xl font-display font-black text-neon-blue",children:[j.correct,"/",j.total]}),a.jsxs("p",{className:"text-sm text-white/40",children:[Math.round(j.correct/j.total*100),"% correct"]}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsxs("button",{onClick:C,className:"btn-neon text-sm px-5 py-2.5 flex items-center gap-2",children:[a.jsx(Ls,{size:14})," Try Again"]}),a.jsx("button",{onClick:()=>{r(null),C()},className:"btn-ghost text-sm px-5 py-2.5",children:"Back to Menu"})]})]}),a.jsx("div",{className:"space-y-4",children:p.map((P,V)=>{var $;const z=m[V],U=($=P.options)==null?void 0:$[P.correctAnswer],ee=z===U;return a.jsxs(H.div,{variants:O,className:`glass-card p-4 sm:p-5 transition-all ${S?ee?"border-neon-green/20 bg-neon-green/[0.02]":"border-red-500/20 bg-red-500/[0.02]":z?"border-neon-blue/10":""}`,children:[a.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[a.jsx("span",{className:"text-xs font-bold text-neon-blue bg-neon-blue/10 border border-neon-blue/20 w-7 h-7 rounded-lg flex items-center justify-center shrink-0",children:V+1}),a.jsx("p",{className:"text-sm text-white/80 font-medium flex-1",children:P.text}),S&&(ee?a.jsx(Rt,{size:18,className:"text-neon-green shrink-0"}):a.jsx(su,{size:18,className:"text-red-400 shrink-0"}))]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 pl-10",children:(P.options||[]).map((W,we)=>{const ue=z===W,ye=W===U;let J="bg-white/[0.02] border-white/[0.06] text-white/60 hover:border-white/15 hover:bg-white/[0.04]";return S?ye?J="bg-neon-green/10 border-neon-green/30 text-neon-green":ue&&!ye?J="bg-red-500/10 border-red-500/30 text-red-400":J="bg-white/[0.01] border-white/[0.04] text-white/30":ue&&(J="bg-neon-blue/10 border-neon-blue/30 text-neon-blue"),a.jsxs("button",{onClick:()=>A(V,W),disabled:S,className:`text-left p-3 rounded-xl border text-sm transition-all ${J}`,children:[a.jsxs("span",{className:"font-bold mr-2",children:[String.fromCharCode(65+we),"."]})," ",W]},we)})})]},P.id||V)})}),!S&&p.length>0&&a.jsx(H.div,{variants:O,className:"flex justify-center pt-4",children:a.jsxs("button",{onClick:k,className:"btn-neon text-sm px-8 py-3 flex items-center gap-2",disabled:Object.keys(m).length<p.length,children:[a.jsx(Rt,{size:16})," Check Answers (",Object.keys(m).length,"/",p.length,")"]})})]})]});if(i==="exercises"){const P=w[c],V=P?Ip[P.type]||Ip.fill:null;return a.jsxs("div",{className:"min-h-screen pb-20",children:[a.jsx(Mt,{title:"Interactive Exercises",subtitle:w.length>0?`${c+1} of ${w.length}`:"No exercises",actions:a.jsxs("button",{onClick:()=>{r(null),d(0)},className:"btn-ghost flex items-center gap-2 text-sm px-3 py-2",children:[a.jsx(Wr,{size:16})," Back"]})}),a.jsxs(H.div,{variants:b,initial:"hidden",animate:"show",className:"p-4 sm:p-6 max-w-3xl mx-auto space-y-6",children:[w.length>0&&a.jsxs(H.div,{variants:O,className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-1 h-1.5 rounded-full bg-white/[0.06] overflow-hidden",children:a.jsx(H.div,{className:"h-full rounded-full bg-gradient-to-r from-neon-purple to-fuchsia-400",animate:{width:`${(c+1)/w.length*100}%`},transition:{duration:.3}})}),a.jsxs("span",{className:"text-[10px] text-white/30 font-mono",children:[c+1,"/",w.length]})]}),P?a.jsxs(H.div,{variants:O,className:"glass-card p-5 sm:p-6",children:[a.jsx("div",{className:"flex items-center gap-2 mb-4",children:V&&a.jsxs("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-bold uppercase bg-${V.color}/10 text-${V.color} border border-${V.color}/20 flex items-center gap-1`,children:[a.jsx(V.icon,{size:10})," ",V.label]})}),a.jsx("h3",{className:"text-sm font-bold text-white mb-4",children:P.question}),P.type==="drag"&&a.jsx(NF,{items:P.items,correctOrder:P.correctOrder}),P.type==="fill"&&a.jsx(SF,{sentence:P.sentence,answer:P.answer}),P.type==="scramble"&&a.jsx(TF,{word:P.word,hint:P.question}),P.type==="sentence"&&a.jsx(EF,{correctSentence:P.correctSentence}),P.type==="matching"&&a.jsx(AF,{pairs:P.pairs}),P.type==="categorize"&&a.jsx(jF,{categories:P.categories}),P.type==="error-correction"&&a.jsx(CF,{errorSentence:P.errorSentence,correctText:P.correctText}),P.type==="translation"&&a.jsx(RF,{sourceText:P.sourceText,correctText:P.correctText})]},`${c}-${x}`):a.jsxs("div",{className:"glass-card p-12 text-center",children:[a.jsx(na,{size:48,className:"text-white/10 mx-auto mb-3"}),a.jsx("p",{className:"text-white/30 text-sm",children:"No exercises available yet."})]}),w.length>0&&a.jsxs(H.div,{variants:O,className:"flex items-center justify-center gap-3",children:[a.jsx("button",{onClick:()=>{d(Math.max(0,c-1)),v(z=>z+1)},disabled:c===0,className:"w-10 h-10 rounded-xl bg-white/[0.04] border border-white/10 flex items-center justify-center text-white/50 hover:text-white transition-all disabled:opacity-30",children:a.jsx(Wr,{size:18})}),a.jsxs("span",{className:"text-sm text-white/40",children:[c+1," / ",w.length]}),a.jsx("button",{onClick:()=>{d(Math.min(w.length-1,c+1)),v(z=>z+1)},disabled:c===w.length-1,className:"w-10 h-10 rounded-xl bg-white/[0.04] border border-white/10 flex items-center justify-center text-white/50 hover:text-white transition-all disabled:opacity-30",children:a.jsx(nu,{size:18})})]})]})]})}return null}function kF(){var R,j,N,x,v;const{userProfile:t,updateUserData:e}=ot(),[n,s]=I.useState((t==null?void 0:t.displayName)||""),[i,r]=I.useState(((R=t==null?void 0:t.preferences)==null?void 0:R.darkMode)!==!1),[o,l]=I.useState(((j=t==null?void 0:t.preferences)==null?void 0:j.notifications)!==!1),[c,d]=I.useState(((N=t==null?void 0:t.preferences)==null?void 0:N.language)||"en"),[h,f]=I.useState(!1),[m,y]=I.useState(null),S=async()=>{f(!0),y(null);try{await e({displayName:n,preferences:{darkMode:i,notifications:o,language:c}}),y({type:"success",message:"Changes saved successfully! "}),setTimeout(()=>y(null),3e3)}catch{y({type:"error",message:"Failed to save changes. Please try again."})}finally{f(!1)}};return a.jsxs("div",{children:[a.jsx(Mt,{title:"Settings",subtitle:"Manage your account and preferences"}),a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 space-y-6 max-w-3xl",children:[m&&a.jsx(H.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:`p-4 rounded-xl border ${m.type==="success"?"bg-neon-green/10 border-neon-green/20 text-neon-green":"bg-red-500/10 border-red-500/20 text-red-500"} text-sm font-medium`,children:m.message}),a.jsxs("div",{className:"glass-card p-6",children:[a.jsxs("h3",{className:"font-display font-semibold text-white mb-5 flex items-center gap-2",children:[a.jsx(h4,{size:18,className:"text-neon-blue"})," Profile"]}),a.jsxs("div",{className:"flex items-center gap-5 mb-6",children:[a.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-neon-blue to-neon-purple flex items-center justify-center text-white text-2xl font-bold",children:((v=(x=t==null?void 0:t.displayName)==null?void 0:x[0])==null?void 0:v.toUpperCase())||"?"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-white",children:t==null?void 0:t.displayName}),a.jsx("p",{className:"text-sm text-white/40",children:t==null?void 0:t.email}),a.jsx("span",{className:"badge-blue mt-2 capitalize",children:t==null?void 0:t.role})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/50 mb-1.5",children:"Display Name"}),a.jsx("input",{value:n,onChange:E=>s(E.target.value),className:"input-glass"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-white/50 mb-1.5",children:"Email"}),a.jsx("input",{value:t==null?void 0:t.email,className:"input-glass",disabled:!0,title:"Email cannot be changed"})]})]})]}),a.jsxs("div",{className:"glass-card p-6",children:[a.jsxs("h3",{className:"font-display font-semibold text-white mb-5 flex items-center gap-2",children:[a.jsx(oB,{size:18,className:"text-neon-purple"})," Preferences"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/[0.02] border border-white/[0.04]",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(rB,{size:18,className:`transition-colors ${i?"text-neon-blue":"text-white/20"}`}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-white",children:"Dark Mode"}),a.jsx("p",{className:"text-xs text-white/40",children:"Use dark theme"})]})]}),a.jsx("button",{onClick:()=>r(!i),className:`w-12 h-7 rounded-full transition-all ${i?"bg-neon-blue":"bg-white/10"} relative`,children:a.jsx("div",{className:`absolute top-1 w-5 h-5 rounded-full bg-white transition-all shadow-lg ${i?"left-6":"left-1"}`})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/[0.02] border border-white/[0.04]",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(tc,{size:18,className:`transition-colors ${o?"text-neon-green":"text-white/20"}`}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-white",children:"Notifications"}),a.jsx("p",{className:"text-xs text-white/40",children:"Email notifications"})]})]}),a.jsx("button",{onClick:()=>l(!o),className:`w-12 h-7 rounded-full transition-all ${o?"bg-neon-green":"bg-white/10"} relative`,children:a.jsx("div",{className:`absolute top-1 w-5 h-5 rounded-full bg-white transition-all shadow-lg ${o?"left-6":"left-1"}`})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/[0.02] border border-white/[0.04]",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(D7,{size:18,className:"text-neon-orange"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-white",children:"Language"}),a.jsx("p",{className:"text-xs text-white/40",children:"Interface language"})]})]}),a.jsxs("select",{value:c,onChange:E=>d(E.target.value),className:"input-glass w-32 text-sm",children:[a.jsx("option",{value:"en",children:"English"}),a.jsx("option",{value:"es",children:"Espaol"}),a.jsx("option",{value:"fr",children:"Franais"})]})]})]})]}),a.jsx("div",{className:"flex justify-end gap-3 pt-4",children:a.jsx("button",{onClick:S,disabled:h,className:`btn-neon px-8 h-12 flex items-center gap-2 ${h?"opacity-50 cursor-not-allowed":""}`,children:h?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):"Save Changes"})})]})]})}function DF({children:t}){const{user:e,loading:n}=ot();return n?a.jsx("div",{className:"min-h-screen bg-surface-950 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 mx-auto rounded-xl bg-gradient-to-br from-neon-blue to-neon-purple animate-pulse mb-4"}),a.jsx("p",{className:"text-white/40 text-sm",children:"Loading..."})]})}):e?t:a.jsx(HT,{to:"/",replace:!0})}function MF(){const{isTeacher:t}=ot();return t?a.jsx(ZB,{}):a.jsx(cF,{})}function OF(){const{isTeacher:t}=ot();return a.jsx(rF,{})}function VF(){const{isTeacher:t}=ot();return t?a.jsx(oF,{}):a.jsx(dF,{})}function PF(){return a.jsx(Lk,{children:a.jsx(UB,{children:a.jsx(dL,{children:a.jsx(fL,{children:a.jsx(FB,{children:a.jsxs(Rk,{children:[a.jsx(Lt,{path:"/",element:a.jsx(qB,{})}),a.jsxs(Lt,{path:"/",element:a.jsx(DF,{children:a.jsx(QB,{})}),children:[a.jsx(Lt,{path:"dashboard",element:a.jsx(MF,{})}),a.jsx(Lt,{path:"classes",element:a.jsx(eF,{})}),a.jsx(Lt,{path:"classes/:id",element:a.jsx(nF,{})}),a.jsx(Lt,{path:"students",element:a.jsx(iF,{})}),a.jsx(Lt,{path:"assignments",element:a.jsx(OF,{})}),a.jsx(Lt,{path:"assignments/:assignmentId",element:a.jsx(hF,{})}),a.jsx(Lt,{path:"grades",element:a.jsx(VF,{})}),a.jsx(Lt,{path:"my-classes",element:a.jsx(uF,{})}),a.jsx(Lt,{path:"calendar",element:a.jsx(mF,{})}),a.jsx(Lt,{path:"achievements",element:a.jsx(gF,{})}),a.jsx(Lt,{path:"practice",element:a.jsx(IF,{})}),a.jsx(Lt,{path:"question-bank",element:a.jsx(xF,{})}),a.jsx(Lt,{path:"reports",element:a.jsx(bF,{})}),a.jsx(Lt,{path:"settings",element:a.jsx(kF,{})})]}),a.jsx(Lt,{path:"*",element:a.jsx(HT,{to:"/",replace:!0})})]})})})})})})}P3.createRoot(document.getElementById("root")).render(a.jsx(U2.StrictMode,{children:a.jsx(PF,{})}));
